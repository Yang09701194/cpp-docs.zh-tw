---
title: 參考:Windows 效能分析器檢視
description: 有關 windows 性能分析器中提供的C++生成見解視圖的參考。
ms.date: 11/03/2019
helpviewer_keywords:
- C++ Build Insights
- throughput analysis
- build time analysis
- vcperf.exe
ms.openlocfilehash: b54b1b76d83b77ec7b8d8d3309d81ed9eb2db2d0
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/14/2020
ms.locfileid: "81323241"
---
# <a name="reference-windows-performance-analyzer-views"></a>參考:Windows 效能分析器檢視

::: moniker range="<=vs-2017"

C++構建見解工具可在 Visual Studio 2019 中使用。 要查看此版本的文檔,請將本文的可視化工作室**版本**選擇器控制項設定為 Visual Studio 2019。 它位於此頁面的目錄頂部。

::: moniker-end
::: moniker range="vs-2019"

本文詳細介紹了 Windows 性能分析器 (WPA) 中提供的每個C++生成見解視圖。 使用此頁面尋找:

- 數據列描述;和
- 每個檢視的可用預設,包括其預期用途和首選查看模式。

如果您是 WPA 的新功能,我們建議您首先熟悉[WPA 的基礎知識,以便C++構建見解](/cpp/build-insights/tutorials/wpa-basics)。

## <a name="build-explorer"></a>Build 總管

產生資源管理員檢視用於:

- 診斷並行性問題,
- 確定您的產生時間是否由分析、程式碼產生或連結主導,以及
- 識別瓶頸和異常長的構建活動。

### <a name="build-explorer-view-data-columns"></a>產生資源管理員檢視資料欄位

| 資料行名稱 | 描述 |
|-|-|
| 產生時間軸描述 | 文字描述當前活動或屬性發生的時間線。 |
| 組建時間軸Id          | 當前活動或屬性所在的時間線的基於零的標識碼。 |
| 元件                | 發出當前事件時正在編譯或連結的元件。 當沒有元件與此事件關聯時,此列的值是*\<「調用 X\>資訊*」。 X 是發出事件時正在執行的呼叫的唯一數位識別碼。 此標識碼與此事件的「呼叫 Id」欄中的識別碼相同。 |
| Count                    | 此數據行表示的活動或屬性數。 此值始終為 1,並且僅在對多個行進行分組時的聚合方案中有用。 |
| 獨家CPU時間         | 此活動使用的 CPU 時間量(以毫秒為單位)。 用於子活動的時間不包括在此金額中。 |
| 獨家持續時間        | 活動的毫秒持續時間。 此金額不包括子活動的持續時間。 |
| 包容性CPU時間         | 此活動和所有子活動使用的 CPU 時間量(以毫秒為單位)。 |
| 包容性持續時間        | 此活動的毫秒持續時間,包括所有子活動。 |
| 呼叫描述    | 呼叫此事件的文本描述發生在。 描述包括它是*cl.exe*還是*link.exe*,以及唯一的數位調用標識符。 如果適用,它包括調用期間編譯或連結的元件的完整路徑。 對於不生成任何元件的調用,或者對於生成多個元件的調用,路徑為空。 呼叫識別碼與「呼叫 Id"欄中的識別碼相同。 |
| 呼叫識別碼             | 呼叫此事件的唯一數字識別符發生在中。 |
| 名稱                     | 此事件表示的活動或屬性的名稱。 |
| Time                     | 標識事件發生時間的時間戳。 |
| 工具                     | 發生此事件時正在執行的工具。 此列的值是 CL 或 Link。 |
| 類型                     | 當前事件的類型。 此值為"活動"或"屬性"。 |
| 值                    | 如果當前事件是屬性,則此列包含其值。 當當前事件是活動時,此列為空。 |

### <a name="build-explorer-view-presets"></a>產生資源管理員檢視預先設定

| 預先設定名稱           | 預設檢視模式 | 使用方式 |
|-----------------------|---------------------|------------|
| 活動統計   | 圖形/表       | 使用此預設可以查看所有生成資源管理器活動的聚合統計資訊。 在表模式下,一目了然地判斷您的生成是否由分析、代碼生成或連結器控制。 每個活動的聚合持續時間按降序排序。 通過展開頂部節點來深入瞭解,以輕鬆查找這些頂級活動佔用最多時間的調用。 如果您願意,可以調整 WPA 設置以顯示平均值或其他類型的聚合。 在圖形模式下,查看生成期間每個活動何時處於活動狀態。 |
| 呼叫           | 圖形               | 向下滾動瀏覽按開始時間排序的圖形檢視中的調用清單。 您可以將它與 CPU(採樣)視圖一起使用,以查找與低 CPU 利用率區域一致的調用。 檢測並行性問題。 |
| 呼叫屬性 | Table               | 快速查找有關給定編譯器或連結器調用的關鍵資訊。 確定其版本、工作目錄或用於調用它的完整命令行。 |
| 時間表             | 圖形               | 查看生成如何並行的條形圖。 一目了然地確定並行問題和瓶頸。 配置 WPA 可根據您的需要為條形分配不同的含義。 選擇調用說明作為最後一個分組列,以查看所有調用的顏色編碼條形圖。 它可以説明您快速識別耗時的罪魁禍首。 然後,放大並選擇活動名稱作為最後一個分組列以查看最長的部分。 |

## <a name="files"></a>檔案

「檔案」檢視用於:

- 確定哪些標頭最常包含,並且
- 幫助您決定在預編譯標頭 (PCH) 中包括哪些內容。

### <a name="files-view-data-columns"></a>檔案檢視資料欄

| 資料行名稱              | 描述 |
|--------------------------|-------------|
| ActivityName             | 發出此檔事件時正在進行的活動。 目前,此值始終是*解析*。 |
| 產生時間軸描述 | * |
| 組建時間軸Id          | * |
| 元件                | * |
| Count                    | * |
| 深度                    | 在中找到此檔的包含樹中的零基位置。 計數從包含樹的根開始。 值 0 通常對應於 .c/.cpp 檔。 |
| 獨家持續時間        | * |
| 包括               | 包含目前檔案的檔案的完整路徑。 |
| 引入路徑             | 當前檔的完整路徑。 |
| 包容性持續時間        | * |
| 呼叫識別碼             | * |
| StartTime                | 表示當前檔事件發出時間的時間戳。 |
| 工具                     | * |

\*此列的值與[生成資源管理器](#build-explorer-view-data-columns)檢視中的值相同。

### <a name="files-view-presets"></a>檔案檢視預先設定

| 預先設定名稱 | 預設檢視模式 | 使用方式 |
|-------------|---------------------|------------|
| 統計資料  | Table               | 以按降序查看清單,查看哪些檔的聚合分析時間最高。 使用此資訊可説明您重組標頭或決定在 PCH 中包括哪些內容。 |

## <a name="functions"></a>函式

函數檢視用於標識代碼生成時間過長的函數。

### <a name="functions-view-data-columns"></a>函式檢視資料欄

| 資料行名稱              | 描述 |
|--------------------------|-------------|
| ActivityName             | 發出此函數事件時正在進行的活動。 目前,這個值始終是*程式碼產生*。 |
| 產生時間軸描述 | * |
| 組建時間軸Id          | * |
| 元件                | * |
| Count                    | * |
| Duration                 | 此函數的代碼生成活動的持續時間。 |
| FunctionName             | 正在進行代碼生成的功能的名稱。 |
| 呼叫識別碼             | * |
| StartTime                | 表示當前函數事件發出時間戳。 |
| 工具                     | * |

\*此列的值與[生成資源管理器](#build-explorer-view-data-columns)檢視中的值相同。

### <a name="functions-view-presets"></a>功能檢視預置

| 預先設定名稱 | 預設檢視模式 | 使用方式 |
|-------------|---------------------|------------|
| 統計資料  | Table               | 通過按降序查看清單,查看哪些函數的聚合代碼生成時間最高。 它們可能會提示代碼在何處過度使用 **__forceinline**關鍵字,或者某些函數可能太大。 |
| 時間表   | 圖形               | 查看此條形圖,瞭解生成時間最多的函數的位置和持續時間。 查看它們是否符合生成資源管理器檢視中的瓶頸。 如果他們這樣做,則採取適當的措施來減少代碼生成時間,並簡化您的生成時間。 |

## <a name="see-also"></a>另請參閱

[開始C++構建見解](/cpp/build-insights/get-started-with-cpp-build-insights)\
[參考: vcperf 指令](vcperf-commands.md)\
[教學:Windows 效能分析器基礎知識](/cpp/build-insights/tutorials/wpa-basics)\
[Windows Performance Analyzer](/windows-hardware/test/wpt/windows-performance-analyzer)

::: moniker-end
