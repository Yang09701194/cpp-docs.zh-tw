---
title: IEEE 浮點表示
ms.date: 11/04/2016
helpviewer_keywords:
- float keyword
- real*8 value
- floating-point numbers, IEEE representation
- double data type, floating-point representation
- IEEE floating point representation
- real*10 value
- long double
- real*4 value
ms.assetid: 537833e8-fe05-49fc-8169-55fd0314b195
ms.openlocfilehash: 69686e7e1c8994b799607eebf7e50387ed688272
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "62188830"
---
# <a name="ieee-floating-point-representation"></a>IEEE 浮點表示

Microsoft VisualC++是與 IEEE 數值標準一致。 IEEE-754 標準描述浮點格式，來代表在硬體中的實際數字的方式。 至少五個內部是由 MSVC 編譯器為目標的硬體中可顯示的浮點數格式，但編譯器只會使用兩個。 *單精確度*（4 個位元組） 和*雙精確度*視覺效果中使用 （8 個位元組） 格式C++。 使用關鍵字來宣告單精確度**浮點數**。 使用關鍵字來宣告雙精度**double**。 IEEE 標準也會指定*半精確度*（2 個位元組） 和*4-tuple 有效位數*（16 個位元組） 格式，以及*雙擴充精確度*（10 個位元組）格式，某些 C 和C++編譯器會實作為**長雙精度**資料類型。 在 MSVC 編譯器**長雙精度**資料類型會被視為不同的類型，但儲存體類型會對應至**double**。 沒有，不過，內建和組件語言支援的計算使用其他格式，包括雙擴充精確度 （10 個位元組） 格式，其中支援的硬體。

值會儲存，如下所示：

|值|儲存為|
|-----------|---------------|
|單精確度|正負號位元，8 位元的指數，23 位元的有效數字|
|double-precision|正負號位元，11 位元的指數，52 位元的有效數字|
|double-extended-precision|正負號位元，15 位元的指數，64 位元的有效數字|

單精確度和雙精確度的格式，擔任前置數字 1 中沒有小數部分，稱為*有效數字*(有時稱為*尾數*)，也就是不會儲存在記憶體，因此尾數的實際 24 或 53 個位元，即使只 23 或 52 個位元會儲存。 雙精度浮點數擴充精確度格式實際儲存此位元。

指數被偏移了其最大值的一半。 這表示您減去此偏差和預存的指數，若要取得實際的指數。 如果預存的指數小於偏差，它會是實際上是負的指數。

指數被偏移了，如下所示：

|指數|有偏差|
|--------------|---------------|
|8 位元 （單精確度）|127|
|11 位元 （雙精確度）|1023|
|15 位元 （雙精度浮點數擴充位有效位數）|16383|

不次方的 10; 這些指數。也就是乘冪。 也就是儲存的 8 位元的指數範圍可以從-127 到 127，儲存為 0 到 254 個。 值 2<sup>127</sup>大致相當於 10<sup>38</sup>，也就是實際的限制的單精確度。

有效數字會儲存為二進位分數的形式 1.XXX...。 此分數的值大於或等於 1 且小於 2。 請注意，實際數字一律會儲存在*正規化表單*; 也就是有效數字是向左移位使得商數的高序位位元一定是 1。 此位元一定是 1，因為它會假設 （未儲存的） 中的單精確度和雙精確度的格式。 二進位 （非十進位） 的點會假設為前置數字 1 的右側。

格式，然後針對各式大小如下所示：

|格式|1 位元組|2 位元組|位元組 3|位元組 4|...|位元組 n|
|------------|------------|------------|------------|------------|---------|------------|
|單精確度| `SXXXXXXX`|`XMMMMMMM`|`MMMMMMMM`|`MMMMMMMM`|||
|double-precision|`SXXXXXXX`|`XXXXMMMM`|`MMMMMMMM`|`MMMMMMMM`|...|`MMMMMMMM`|
|double-extended-precision|`SXXXXXXX`|`XXXXXXXX`|`1MMMMMMM`|`MMMMMMMM`|...|`MMMMMMMM`|

`S` 表示正負號位元`X`的偏誤指數的位元，而`M`的有效位元。 請注意左邊的位元單精確度和雙精確度的格式，會假設，但存在於中 3 位元組雙精度浮點數擴充精確度格式為"1"。

若正確移動的二進位點，請您先必須指數然後向右移動的二進位點或保留適當的位元數目。

## <a name="special-values"></a>特殊值

浮點數的格式包括一些以特殊方式處理的值。

### <a name="zero"></a>零

零無法正規化，因此加減以單精確度或雙精確度值的正規化的形式。 全部為零的特殊的位元模式表示 0。 此外，也可以代表-0 視為使用正負號的零設定位元，但-0 而 0 一律比較為相等。

### <a name="infinities"></a>無限大

+ ∞ 和 −∞ 值都由指數的所有項目] 和 [全部為零的有效數字。 可以使用正負號位元表示正的和負無限大。

### <a name="subnormals"></a>Subnormals

可以表示的數字的較小的大小超過最小正規化的號碼。 這些數字會稱為*subnormal*或是*denormal*數字。 如果指數，是全部為零，有效位數為非零，則隱含的前置位元的有效數字是被視為是零，不是其中。 為有效的前置零的數目會增加，subnormal 的數字的有效位數會停止運作。

### <a name="nan---not-a-number"></a>NaN-不是數字

可代表值不是實際數字，例如 0 / 0，IEEE 浮點格式。 值，以這種稱為*NaN*。 NaN 表示所有項目和非零的有效數字的指數。 有兩種 Nan，*安靜*Nan 或 QNaNs，及*發出訊號*Nan 或 SNaNs。 無訊息 Nan 有前置字元的一個有效，，而且通常會透過運算式進行傳播。 它們代表不定的值，例如除以無限大或無限大的值乘以零的結果。 發訊 Nan 有前置零的有效數字。 這些用於不是有效的以表示浮點硬體例外狀況的作業。

## <a name="examples"></a>範例

以下是一些範例格式為單精確度：

- 值為 2，正負號位元為零，和儲存的指數是 128 或 1000 0000 在二進位檔，這是 127，再加上 1。 預存的二進位有效數字是 (1)。000 0000 0000 0000 0000 0000，具有領先 1 和二進位點，因此實際的有效數字為 1。

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |2|1 * 2<sup>1</sup>|0100 0000 0000 0000 0000 0000 0000 0000|0x40000000|

- 值-2。 與相同 + 2 不同之處在於正負號位元設定。 這是適用於所有 IEEE 浮點數數字格式的負值。

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |-2|-1 * 2<sup>1</sup>|1100 0000 0000 0000 0000 0000 0000 0000|0xC0000000|

- 4 這個值。 相同的有效數字，指數增加一個 （偏的值為 129 或二進位檔中的 100 0000 1。

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |4|1 * 2<sup>2</sup>|0100 0000 1000 0000 0000 0000 0000 0000|0x40800000|

- 值為 6。 相同的指數，有效位數大於一半 — 它 (1)。100 0000 ...0000 0000，因為這是二進位的分數是 1 1/2 因為的小數位數的值是 1/2，1/4，1/8，等等。

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |6|1.5 * 2<sup>2</sup>|0100 0000 1100 0000 0000 0000 0000 0000|0x40C00000|

- 值為 1。 相同的有效數字為其他 2 乘冪的偏誤指數是少於兩個 127，或 011 1111年 1 二進位檔中。

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |1|1 * 2<sup>0</sup>|0011 1111 1000 0000 0000 0000 0000 0000|0x3F800000|

- 值為 0.75。 偏誤的指數為 126 011 1111年 0 中的二進位檔，並有效數字是 (1)。100 0000 ...0000 0000，也就是 1 的 1/2。

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |0.75|1.5 * 2<sup>-1</sup>|0011 1111 0100 0000 0000 0000 0000 0000|0x3F400000|

- 值為 2.5。 完全相同，兩個不同處是，表示 1/4 位元會設定在有效數字。

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |2.5|1.25 * 2<sup>1</sup>|0100 0000 0010 0000 0000 0000 0000 0000|0x40200000|

- 1/10 是二進位檔中的重複部分。 有效數字是僅有 1.6，和偏誤的指數表示 1.6 是除以 16 （它是二進位檔，也就是十進位的 123 011 1101年 1）。 True 表示指數，是 123 127 =-4，這表示要相乘的因數為 2<sup>-4</sup> = 1/16。 請注意，預存的有效數字中的最後一個的位元會無條件進位 — 嘗試盡量精確地表示無法表示的數字。 (原因 1/10 到 1/100 會以二進位不精確類似於 1/3 不完全無法以十進位的原因。)

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |0.1|1.6 * 2<sup>-4</sup>|0011 1101 1100 1100 1100 1100 1100 1101|0x3DCCCCCD|

- 零是特殊案例使用的最小可能可顯示正值，也就是全部為零的公式。

   |值|公式|二進位表示法|十六進位|
   |-|-|-|-|
   |0|1 * 2<sup>-128</sup>|0000 0000 0000 0000 0000 0000 0000 0000|0x00000000|

## <a name="see-also"></a>另請參閱

[浮點數會失去精確度的原因](why-floating-point-numbers-may-lose-precision.md)