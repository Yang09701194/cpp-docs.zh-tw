---
title: 編譯器警告 C4477 |Microsoft Docs
ms.custom: ''
ms.date: 02/16/2018
ms.technology:
- cpp-diagnostics
ms.topic: error-reference
dev_langs:
- C++
helpviewer_keywords:
- C4477
author: corob-msft
ms.author: corob
ms.workload:
- cplusplus
ms.openlocfilehash: b658746187ca4544e153af5d4696a3f43f7b785a
ms.sourcegitcommit: 913c3bf23937b64b90ac05181fdff3df947d9f1c
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/18/2018
ms.locfileid: "46115342"
---
# <a name="compiler-warning-level-1-c4477"></a>編譯器警告 （層級 1） C4477

> '*函式*': 格式字串'*字串*'需要類型的引數'*型別*'，但 variadic 引數*數目*具有類型 '*型別*'

編譯器偵測到需要滿足的格式字串中預留位置的引數的型別與提供的引數的類型不相符。 正確使用 printf 和 scanf 系列的 variadic 函式會要求您提供的格式字串所指定的型別引數。 不相符的狀況通常表示有一個錯誤是在您的程式碼。

Printf 系列的格式字串預留位置相關聯的引數的資訊，請參閱[格式規格語法： printf 和 wprintf 函式](../../c-runtime-library/format-specification-syntax-printf-and-wprintf-functions.md)。 請參閱函式的特定資訊的文件*函式*。

這項警告是在 Visual Studio 2015 新功能。

## <a name="example"></a>範例

此範例會顯示為第一個 printf_s 函式中，兩個 C4477 警告時會發現兩個引數的類型不正確，並也會示範如何修正問題。

```cpp
// C4477p.cpp
// compile with: cl /c /W4 C4477p.cpp
#include <stdio.h>

void print_func(int a, float f)
{
    printf_s("This takes int and double arguments %d and %f.\n", f, a); // C4477, expected int then double
    printf_s("This takes int and double arguments %d and %f.\n", a, f); // fix: types in correct order
}
```

在第一個錯誤訊息中，編譯器偵測到**雙**提供引數時**int**預期。 A**浮點數**自動升級為**double** variadic 引數清單中。 第二個錯誤訊息會顯示編譯器預期**雙**引數，但**int**提供。 編譯器無法分辨您有交換的引數順序。 您必須檢查以判斷的實際引數順序，並提供正確的引數類型的格式字串。
