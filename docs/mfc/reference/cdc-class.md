---
title: CDC 類別
ms.date: 11/19/2018
f1_keywords:
- CDC
- AFXWIN/CDC
- AFXWIN/CDC::CDC
- AFXWIN/CDC::AbortDoc
- AFXWIN/CDC::AbortPath
- AFXWIN/CDC::AddMetaFileComment
- AFXWIN/CDC::AlphaBlend
- AFXWIN/CDC::AngleArc
- AFXWIN/CDC::Arc
- AFXWIN/CDC::ArcTo
- AFXWIN/CDC::Attach
- AFXWIN/CDC::BeginPath
- AFXWIN/CDC::BitBlt
- AFXWIN/CDC::Chord
- AFXWIN/CDC::CloseFigure
- AFXWIN/CDC::CreateCompatibleDC
- AFXWIN/CDC::CreateDC
- AFXWIN/CDC::CreateIC
- AFXWIN/CDC::DeleteDC
- AFXWIN/CDC::DeleteTempMap
- AFXWIN/CDC::Detach
- AFXWIN/CDC::DPtoHIMETRIC
- AFXWIN/CDC::DPtoLP
- AFXWIN/CDC::Draw3dRect
- AFXWIN/CDC::DrawDragRect
- AFXWIN/CDC::DrawEdge
- AFXWIN/CDC::DrawEscape
- AFXWIN/CDC::DrawFocusRect
- AFXWIN/CDC::DrawFrameControl
- AFXWIN/CDC::DrawIcon
- AFXWIN/CDC::DrawState
- AFXWIN/CDC::DrawText
- AFXWIN/CDC::DrawTextEx
- AFXWIN/CDC::Ellipse
- AFXWIN/CDC::EndDoc
- AFXWIN/CDC::EndPage
- AFXWIN/CDC::EndPath
- AFXWIN/CDC::EnumObjects
- AFXWIN/CDC::Escape
- AFXWIN/CDC::ExcludeClipRect
- AFXWIN/CDC::ExcludeUpdateRgn
- AFXWIN/CDC::ExtFloodFill
- AFXWIN/CDC::ExtTextOut
- AFXWIN/CDC::FillPath
- AFXWIN/CDC::FillRect
- AFXWIN/CDC::FillRgn
- AFXWIN/CDC::FillSolidRect
- AFXWIN/CDC::FlattenPath
- AFXWIN/CDC::FloodFill
- AFXWIN/CDC::FrameRect
- AFXWIN/CDC::FrameRgn
- AFXWIN/CDC::FromHandle
- AFXWIN/CDC::GetArcDirection
- AFXWIN/CDC::GetAspectRatioFilter
- AFXWIN/CDC::GetBkColor
- AFXWIN/CDC::GetBkMode
- AFXWIN/CDC::GetBoundsRect
- AFXWIN/CDC::GetBrushOrg
- AFXWIN/CDC::GetCharABCWidths
- AFXWIN/CDC::GetCharABCWidthsI
- AFXWIN/CDC::GetCharacterPlacement
- AFXWIN/CDC::GetCharWidth
- AFXWIN/CDC::GetCharWidthI
- AFXWIN/CDC::GetClipBox
- AFXWIN/CDC::GetColorAdjustment
- AFXWIN/CDC::GetCurrentBitmap
- AFXWIN/CDC::GetCurrentBrush
- AFXWIN/CDC::GetCurrentFont
- AFXWIN/CDC::GetCurrentPalette
- AFXWIN/CDC::GetCurrentPen
- AFXWIN/CDC::GetCurrentPosition
- AFXWIN/CDC::GetDCBrushColor
- AFXWIN/CDC::GetDCPenColor
- AFXWIN/CDC::GetDeviceCaps
- AFXWIN/CDC::GetFontData
- AFXWIN/CDC::GetFontLanguageInfo
- AFXWIN/CDC::GetGlyphOutline
- AFXWIN/CDC::GetGraphicsMode
- AFXWIN/CDC::GetHalftoneBrush
- AFXWIN/CDC::GetKerningPairs
- AFXWIN/CDC::GetLayout
- AFXWIN/CDC::GetMapMode
- AFXWIN/CDC::GetMiterLimit
- AFXWIN/CDC::GetNearestColor
- AFXWIN/CDC::GetOutlineTextMetrics
- AFXWIN/CDC::GetOutputCharWidth
- AFXWIN/CDC::GetOutputTabbedTextExtent
- AFXWIN/CDC::GetOutputTextExtent
- AFXWIN/CDC::GetOutputTextMetrics
- AFXWIN/CDC::GetPath
- AFXWIN/CDC::GetPixel
- AFXWIN/CDC::GetPolyFillMode
- AFXWIN/CDC::GetROP2
- AFXWIN/CDC::GetSafeHdc
- AFXWIN/CDC::GetStretchBltMode
- AFXWIN/CDC::GetTabbedTextExtent
- AFXWIN/CDC::GetTextAlign
- AFXWIN/CDC::GetTextCharacterExtra
- AFXWIN/CDC::GetTextColor
- AFXWIN/CDC::GetTextExtent
- AFXWIN/CDC::GetTextExtentExPointI
- AFXWIN/CDC::GetTextExtentPointI
- AFXWIN/CDC::GetTextFace
- AFXWIN/CDC::GetTextMetrics
- AFXWIN/CDC::GetViewportExt
- AFXWIN/CDC::GetViewportOrg
- AFXWIN/CDC::GetWindow
- AFXWIN/CDC::GetWindowExt
- AFXWIN/CDC::GetWindowOrg
- AFXWIN/CDC::GetWorldTransform
- AFXWIN/CDC::GradientFill
- AFXWIN/CDC::GrayString
- AFXWIN/CDC::HIMETRICtoDP
- AFXWIN/CDC::HIMETRICtoLP
- AFXWIN/CDC::IntersectClipRect
- AFXWIN/CDC::InvertRect
- AFXWIN/CDC::InvertRgn
- AFXWIN/CDC::IsPrinting
- AFXWIN/CDC::LineTo
- AFXWIN/CDC::LPtoDP
- AFXWIN/CDC::LPtoHIMETRIC
- AFXWIN/CDC::MaskBlt
- AFXWIN/CDC::ModifyWorldTransform
- AFXWIN/CDC::MoveTo
- AFXWIN/CDC::OffsetClipRgn
- AFXWIN/CDC::OffsetViewportOrg
- AFXWIN/CDC::OffsetWindowOrg
- AFXWIN/CDC::PaintRgn
- AFXWIN/CDC::PatBlt
- AFXWIN/CDC::Pie
- AFXWIN/CDC::PlayMetaFile
- AFXWIN/CDC::PlgBlt
- AFXWIN/CDC::PolyBezier
- AFXWIN/CDC::PolyBezierTo
- AFXWIN/CDC::PolyDraw
- AFXWIN/CDC::Polygon
- AFXWIN/CDC::Polyline
- AFXWIN/CDC::PolylineTo
- AFXWIN/CDC::PolyPolygon
- AFXWIN/CDC::PolyPolyline
- AFXWIN/CDC::PtVisible
- AFXWIN/CDC::RealizePalette
- AFXWIN/CDC::Rectangle
- AFXWIN/CDC::RectVisible
- AFXWIN/CDC::ReleaseAttribDC
- AFXWIN/CDC::ReleaseOutputDC
- AFXWIN/CDC::ResetDC
- AFXWIN/CDC::RestoreDC
- AFXWIN/CDC::RoundRect
- AFXWIN/CDC::SaveDC
- AFXWIN/CDC::ScaleViewportExt
- AFXWIN/CDC::ScaleWindowExt
- AFXWIN/CDC::ScrollDC
- AFXWIN/CDC::SelectClipPath
- AFXWIN/CDC::SelectClipRgn
- AFXWIN/CDC::SelectObject
- AFXWIN/CDC::SelectPalette
- AFXWIN/CDC::SelectStockObject
- AFXWIN/CDC::SetAbortProc
- AFXWIN/CDC::SetArcDirection
- AFXWIN/CDC::SetAttribDC
- AFXWIN/CDC::SetBkColor
- AFXWIN/CDC::SetBkMode
- AFXWIN/CDC::SetBoundsRect
- AFXWIN/CDC::SetBrushOrg
- AFXWIN/CDC::SetColorAdjustment
- AFXWIN/CDC::SetDCBrushColor
- AFXWIN/CDC::SetDCPenColor
- AFXWIN/CDC::SetGraphicsMode
- AFXWIN/CDC::SetLayout
- AFXWIN/CDC::SetMapMode
- AFXWIN/CDC::SetMapperFlags
- AFXWIN/CDC::SetMiterLimit
- AFXWIN/CDC::SetOutputDC
- AFXWIN/CDC::SetPixel
- AFXWIN/CDC::SetPixelV
- AFXWIN/CDC::SetPolyFillMode
- AFXWIN/CDC::SetROP2
- AFXWIN/CDC::SetStretchBltMode
- AFXWIN/CDC::SetTextAlign
- AFXWIN/CDC::SetTextCharacterExtra
- AFXWIN/CDC::SetTextColor
- AFXWIN/CDC::SetTextJustification
- AFXWIN/CDC::SetViewportExt
- AFXWIN/CDC::SetViewportOrg
- AFXWIN/CDC::SetWindowExt
- AFXWIN/CDC::SetWindowOrg
- AFXWIN/CDC::SetWorldTransform
- AFXWIN/CDC::StartDoc
- AFXWIN/CDC::StartPage
- AFXWIN/CDC::StretchBlt
- AFXWIN/CDC::StrokeAndFillPath
- AFXWIN/CDC::StrokePath
- AFXWIN/CDC::TabbedTextOut
- AFXWIN/CDC::TextOut
- AFXWIN/CDC::TransparentBlt
- AFXWIN/CDC::UpdateColors
- AFXWIN/CDC::WidenPath
- AFXWIN/CDC::m_hAttribDC
- AFXWIN/CDC::m_hDC
helpviewer_keywords:
- CDC [MFC], CDC
- CDC [MFC], AbortDoc
- CDC [MFC], AbortPath
- CDC [MFC], AddMetaFileComment
- CDC [MFC], AlphaBlend
- CDC [MFC], AngleArc
- CDC [MFC], Arc
- CDC [MFC], ArcTo
- CDC [MFC], Attach
- CDC [MFC], BeginPath
- CDC [MFC], BitBlt
- CDC [MFC], Chord
- CDC [MFC], CloseFigure
- CDC [MFC], CreateCompatibleDC
- CDC [MFC], CreateDC
- CDC [MFC], CreateIC
- CDC [MFC], DeleteDC
- CDC [MFC], DeleteTempMap
- CDC [MFC], Detach
- CDC [MFC], DPtoHIMETRIC
- CDC [MFC], DPtoLP
- CDC [MFC], Draw3dRect
- CDC [MFC], DrawDragRect
- CDC [MFC], DrawEdge
- CDC [MFC], DrawEscape
- CDC [MFC], DrawFocusRect
- CDC [MFC], DrawFrameControl
- CDC [MFC], DrawIcon
- CDC [MFC], DrawState
- CDC [MFC], DrawText
- CDC [MFC], DrawTextEx
- CDC [MFC], Ellipse
- CDC [MFC], EndDoc
- CDC [MFC], EndPage
- CDC [MFC], EndPath
- CDC [MFC], EnumObjects
- CDC [MFC], Escape
- CDC [MFC], ExcludeClipRect
- CDC [MFC], ExcludeUpdateRgn
- CDC [MFC], ExtFloodFill
- CDC [MFC], ExtTextOut
- CDC [MFC], FillPath
- CDC [MFC], FillRect
- CDC [MFC], FillRgn
- CDC [MFC], FillSolidRect
- CDC [MFC], FlattenPath
- CDC [MFC], FloodFill
- CDC [MFC], FrameRect
- CDC [MFC], FrameRgn
- CDC [MFC], FromHandle
- CDC [MFC], GetArcDirection
- CDC [MFC], GetAspectRatioFilter
- CDC [MFC], GetBkColor
- CDC [MFC], GetBkMode
- CDC [MFC], GetBoundsRect
- CDC [MFC], GetBrushOrg
- CDC [MFC], GetCharABCWidths
- CDC [MFC], GetCharABCWidthsI
- CDC [MFC], GetCharacterPlacement
- CDC [MFC], GetCharWidth
- CDC [MFC], GetCharWidthI
- CDC [MFC], GetClipBox
- CDC [MFC], GetColorAdjustment
- CDC [MFC], GetCurrentBitmap
- CDC [MFC], GetCurrentBrush
- CDC [MFC], GetCurrentFont
- CDC [MFC], GetCurrentPalette
- CDC [MFC], GetCurrentPen
- CDC [MFC], GetCurrentPosition
- CDC [MFC], GetDCBrushColor
- CDC [MFC], GetDCPenColor
- CDC [MFC], GetDeviceCaps
- CDC [MFC], GetFontData
- CDC [MFC], GetFontLanguageInfo
- CDC [MFC], GetGlyphOutline
- CDC [MFC], GetGraphicsMode
- CDC [MFC], GetHalftoneBrush
- CDC [MFC], GetKerningPairs
- CDC [MFC], GetLayout
- CDC [MFC], GetMapMode
- CDC [MFC], GetMiterLimit
- CDC [MFC], GetNearestColor
- CDC [MFC], GetOutlineTextMetrics
- CDC [MFC], GetOutputCharWidth
- CDC [MFC], GetOutputTabbedTextExtent
- CDC [MFC], GetOutputTextExtent
- CDC [MFC], GetOutputTextMetrics
- CDC [MFC], GetPath
- CDC [MFC], GetPixel
- CDC [MFC], GetPolyFillMode
- CDC [MFC], GetROP2
- CDC [MFC], GetSafeHdc
- CDC [MFC], GetStretchBltMode
- CDC [MFC], GetTabbedTextExtent
- CDC [MFC], GetTextAlign
- CDC [MFC], GetTextCharacterExtra
- CDC [MFC], GetTextColor
- CDC [MFC], GetTextExtent
- CDC [MFC], GetTextExtentExPointI
- CDC [MFC], GetTextExtentPointI
- CDC [MFC], GetTextFace
- CDC [MFC], GetTextMetrics
- CDC [MFC], GetViewportExt
- CDC [MFC], GetViewportOrg
- CDC [MFC], GetWindow
- CDC [MFC], GetWindowExt
- CDC [MFC], GetWindowOrg
- CDC [MFC], GetWorldTransform
- CDC [MFC], GradientFill
- CDC [MFC], GrayString
- CDC [MFC], HIMETRICtoDP
- CDC [MFC], HIMETRICtoLP
- CDC [MFC], IntersectClipRect
- CDC [MFC], InvertRect
- CDC [MFC], InvertRgn
- CDC [MFC], IsPrinting
- CDC [MFC], LineTo
- CDC [MFC], LPtoDP
- CDC [MFC], LPtoHIMETRIC
- CDC [MFC], MaskBlt
- CDC [MFC], ModifyWorldTransform
- CDC [MFC], MoveTo
- CDC [MFC], OffsetClipRgn
- CDC [MFC], OffsetViewportOrg
- CDC [MFC], OffsetWindowOrg
- CDC [MFC], PaintRgn
- CDC [MFC], PatBlt
- CDC [MFC], Pie
- CDC [MFC], PlayMetaFile
- CDC [MFC], PlgBlt
- CDC [MFC], PolyBezier
- CDC [MFC], PolyBezierTo
- CDC [MFC], PolyDraw
- CDC [MFC], Polygon
- CDC [MFC], Polyline
- CDC [MFC], PolylineTo
- CDC [MFC], PolyPolygon
- CDC [MFC], PolyPolyline
- CDC [MFC], PtVisible
- CDC [MFC], RealizePalette
- CDC [MFC], Rectangle
- CDC [MFC], RectVisible
- CDC [MFC], ReleaseAttribDC
- CDC [MFC], ReleaseOutputDC
- CDC [MFC], ResetDC
- CDC [MFC], RestoreDC
- CDC [MFC], RoundRect
- CDC [MFC], SaveDC
- CDC [MFC], ScaleViewportExt
- CDC [MFC], ScaleWindowExt
- CDC [MFC], ScrollDC
- CDC [MFC], SelectClipPath
- CDC [MFC], SelectClipRgn
- CDC [MFC], SelectObject
- CDC [MFC], SelectPalette
- CDC [MFC], SelectStockObject
- CDC [MFC], SetAbortProc
- CDC [MFC], SetArcDirection
- CDC [MFC], SetAttribDC
- CDC [MFC], SetBkColor
- CDC [MFC], SetBkMode
- CDC [MFC], SetBoundsRect
- CDC [MFC], SetBrushOrg
- CDC [MFC], SetColorAdjustment
- CDC [MFC], SetDCBrushColor
- CDC [MFC], SetDCPenColor
- CDC [MFC], SetGraphicsMode
- CDC [MFC], SetLayout
- CDC [MFC], SetMapMode
- CDC [MFC], SetMapperFlags
- CDC [MFC], SetMiterLimit
- CDC [MFC], SetOutputDC
- CDC [MFC], SetPixel
- CDC [MFC], SetPixelV
- CDC [MFC], SetPolyFillMode
- CDC [MFC], SetROP2
- CDC [MFC], SetStretchBltMode
- CDC [MFC], SetTextAlign
- CDC [MFC], SetTextCharacterExtra
- CDC [MFC], SetTextColor
- CDC [MFC], SetTextJustification
- CDC [MFC], SetViewportExt
- CDC [MFC], SetViewportOrg
- CDC [MFC], SetWindowExt
- CDC [MFC], SetWindowOrg
- CDC [MFC], SetWorldTransform
- CDC [MFC], StartDoc
- CDC [MFC], StartPage
- CDC [MFC], StretchBlt
- CDC [MFC], StrokeAndFillPath
- CDC [MFC], StrokePath
- CDC [MFC], TabbedTextOut
- CDC [MFC], TextOut
- CDC [MFC], TransparentBlt
- CDC [MFC], UpdateColors
- CDC [MFC], WidenPath
- CDC [MFC], m_hAttribDC
- CDC [MFC], m_hDC
ms.assetid: 715b3334-cb2b-4c9c-8067-02eb7c66c8b2
ms.openlocfilehash: d25cad720a4e1abb9bca6b3ab22eea0261f24b48
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/22/2020
ms.locfileid: "81753425"
---
# <a name="cdc-class"></a>CDC 類別

定義裝置內容物件的類別。

## <a name="syntax"></a>語法

```
class CDC : public CObject
```

## <a name="members"></a>成員

### <a name="public-constructors"></a>公用建構函式

|名稱|描述|
|----------|-----------------|
|[CDC::CDC](#cdc)|建構 `CDC` 物件。|

### <a name="public-methods"></a>公用方法

|名稱|描述|
|----------|-----------------|
|[CDC::中止](#abortdoc)|終止當前列印作業,消除應用程式自上次調用`StartDoc`成員函數以來寫入設備的所有內容。|
|[CDC::中止路徑](#abortpath)|關閉並丟棄設備上下文中的任何路徑。|
|[CDC::添加MetaFile評論](#addmetafilecomment)|將緩衝區的註釋複製到指定的增強格式元檔中。|
|[CDC::阿爾法布林](#alphablend)|顯示具有透明或半透明圖元的位圖。|
|[CDC::角弧](#anglearc)|繪製線段和圓弧,並將當前位置移動到圓弧的終點。|
|[CDC::弧形](#arc)|繪製橢圓弧。|
|[CDC::Arcto](#arcto)|繪製橢圓弧。此函數與`Arc`類似,但當前位置已更新。|
|[CDC::附加](#attach)|將 Windows 設備上下文`CDC`附加到此物件。|
|[CDC::開始路徑](#beginpath)|在設備上下文中打開路徑支架。|
|[CDC::BitBlt](#bitblt)|從指定的設備上下文複製點陣圖。|
|[CDC::喬德](#chord)|繪製和絃(由橢圓和線段的交點邊界的閉合圖)。|
|[CDC::關閉圖](#closefigure)|關閉路徑中的打開圖形。|
|[CDC::建立相容DC](#createcompatibledc)|創建與另一個設備上下文相容的記憶體裝置上下文。 您可以使用它來準備記憶體中的圖像。|
|[CDC::建立DC](#createdc)|為特定設備創建設備上下文。|
|[CDC::建立IC](#createic)|為特定設備創建資訊上下文。 這提供了一種快速的方式,無需創建設備上下文即可獲取有關設備的資訊。|
|[CDC::DeleteDC](#deletedc)|刪除與此`CDC`物件關聯的 Windows 設備上下文。|
|[CDC::DeleteTempMap](#deletetempmap)|由`CWinApp`空閒時間處理程式呼叫以刪除 由`CDC``FromHandle`創建的任何臨時物件。 還要分離設備上下文。|
|[CDC::D](#detach)|將 Windows 設備上下`CDC`文從此 物件分離。|
|[CDC::DPtoHIMETRIC](#dptohimetric)|將設備單元轉換為 HIMETRIC 單位。|
|[CDC::DPtoLP](#dptolp)|將設備單元轉換為邏輯單位。|
|[CDC::D原始3dRect](#draw3drect)|繪製三維矩形。|
|[CDC::DrawDragrect](#drawdragrect)|在拖動矩形時擦除並重繪矩形。|
|[CDC::D原始邊緣](#drawedge)|繪製矩形的邊緣。|
|[CDC::D原始逃生](#drawescape)|訪問無法透過圖形裝置介面 (GDI) 直接可用的影片顯示的繪圖功能。|
|[CDC::D原始焦點Rect](#drawfocusrect)|在用於指示焦點的樣式中繪製矩形。|
|[CDC::D原始框架控制](#drawframecontrol)|繪製幀控件。|
|[CDC::D原](#drawicon)|繪製圖示。|
|[CDC::D原](#drawstate)|顯示圖像並應用視覺效果以指示狀態。|
|[nFormat](#drawtext)|在指定的矩形中繪製格式化文字。|
|[CDC::D原始文字Ex](#drawtextex)|使用其他格式在指定的矩形中繪製格式化文本。|
|[CDC::橢圓](#ellipse)|繪製橢圓形。|
|[CDC::結束檔案](#enddoc)|結束由成員函數啟動的`StartDoc`列印作業。|
|[CDC::結束頁](#endpage)|通知設備驅動程序頁面即將結束。|
|[CDC::結束路徑](#endpath)|關閉路徑括弧,並將支架定義的路徑選擇到設備上下文中。|
|[CDC::枚舉物件](#enumobjects)|枚舉設備上下文中可用的筆和畫筆。|
|[CDC::逃生](#escape)|允許應用程式通過 GDI 訪問無法直接從特定設備獲得的設施。 還允許訪問 Windows 轉義功能。 應用程式發出的轉義呼叫將翻譯並發送到設備驅動程式。|
|[CDC::排除剪輯](#excludecliprect)|創建由現有裁剪區域減去指定矩形的新裁剪區域。|
|[CDC::排除更新Rgn](#excludeupdatergn)|通過將視窗中的更新區域從剪切區域中排除,防止在視窗無效區域內繪圖。|
|[CDC::ExtFlownFill](#extfloodfill)|用當前畫筆填充區域。 提供比[CDC::flownFill](#floodfill)成員函數更大的靈活性。|
|[CDC::ExtTextOut](#exttextout)|使用目前選擇的字型在矩形區域內寫入字串。|
|[CDC::FillPath](#fillpath)|關閉當前路徑中的任何打開圖形,並使用當前畫筆和多邊形填充模式填充路徑的內部。|
|[CDC::FillRect](#fillrect)|使用特定的畫筆填充給定的矩形。|
|[CDC::菲爾根](#fillrgn)|使用指定的畫筆填充特定區域。|
|[CDC::FillSolidrect](#fillsolidrect)|用純色填充矩形。|
|[CDC::扁平路徑](#flattenpath)|將所選路徑中的任何曲線轉換為當前設備上下文,並將每個曲線轉換為一系列直線。|
|[CDC::洪水填充](#floodfill)|用當前畫筆填充區域。|
|[CDC::幀重新](#framerect)|在矩形周圍繪製邊框。|
|[CDC::框架Rgn](#framergn)|使用畫筆在特定區域周圍繪製邊框。|
|[CDC::從手](#fromhandle)|當為設備上下文指定`CDC`句柄時,返回指向物件的指標。 如果 `CDC` 物件沒有附加至控制代碼，會建立並附加暫存 `CDC` 物件。|
|[CDC::取得Arc方向](#getarcdirection)|返回設備上下文的當前弧方向。|
|[CDC::取得Aspectratio過濾器](#getaspectratiofilter)|檢索當前縱橫比篩選器的設置。|
|[CDC::GetBkColor](#getbkcolor)|檢索當前背景顏色。|
|[CDC::GetBkMode](#getbkmode)|檢索後台模式。|
|[CDC::獲取"界限"](#getboundsrect)|返回指定設備上下文的當前累積邊界矩形。|
|[CDC::GetBrushOrg](#getbrushorg)|檢索當前畫筆的原點。|
|[CDC::取得查布布寬度](#getcharabcwidths)|檢索當前字體中給定範圍內連續字元的寬度(以邏輯單位為單位)。|
|[CDC::獲取查拉布·斯波西](#getcharabcwidthsi)|檢索目前 TrueType 字型中指定範圍內的連續字形索引的寬度(以邏輯單位為單位)。|
|[CDC::取得字元放置](#getcharacterplacement)|檢索字串上的各種類型的資訊。|
|[CDC::取得字元寬度](#getcharwidth)|從當前字體檢索給定範圍內連續字元的小數寬度。|
|[CDC::取得字元](#getcharwidthi)|從當前字體中檢索指定範圍內的連續字形索引的寬度(邏輯座標)。|
|[CDC::取得剪輯盒](#getclipbox)|檢索當前剪切邊界周圍最緊密邊界矩形的尺寸。|
|[CDC::取得顏色調整](#getcoloradjustment)|檢索設備上下文的顏色調整值。|
|[CDC::取得目前的點陣圖](#getcurrentbitmap)|返回指向當前選定`CBitmap`物件的指標。|
|[CDC::取得目前的筆刷](#getcurrentbrush)|返回指向當前選定`CBrush`物件的指標。|
|[CDC::取得目前的字型](#getcurrentfont)|返回指向當前選定`CFont`物件的指標。|
|[CDC::取得電流調色板](#getcurrentpalette)|返回指向當前選定`CPalette`物件的指標。|
|[CDC::取得電流筆](#getcurrentpen)|返回指向當前選定`CPen`物件的指標。|
|[CDC:取得電流位置](#getcurrentposition)|檢索筆的當前位置(在邏輯座標中)。|
|[CDC::取得DCBrush顏色](#getdcbrushcolor)|擷取目前的筆刷色彩。|
|[CDC::取得DCPenColor](#getdcpencolor)|擷取目前的畫筆顏色。|
|[CDC:抓取裝置Caps](#getdevicecaps)|檢索有關給定顯示設備的功能的指定設備特定資訊。|
|[CDC::取得字型資料](#getfontdata)|從可擴充的字體檔中檢索字體指標資訊。 通過指定要檢索的資訊在字體檔中指定偏移量和要返回的資訊長度來標識。|
|[CDC::取得字型語言資訊](#getfontlanguageinfo)|返回有關指定顯示上下文的當前選定字體的資訊。|
|[CDC:取得字形圖](#getglyphoutline)|檢索當前字體中輪廓字元的輪廓曲線或位圖。|
|[CDC::取得圖形模式](#getgraphicsmode)|檢索指定設備上下文的當前圖形模式。|
|[CDC::獲取哈弗通刷](#gethalftonebrush)|檢索半色調畫筆。|
|[CDC::獲取凱寧配對](#getkerningpairs)|檢索當前在指定設備上下文中選擇的字型的字元角對。|
|[CDC::取得佈局](#getlayout)|檢索設備上下文 (DC) 的佈局。 佈局可以是從左至右(預設)或從右到左(鏡像)。|
|[CDC::取得地圖模式](#getmapmode)|檢索當前映射模式。|
|[CDC::取得限制](#getmiterlimit)|返回設備上下文的斜接限制。|
|[CDC:取得最接近的顏色](#getnearestcolor)|檢索給定設備可以表示的指定邏輯顏色的最接近的邏輯顏色。|
|[CDC::取得大綱文字指標](#getoutlinetextmetrics)|檢索 TrueType 字型的字型指標資訊。|
|[CDC::取得輸出字元寬度](#getoutputcharwidth)|使用輸出設備上下文從當前字體檢索連續字元組中單個字元的寬度。|
|[CDC::取得輸出分頁文字範圍](#getoutputtabbedtextextent)|計算輸出設備上下文中字串的寬度和高度。|
|[CDC::取得輸出文字範圍](#getoutputtextextent)|使用當前字型計算輸出設備上下文中文本行的寬度和高度,以確定尺寸。|
|[CDC:取得輸出文字指標](#getoutputtextmetrics)|從輸出設備上下文檢索當前字體的指標。|
|[CDC:取得路徑](#getpath)|檢索定義行端點的座標以及選擇到設備上下文中的路徑中找到的曲線的控制點。|
|[CDC:取得像素](#getpixel)|在指定點檢索圖元的 RGB 顏色值。|
|[CDC::取得多利填充模式](#getpolyfillmode)|檢索當前多邊形填充模式。|
|[CDC:GetROP2](#getrop2)|檢索當前繪圖模式。|
|[CDC::取得安全Hdc](#getsafehdc)|傳[回 CDC::m_hDC](#m_hdc),輸出設備上下文。|
|[CDC::取得拉伸模式](#getstretchbltmode)|檢索當前位圖拉伸模式。|
|[CDC::取得分頁文字範圍](#gettabbedtextextent)|計算屬性設備上下文中字串的寬度和高度。|
|[CDC::取得文字對齊](#gettextalign)|檢索文字對齊標誌。|
|[CDC::取得文字字元額外](#gettextcharacterextra)|檢索字元間間距量的當前設置。|
|[CDC::取得文字顏色](#gettextcolor)|檢索目前文字顏色。|
|[CDC::取得文字範圍](#gettextextent)|使用當前字型計算屬性設備上下文中文本行的寬度和高度,以確定尺寸。|
|[CDC::取得文字範圍ExPointI](#gettextextentexpointi)|檢索指定字串中將適合指定空間的字元數,並為每個字元填充文本範圍的陣列。|
|[CDC:取得文字範圍點I](#gettextextentpointi)|檢索指定字形索引陣列的寬度和高度。|
|[CDC::取得文字面](#gettextface)|將目前的字型的字型名稱作為 null 終止字串複製到緩衝區中。|
|[CDC::取得文字指標](#gettextmetrics)|從屬性設備上下文中檢索當前字體的指標。|
|[CDC::取得瀏覽埠Ext](#getviewportext)|檢視口的 x 和 y 範圍。|
|[CDC::取得瀏覽埠組織](#getviewportorg)|檢視口原點的 x 座標和 y 座標。|
|[CDC::抓取視窗](#getwindow)|返回與顯示設備上下文關聯的視窗。|
|[CDC::取得視窗Ext](#getwindowext)|檢索關聯視窗的 x 和 y 範圍。|
|[CDC::抓取視窗組織](#getwindoworg)|檢索關聯視窗的原點的 x 和 y 座標。|
|[CDC::取得世界轉型](#getworldtransform)|檢索當前世界空間到頁面空間轉換。|
|[CDC::梯度填充](#gradientfill)|用格拉達顏色填充矩形和三角形結構。|
|[CDC::灰色字串](#graystring)|在給定位置繪製灰色(灰色)文本。|
|[CDC::HIMETRITtoDP](#himetrictodp)|將 HIMETRIC 單元轉換為設備單元。|
|[CDC::HIMETRICTOLP](#himetrictolp)|將 HIMETRIC 單位轉換為邏輯單位。|
|[CDC::相交剪輯](#intersectcliprect)|通過形成當前區域和矩形的交集創建新的裁剪區域。|
|[CDC::反逆轉](#invertrect)|反轉矩形的內容。|
|[CDC::反逆](#invertrgn)|反轉區域中的顏色。|
|[CDC::正在列印](#isprinting)|確定設備上下文是否用於列印。|
|[CDC::線到](#lineto)|從當前位置向上繪製一條線,但不包括點。|
|[CDC:LPtoDP](#lptodp)|將邏輯單位轉換為設備單元。|
|[CDC:LPtoHIMETRIC](#lptohimetric)|將邏輯單位轉換為 HIMETRIC 單位。|
|[CDC::MaskBlt](#maskblt)|使用給定蒙版和閘格操作組合源和目標位圖的顏色數據。|
|[CDC::修改世界變換](#modifyworldtransform)|使用指定的模式更改設備上下文的世界轉換。|
|[CDC::移動到](#moveto)|移動當前位置。|
|[CDC::偏移夾子](#offsetcliprgn)|移動給定設備的剪切區域。|
|[CDC::偏移視口組織](#offsetviewportorg)|相對於當前視口原點的座標修改視口原點。|
|[CDC::偏移視窗組織](#offsetwindoworg)|相對於當前視窗原點的座標修改視窗原點。|
|[CDC::P](#paintrgn)|使用所選畫筆填充區域。|
|[CDC::PatBlt](#patblt)|創建位模式。|
|[CDC::Pie](#pie)|繪製餅形楔形。|
|[CDC::PlayMetaFile](#playmetafile)|在給定設備上播放指定元文件的內容。 增強版本`PlayMetaFile`顯示存儲在給定增強格式元檔中的圖片。 元檔可以播放任意次數。|
|[CDC::PlgBlt](#plgblt)|執行位塊傳輸顏色資料位從源裝置上下文中的指定矩形到給定設備上下文中的指定並行四字形。|
|[CDC::P諾利·貝塞爾](#polybezier)|繪製一個或多個 Bzier 樣條線。 當前位置既不使用也不更新。|
|[CDC::P奧利貝塞爾托](#polybezierto)|繪製一個或多個 Bzier 樣條線,並將當前位置移動到最後一個 Bzier 樣條線的結束點。|
|[CDC::P](#polydraw)|繪製一組線段和 Bzier 樣條線。 此函數更新當前位置。|
|[CDC::P](#polygon)|繪製由兩個或多個點(頂點)組成的多邊形,這些點由線連接。|
|[CDC::Polyline](#polyline)|繪製一組連接指定點的線段。|
|[CDC::Polylylylyto](#polylineto)|繪製一條或多條直線,並將當前位置移動到最後一行的結束點。|
|[CDC::P多利多貢](#polypolygon)|建立使用當前多邊形填充模式填充的兩個或多個面。 多邊形可能不交,也可能重疊。|
|[CDC::P多利線](#polypolyline)|繪製多個串聯線段系列。 此函數既不使用也不更新當前位置。|
|[CDC::P可見](#ptvisible)|指定給定點是否位於剪切區域內。|
|[CDC:實現調色盤](#realizepalette)|將當前邏輯調色板中的調色板條目映射到系統調色板。|
|[CDC:矩形](#rectangle)|使用當前筆繪製矩形並使用當前畫筆填充矩形。|
|[CDC::可分割](#rectvisible)|確定給定矩形的任何部分是否位於裁剪區域內。|
|[CDC::釋放AtribDC](#releaseattribdc)|釋放`m_hAttribDC`,屬性設備上下文。|
|[CDC::釋放輸出DC](#releaseoutputdc)|釋放`m_hDC`,輸出設備上下文。|
|[CDC::ResetDC](#resetdc)|更新`m_hAttribDC`設備上下文。|
|[CDC::回復DC](#restoredc)|將設備上下文還原到與`SaveDC`保存的上一個狀態。|
|[CDC::圓形Rect](#roundrect)|使用當前筆繪製圓角的矩形,並使用當前畫筆填充。|
|[CDC::儲存DC](#savedc)|保存設備上下文的當前狀態。|
|[CDC::規模視口Ext](#scaleviewportext)|修改相對於當前值的視口範圍。|
|[CDC::縮放視窗Ext](#scalewindowext)|修改相對於當前值的視窗範圍。|
|[CDC::ScrollDC](#scrolldc)|水平和垂直滾動位矩形。|
|[CDC::選擇剪輯路徑](#selectclippath)|選擇當前路徑作為設備上下文的剪切區域,使用指定的模式將新區域與任何現有剪切區域合併。|
|[CDC::選擇ClipRgn](#selectcliprgn)|使用指定的模式將給定區域與當前剪切區域合併。|
|[CDC::SelectObject](#selectobject)|選擇 GDI 繪圖物件(如筆)。|
|[CDC::選擇調色盤](#selectpalette)|選擇邏輯調色板。|
|[CDC::SelectStockObject](#selectstockobject)|選擇 Windows 提供的預定義的庫存筆、畫筆或字體之一。|
|[CDC::SetAbortProc](#setabortproc)|設置如果必須中止列印作業,Windows 調用的程式師提供的回調函數。|
|[CDC::SetArc方向](#setarcdirection)|設置用於圓弧和矩形函數的繪圖方向。|
|[疾控中心::塞特特裡布](#setattribdc)|設置`m_hAttribDC`,屬性設備上下文。|
|[CDC::SetBkColor](#setbkcolor)|設定當前背景顏色。|
|[CDC::SetBkMode](#setbkmode)|設置背景模式。|
|[CDC::SetBundsRect](#setboundsrect)|控制指定設備上下文的邊界矩形信息的累積。|
|[CDC::SetBrushOrg](#setbrushorg)|指定選擇到設備上下文中的下一個筆刷筆的原點。|
|[CDC::設定顏色調整](#setcoloradjustment)|使用指定值設置設備上下文的顏色調整值。|
|[CDC::SetDCBrush顏色](#setdcbrushcolor)|設置當前畫筆顏色。|
|[CDC::SetDCPenColor](#setdcpencolor)|設置當前筆顏色。|
|[CDC::設定圖形模式](#setgraphicsmode)|設置指定設備上下文的當前圖形模式。|
|[CDC::設定佈局](#setlayout)|更改設備上下文 (DC) 的佈局。|
|[CDC::設定地圖模式](#setmapmode)|設置當前映射模式。|
|[CDC::設定映射標記](#setmapperflags)|變更字型對應器在將邏輯字體映射到物理字型時使用的演演演算法。|
|[CDC::設定Miter限制](#setmiterlimit)|設置設備上下文的斜接聯接長度限制。|
|[CDC::設定輸出DC](#setoutputdc)|設置`m_hDC`,輸出設備上下文。|
|[CDC::設定像素](#setpixel)|將指定點的圖元設置到指定顏色的最接近近似值。|
|[CDC::SetPixelV](#setpixelv)|將指定座標處的圖元設置為指定顏色的最接近近似值。 `SetPixelV`比`SetPixel`它不需要返回實際繪製的點的顏色值更快。|
|[CDC::設定Poly填充模式](#setpolyfillmode)|設置多邊形填充模式。|
|[CDC::SetROP2](#setrop2)|設置當前繪圖模式。|
|[CDC::設定拉伸模式](#setstretchbltmode)|設置點陣拉伸模式。|
|[CDC::設定文字對齊](#settextalign)|設置文本對齊標誌。|
|[CDC::設定文字字元額外](#settextcharacterextra)|設置字元間間距的量。|
|[CDC::設定文字顏色](#settextcolor)|設定文字色彩。|
|[CDC::設定文字對齊](#settextjustification)|向字串中的分隔元添加空間。|
|[CDC::SetViewportExt](#setviewportext)|設置視口的 x 和 y 範圍。|
|[CDC::SetViewportOrg](#setviewportorg)|設置視口原點。|
|[CDC::設定視窗Ext](#setwindowext)|設定關聯視窗的 x 和 y 範圍。|
|[CDC::設定視窗組織](#setwindoworg)|設置設備上下文的視窗源。|
|[CDC::設定世界轉換](#setworldtransform)|將當前世界空間設置為頁面空間轉換。|
|[CDC::開機文件](#startdoc)|通知設備驅動程式新的列印作業正在啟動。|
|[CDC::起始頁](#startpage)|通知設備驅動程式新頁面正在啟動。|
|[CDC::拉伸Blt](#stretchblt)|將點陣圖從源矩形和設備移動到目標矩形中,必要時拉伸或壓縮位圖以適合目標矩形的尺寸。|
|[CDC::中風和填充路徑](#strokeandfillpath)|關閉路徑中的任何打開圖形,使用當前筆繪製路徑的輪廓,並使用當前畫筆填充其內部。|
|[CDC:中風路徑](#strokepath)|使用當前筆渲染指定的路徑。|
|[CDC::Tabbed文字出](#tabbedtextout)|在指定位置寫入字串,將選項卡擴展到製表停止位置陣列中指定的值。|
|[CDC::文字出](#textout)|使用目前選擇的字型在指定位置寫入字串。|
|[CDC::透明布拉特](#transparentblt)|將指定源裝置上下文中的顏色數據位塊傳輸到目標設備上下文,使指定的顏色在傳輸中透明。|
|[CDC::更新顏色](#updatecolors)|通過將工作區中的當前顏色逐圖元匹配到系統調色板,更新設備上下文的工作區。|
|[CDC::寬道](#widenpath)|將當前路徑重新定義為,如果使用當前選擇的筆在設備上下文中繪製路徑,則將繪製路徑的區域。|

### <a name="public-operators"></a>公用運算子

|名稱|描述|
|----------|-----------------|
|[CDC::管理員 HDC](#operator_hdc)|檢索設備上下文的句柄。|

### <a name="public-data-members"></a>公用資料成員

|名稱|描述|
|----------|-----------------|
|[CDC::m_hAttribDC](#m_hattribdc)|此`CDC`物件使用的屬性設備上下文。|
|[CDC::m_hDC](#m_hdc)|此`CDC`物件使用的輸出設備上下文。|

## <a name="remarks"></a>備註

物件`CDC`提供用於處理設備上下文(如顯示或印表機)的成員函數,以及用於處理與視窗工作區關聯的顯示上下文的成員。

通過`CDC`對象的成員函數進行所有繪圖。 該類為設備上下文操作提供成員函數、使用繪圖工具、類型安全圖形設備介面 (GDI) 物件選擇以及使用顏色和調色板。 它還提供成員函數,用於獲取和設置繪圖屬性、映射、使用視口、使用視窗範圍、轉換座標、使用區域、剪切、繪圖線以及繪製簡單形狀、橢圓和面。 還提供了用於繪製文本、使用字型、使用印表機轉義、滾動和播放元文件的成員函數。

要使用`CDC`物件,請建構它,然後調用並行使用設備上下文的 Windows 函數的成員函數。

> [!NOTE]
> 在 Windows 95/98 下,所有螢幕座標限制為 16 位。 因此,傳遞給成員函數的`CDC` **int**必須位於範圍 -32768 到 32767。

對於特定用途,Microsoft 基礎類庫提供了從 派`CDC`生的 多個類。 `CPaintDC`封裝對`BeginPaint``EndPaint`和的調用。 `CClientDC`管理與視窗工作區關聯的顯示上下文。 `CWindowDC`管理與整個視窗關聯的顯示上下文,包括其框架和控制項。 `CMetaFileDC`將設備上下文與元文件關聯。

`CDC`提供了兩個成員函數[GetLayout](#getlayout)和[SetLayout,](#setlayout)用於反轉裝置上下文的佈局,而設備上下文不會從視窗繼承其佈局。 對於為區域性(如阿拉伯文或希伯來語)編寫的應用程式(其中字元佈局不是歐洲標準),這種從右到左的方向是必需的。

`CDC`包含兩個設備上下文[,m_hDC](#m_hdc)和[m_hAttribDC](#m_hattribdc),`CDC`在創建物件時 ,它們引用同一設備。 `CDC`將所有輸出 GDI 呼叫`m_hDC`定`m_hAttribDC`到與大多數屬性 GDI 呼叫 。 (屬性呼叫的範例是`GetTextColor`,`SetTextColor`而輸出呼叫。

例如,框架使用這兩個設備上下文來實現一個`CMetaFileDC`物件,該物件在從物理設備讀取屬性時將輸出發送到元檔。 列印預覽在框架中以類似方式實現。 您還可以在特定於應用程式的代碼中以類似的方式使用這兩個設備上下文。

有時,您可能需要來自和`m_hDC``m_hAttribDC`設備上下文的文本度量資訊。 以下函數對提供此功能:

|使用m_hAttribDC|使用m_hDC|
|-----------------------|-----------------|
|[取得文字範圍](#gettextextent)|[取得輸出文字範圍](#getoutputtextextent)|
|[取得分頁範圍](#gettabbedtextextent)|[取得輸出選項卡文字範圍](#getoutputtabbedtextextent)|
|[取得文字指標](#gettextmetrics)|[取得輸出文字指標](#getoutputtextmetrics)|
|[取得字元寬度](#getcharwidth)|[取得輸出字元寬度](#getoutputcharwidth)|

有關 的詳細`CDC`資訊 ,請參閱[裝置上下文](../../mfc/device-contexts.md)。

## <a name="inheritance-hierarchy"></a>繼承階層架構

[CObject](../../mfc/reference/cobject-class.md)

`CDC`

## <a name="requirements"></a>需求

**標題:** afxwin.h

## <a name="cdcabortdoc"></a><a name="abortdoc"></a>CDC::中止

終止目前列印作業,並擦除自上次調用[StartDoc](#startdoc)成員函數以來應用程式寫入設備的所有內容。

```
int AbortDoc();
```

### <a name="return-value"></a>傳回值

如果成功,大於或等於 0 的值;如果發生錯誤,則為負值。 下面的清單顯示了常見的錯誤值及其含義:

- SP_ERROR一般錯誤。

- SP_OUTOFDISK當前沒有足夠的磁碟空間可用於後台列印,並且不再有可用空間。

- SP_OUTOFMEMORY沒有足夠的記憶體可用於後台。

- SP_USERABORT用戶通過列印管理器終止作業。

### <a name="remarks"></a>備註

此成員功能將替換 ABORTDOC 印表機轉義。

`AbortDoc`套用於終止以下內容:

- 使用[SetAbortProc](#setabortproc)未指定中止函數的列印操作。

- 尚未達到其第一個新幀或下一班德轉義呼叫的列印操作。

如果應用程式遇到列印錯誤或已取消的列印操作,則不得嘗試使用[EndDoc](#enddoc)或`AbortDoc`類`CDC`的成員函數終止操作。 GDI 在返回錯誤值之前自動終止操作。

如果應用程式顯示一個對話框以允許使用者取消列印操作,則必須在銷毀對話框之前調用`AbortDoc`該對話方塊。

如果使用 Print Manager 啟動列印作業,`AbortDoc`則調用 擦除整個假離線作業 - 印表機不會收到任何內容。 如果未使用列印管理器啟動列印作業,則數據可能在調用之前`AbortDoc`已發送到印表機。 在這種情況下,印表機驅動程式將重置印表機(如果可能),並關閉列印作業。

### <a name="example"></a>範例

  請參考 CDC[的範例:StartDoc](#startdoc)。

## <a name="cdcabortpath"></a><a name="abortpath"></a>CDC::中止路徑

關閉並丟棄設備上下文中的任何路徑。

```
BOOL AbortPath();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

如果設備上下文中有一個打開的路徑支架,則路徑支架將關閉,路徑將被丟棄。 如果設備上下文中有閉合路徑,則丟棄該路徑。

## <a name="cdcaddmetafilecomment"></a><a name="addmetafilecomment"></a>CDC::添加MetaFile評論

將緩衝區的註釋複製到指定的增強格式元檔中。

```
BOOL AddMetaFileComment(
    UINT nDataSize,
    const BYTE* pCommentData);
```

### <a name="parameters"></a>參數

*n 資料大小*<br/>
指定註釋緩衝區的長度(以位元組為單位)。

*pComment 資料*<br/>
指向包含註釋的緩衝區。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

註釋可能包括任何私人資訊,例如圖片的來源和創建日期。 註釋應以應用程式簽名開頭,後跟數據。 註釋不應包含特定於位置的數據。 特定於位置的數據指定記錄的位置,並且不應包含它,因為一個元檔可能嵌入到另一個元檔中。 此功能只能與增強的元檔一起使用。

## <a name="cdcalphablend"></a><a name="alphablend"></a>CDC::阿爾法布林

呼叫此成員函數以顯示具有透明或半透明圖元的點陣圖。

```
BOOL AlphaBlend(
    int xDest,
    int yDest,
    int nDestWidth,
    int nDestHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    BLENDFUNCTION blend);
```

### <a name="parameters"></a>參數

*xDest*<br/>
指定目標矩形左上角的 x 座標(以邏輯單位表示)。

*yDest*<br/>
指定目標矩形左上角的 y 座標(以邏輯單位表示)。

*nD最大寬度*<br/>
指定目標矩形的寬度(以邏輯單位為單位)。

*nDestHeight*<br/>
指定目標矩形的高度(以邏輯單位為單位)。

*pSrcDC*<br/>
指向源設備上下文的指標。

*xSrc*<br/>
指定源矩形左上角的 x 座標(以邏輯單位表示)。

*伊斯爾克*<br/>
指定源矩形左上角的 y 座標(以邏輯單位表示)。

*NSrcWidth*<br/>
指定源矩形的寬度(以邏輯單位為單位)。

*nSrcHeight*<br/>
指定源矩形的高度(以邏輯單位為單位)。

*混合*<br/>
指定[BLEND,它結構](/windows/win32/api/wingdi/ns-wingdi-blendfunction)。

### <a name="return-value"></a>傳回值

如果成功，則為 TRUE，否則為 FALSE。

### <a name="remarks"></a>備註

有關詳細資訊,請參閱 Windows SDK 中的[AlphaBlend。](/windows/win32/api/wingdi/nf-wingdi-alphablend)

## <a name="cdcanglearc"></a><a name="anglearc"></a>CDC::角弧

繪製線段和圓弧。

```
BOOL AngleArc(
    int x,
    int y,
    int nRadius,
    float fStartAngle,
    float fSweepAngle);
```

### <a name="parameters"></a>參數

*x*<br/>
指定圓中心的邏輯 x 座標。

*Y*<br/>
指定圓中心的邏輯 y 座標。

*nRadius*<br/>
以邏輯單位指定圓的半徑。 這個值必須是正數。

*fStartAngle*<br/>
指定起始角度(以度表示為相對於 x 軸)。

*fSweepAngle*<br/>
指定相對於起始角度的掃描角度(以度)。

### <a name="return-value"></a>傳回值

如果成功則為非零；否則為 0。

### <a name="remarks"></a>備註

線段從當前位置繪製到圓弧的開頭。弧線沿具有給定半徑和中心的圓周線繪製。 圓弧的長度由給定的起始角和掃描角度定義。

`AngleArc`將當前位置移動到圓弧的終點。此函數繪製的弧可能看起來是橢圓形的,具體取決於當前的變換和映射模式。 在繪製圓弧之前,此函數將線段從當前位置繪製到圓弧的開頭。弧是通過構造一個圍繞指定中心點的指定半徑的虛圓來繪製的。 弧的起點通過逆時針從圓的 x 軸測量起始角度中的度數來確定。 終點同樣位於從起點逆時針測量掃描角度中的度數。

如果掃描角度大於 360 度,則圓弧將多次掃描。 此函數使用當前筆繪製線條。 圖形未填充。

## <a name="cdcarc"></a><a name="arc"></a>CDC::弧形

繪製橢圓弧。

```
BOOL Arc(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Arc(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定邊界矩形左上角的 x 座標(以邏輯單位表示)。

*y1*<br/>
指定邊界矩形左上角的 y 座標(以邏輯單位表示)。

*x2*<br/>
指定邊界矩形右下角的 x 座標(以邏輯單位表示)。

*y2*<br/>
指定邊界矩形右下角的 y 座標(以邏輯單位表示)。

*x3*<br/>
指定定義圓弧起點(邏輯單位)的點的 x 座標。 此點不必完全位於圓弧上。

*y3*<br/>
指定定義圓弧起點(邏輯單位)的點的 y 座標。 此點不必完全位於圓弧上。

*x4*<br/>
指定定義圓弧端點(以邏輯單位)的點的 x 座標。 此點不必完全位於圓弧上。

*y4*<br/>
指定定義圓弧端點(以邏輯單位)的點的 y 座標。 此點不必完全位於圓弧上。

*lpRect*<br/>
指定邊界矩形(以邏輯單位表示)。 您可以為此參數傳遞 LPRECT 或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

*pt 開始*<br/>
指定定義圓弧起點(以邏輯單位為單位)的點的 x 座標和 y 座標。 此點不必完全位於圓弧上。您可以為此參數傳遞[POINT](/windows/win32/api/windef/ns-windef-point)結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

*ptEnd*<br/>
指定定義圓弧結束點的點的 x 座標和 y 座標(以邏輯單位為單位)。 此點不必完全位於圓弧上。可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

使用函數繪製的弧線是由指定邊界矩形定義的橢圓段。

圓弧的實際起始點是從邊界矩形中心穿過指定起點繪製的光線與橢圓相交的點。 圓弧的實際結束點是從邊界矩形中心穿過指定結束點的光線與橢圓相交的點。 弧沿逆時針方向繪製。 由於圓弧不是閉合圖形,因此不會填充。 矩形的寬度和高度必須大於 2 個單位,小於 32,767 個單位。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#29](../../mfc/codesnippet/cpp/cdc-class_1.cpp)]

## <a name="cdcarcto"></a><a name="arcto"></a>CDC::Arcto

繪製橢圓弧。

```
BOOL ArcTo(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL ArcTo(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定邊界矩形左上角的 x 座標(以邏輯單位表示)。

*y1*<br/>
指定邊界矩形左上角的 y 座標(以邏輯單位表示)。

*x2*<br/>
指定邊界矩形右下角的 x 座標(以邏輯單位表示)。

*y2*<br/>
指定邊界矩形右下角的 y 座標(以邏輯單位表示)。

*x3*<br/>
指定定義圓弧起點(邏輯單位)的點的 x 座標。 此點不必完全位於圓弧上。

*y3*<br/>
指定定義圓弧起點(邏輯單位)的點的 y 座標。 此點不必完全位於圓弧上。

*x4*<br/>
指定定義圓弧端點(以邏輯單位)的點的 x 座標。 此點不必完全位於圓弧上。

*y4*<br/>
指定定義圓弧端點(以邏輯單位)的點的 y 座標。 此點不必完全位於圓弧上。

*lpRect*<br/>
指定邊界矩形(以邏輯單位表示)。 您可以傳遞指向[RECT](/windows/win32/api/windef/ns-windef-rect)資料結構的指標或此參數的[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

*pt 開始*<br/>
指定定義圓弧起點(以邏輯單位為單位)的點的 x 座標和 y 座標。 此點不必完全位於圓弧上。您可以為此參數傳遞[POINT](/windows/win32/api/windef/ns-windef-point)資料結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

*ptEnd*<br/>
指定定義圓弧結束點的點的 x 座標和 y 座標(以邏輯單位為單位)。 此點不必完全位於圓弧上。您可以傳遞此參數`POINT`的數據結構`CPoint`或 物件。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此函數與`CDC::Arc`類似,但當前位置已更新。 點 *(x1,* *y1*) 和 *(x2*, *y2*) 指定邊界矩形。 由給定邊界矩形形成的橢圓定義弧的曲線。弧逆時針延伸(預設弧方向),從與徑向線相交的點從邊界矩形的中心延伸到 *(x3*, *y3*)。 圓弧在從邊界矩形的中心與徑向線相交的位置結束至 *(x4,* *y4*)。 如果起始點和結束點相同,則繪製完整的橢圓。

線從當前位置繪製到圓弧的起點。如果未發生錯誤,則當前位置設置為圓弧的結束點。弧線使用當前筆繪製;未填充。

## <a name="cdcattach"></a><a name="attach"></a>CDC::附加

使用此成員函數將*hDC*`CDC`附加到 物件。

```
BOOL Attach(HDC hDC);
```

### <a name="parameters"></a>參數

*hDC*<br/>
Windows 設備上下文。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

*hDC*儲存`m_hDC`在輸出裝置上下文`m_hAttribDC`和 屬性設備上下文中。

## <a name="cdcbeginpath"></a><a name="beginpath"></a>CDC::開始路徑

在設備上下文中打開路徑支架。

```
BOOL BeginPath();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

路徑支架打開後,應用程式可以開始呼叫 GDI 繪圖函數來定義路徑中的點。 應用程式可以通過調用成員函數關閉打開`EndPath`的 路徑支架。 當應用程式調用`BeginPath`時,將丟棄以前的任何路徑。

有關定義路徑中的點的繪圖函數的清單,請參閱 Windows SDK 中的[BeginPath。](/windows/win32/api/wingdi/nf-wingdi-beginpath)

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#30](../../mfc/codesnippet/cpp/cdc-class_2.cpp)]

## <a name="cdcbitblt"></a><a name="bitblt"></a>CDC::比特布拉特

將點陣圖從源裝置上下文複製到此當前設備上下文。

```
BOOL BitBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    DWORD dwRop);
```

### <a name="parameters"></a>參數

*x*<br/>
指定目標矩形左上角的邏輯 x 座標。

*Y*<br/>
指定目標矩形左上角的邏輯 y 座標。

*n 寬度*<br/>
指定目標矩形和源位圖的寬度(以邏輯單位為單位)。

*nHeight*<br/>
指定目標矩形和源位圖的高度(以邏輯單位為單位)。

*pSrcDC*<br/>
指向標識將從`CDC`中複製位圖的設備上下文的物件的指標。 如果*dwRop*指定了不包含源的柵格操作,則它必須為 NULL。

*xSrc*<br/>
指定來源點陣圖左上角的邏輯 x 座標。

*伊斯爾克*<br/>
指定源點陣圖左上角的邏輯 y 座標。

*dwRop*<br/>
指定待執行的點陣作業。 柵格操作代碼定義 GDI 如何在涉及當前畫筆、可能的源點陣圖和目標位元圖的輸出操作中組合顏色。 有關*dwRop*的柵格操作代碼及其說明的清單,請參閱 Windows SDK 中的[BitBlt](/windows/win32/api/wingdi/nf-wingdi-bitblt)

有關柵格操作代碼的完整清單,請參閱 Windows SDK 中的[「柵格操作代碼」。](/windows/win32/gdi/raster-operation-codes)

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

應用程式可以對齊位元組邊界上的視窗或工作區,以確保`BitBlt`操作 發生在與位元組對齊的矩形上。 (在註冊視窗類時設置CS_BYTEALIGNWINDOW或CS_BYTEALIGNCLIENT標誌。

`BitBlt`與不對齊的矩形上的工序快`BitBlt`得多。 如果要為自己的設備上下文指定類樣式(如位元組對齊),則必須註冊視窗類,而不是依賴Microsoft Foundation類來為您執行此操作。 使用全域函數[AfxRegisterwndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass)。

GDI 轉換*nWidth*和*nHeight*, 一次使用目標裝置上下文, 一次透過使用來源裝置上下文. 如果生成的範圍不匹配,GDI 會根據需要使用`StretchBlt`Windows 函數壓縮或拉伸源位圖。

如果目標、源和模式位圖的顏色格式不同,則`BitBlt`函數將源和模式位圖轉換為與目標匹配。 轉換中使用了目標位圖的前景和背景顏色。

當`BitBlt`函數將單色位圖轉換為顏色時,它將白色位 (1) 設置到背景顏色,將黑色位 (0) 轉換為前景顏色。 使用目標設備上下文的前景和背景顏色。 要將顏色轉換為單色,將`BitBlt`匹配背景顏色的像素設置為白色,並將所有其他圖元設置為黑色。 `BitBlt`使用顏色設備上下文的前景和背景顏色從顏色轉換為單色。

請注意,並非所有裝置上下文都支援`BitBlt`。 要檢查給定的設備上下文是否支援`BitBlt`,請`GetDeviceCaps`使用成員函數並指定 RASTERCAPS 索引。

### <a name="example"></a>範例

  請參考 CDC 的範例[::建立相容DC](#createcompatibledc)。

## <a name="cdccdc"></a><a name="cdc"></a>CDC::CDC

建構 `CDC` 物件。

```
CDC();
```

## <a name="cdcchord"></a><a name="chord"></a>CDC::喬德

繪製和絃(由橢圓和線段的交點邊界的閉合圖)。

```
BOOL Chord(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Chord(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定和弦邊界矩形左上角的 x 座標(以邏輯單位表示)。

*y1*<br/>
指定和弦邊界矩形左上角的 y 座標(以邏輯單位表示)。

*x2*<br/>
指定和弦邊界矩形右下角的 x 座標(以邏輯單位表示)。

*y2*<br/>
指定和弦邊界矩形右下角的 y 座標(以邏輯單位表示)。

*x3*<br/>
指定定義和弦起點(以邏輯單位為單位)的點的 x 座標。

*y3*<br/>
指定定義和弦起點(邏輯單位)的點的 y 座標。

*x4*<br/>
指定定義和弦端點(以邏輯單位)的點的 x 座標。

*y4*<br/>
指定定義和弦端點(以邏輯單位)的點的 y 座標。

*lpRect*<br/>
指定邊界矩形(以邏輯單位表示)。 您可以為此參數傳遞 LPRECT 或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

*pt 開始*<br/>
指定定義和弦起點(以邏輯單位為單位)的點的 x 和 y 座標。 這一點不必完全躺在和弦上。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

*ptEnd*<br/>
指定定義和弦結束點的點的 x 座標和 y 座標(以邏輯單位表示)。 這一點不必完全躺在和弦上。 您可以為此參數傳遞[POINT](/windows/win32/api/windef/ns-windef-point)結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

*(x1、y1*) 和 *(x2*, *y2*) 參數分別指定矩形的左上角和右下角,該矩形與作為和弦一*y1*部分的橢圓的邊界。 *(x3、y3*) 和 *(x4*, *y4*) 參數指定與橢圓相*y3*交的線的端點。 使用所選筆繪製和弦,並使用所選畫筆填充。

函數繪製的`Chord`圖形最多延伸到,但不包括右座標和底部座標。 這意味著圖形的高度為*y2* - *y1,* 圖形的寬度為*x2* - *x1*。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#31](../../mfc/codesnippet/cpp/cdc-class_3.cpp)]

## <a name="cdcclosefigure"></a><a name="closefigure"></a>CDC::關閉圖

關閉路徑中的打開圖形。

```
BOOL CloseFigure();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

函數通過將一條線從當前位置繪製到圖形的第一個點(通常是最近對`MoveTo`成員函數調用指定的點)來關閉圖形,並使用線路聯接樣式連接線。 如果使用`LineTo`成員函數而不是`CloseFigure`關閉圖形,則使用結束大寫來創建角而不是聯接。 `CloseFigure`僅當設備上下文中存在打開的路徑支架時,才應調用。

路徑中的圖形是打開的,除非使用此函數顯式關閉它。 (即使圖形的當前點和起始點相同,也可以打開圖形。啟動新圖形後`CloseFigure`添加到路徑的任何線或曲線。

## <a name="cdccreatecompatibledc"></a><a name="createcompatibledc"></a>CDC::建立相容DC

建立與*pDC*指定的裝置的記憶體裝置上下文。

```
BOOL CreateCompatibleDC(CDC* pDC);
```

### <a name="parameters"></a>參數

*pDC*<br/>
裝置內容的指標。 如果*pDC*為 NULL,則函數將創建與系統顯示相容的記憶體裝置上下文。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

記憶體設備上下文是表示顯示表面的記憶體區塊。 它可用於在將圖像複製到相容設備的實際設備表面之前在記憶體中準備圖像。

創建記憶體裝置上下文時,GDI 會自動為其選擇 1 個黑白股票位圖。 僅當已創建位圖並將其選擇到該上下文中時,GDI 輸出函數才能與記憶體裝置上下文一起使用。

此功能只能用於為支援閘格操作的設備創建相容的設備上下文。 有關設備上下文之間的位塊傳輸的資訊,請參閱[CDC:BitBlt](#bitblt)成員函數。 要確定裝置上下文是否支援閘格操作,請參閱成員函數中的RC_BITBLT柵格功能`CDC::GetDeviceCaps`。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#32](../../mfc/codesnippet/cpp/cdc-class_4.cpp)]

## <a name="cdccreatedc"></a><a name="createdc"></a>CDC::建立DC

為指定的設備創建設備上下文。

```
BOOL CreateDC(
    LPCTSTR lpszDriverName,
    LPCTSTR lpszDeviceName,
    LPCTSTR lpszOutput,
    const void* lpInitData);
```

### <a name="parameters"></a>參數

*lpsz 司機名稱*<br/>
指向指定裝置驅動程式的檔名(不帶擴展名)的 null 端接字串(例如"EPSON")。 您還可以傳遞此參數`CString`的物件。

*lpszDevice 名稱*<br/>
指向指定要支援的特定設備名稱的 null 連接端接字串(例如,"EPSON FX-80" 。 如果模組支援多個裝置,則使用*lpszDeviceName*參數。 您還可以傳遞此參數`CString`的物件。

*lpsz輸出*<br/>
指定物理輸出媒體(檔案或輸出埠)的檔案或裝置名稱的 null 連接連接字串。 您還可以傳遞此參數`CString`的物件。

*lpInitData*<br/>
指向包含`DEVMODE`設備驅動程式的設備特定初始化數據的結構。 Windows`DocumentProperties`函數檢索為給定設備填充的此結構。 如果裝置驅動程式要使用使用者透過控制面板指定的預設初始化(如果有),*則 lpInitData*參數必須為 NULL。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

列印。如果使用[DEVMODE](/windows/win32/api/wingdi/ns-wingdi-devmodea)結構,則需要 H 標頭檔。

設備名稱遵循這些約定:結束冒號(:)建議,但可選。 Windows 會剝離終止冒號,以便以冒號結尾的設備名稱映射到與沒有冒號的相同名稱相同的埠。 驅動程式和埠名稱不得包含前導空格或尾隨空格。 GDI 輸出函數不能與資訊上下文一起使用。

## <a name="cdccreateic"></a><a name="createic"></a>CDC::建立IC

為指定的設備創建資訊上下文。

```
BOOL CreateIC(
    LPCTSTR lpszDriverName,
    LPCTSTR lpszDeviceName,
    LPCTSTR lpszOutput,
    const void* lpInitData);
```

### <a name="parameters"></a>參數

*lpsz 司機名稱*<br/>
指向指定裝置驅動程式的檔名(不帶擴展名)的 null 端接字串(例如"EPSON")。 您可以傳遞此參數`CString`的物件。

*lpszDevice 名稱*<br/>
指向指定要支援的特定設備名稱的 null 連接端接字串(例如,"EPSON FX-80" 。 如果模組支援多個裝置,則使用*lpszDeviceName*參數。 您可以傳遞此參數`CString`的物件。

*lpsz輸出*<br/>
指定物理輸出媒體(檔案或連接埠)的檔案或裝置名稱的 null 連接連接字串。 您可以傳遞此參數`CString`的物件。

*lpInitData*<br/>
指向設備驅動程序的設備特定初始化數據。 如果裝置驅動程式要使用使用者透過控制面板指定的預設初始化(如果有),*則 lpInitData*參數必須為 NULL。 有關`CreateDC`特定於設備的初始化的數據格式,請參閱。

### <a name="return-value"></a>傳回值

如果成功則為非零；否則為 0。

### <a name="remarks"></a>備註

資訊上下文提供了一種快速的方式,無需創建設備上下文即可獲取有關設備的資訊。

設備名稱遵循這些約定:結束冒號(:)建議,但可選。 Windows 會剝離終止冒號,以便以冒號結尾的設備名稱映射到與沒有冒號的相同名稱相同的埠。 驅動程式和埠名稱不得包含前導空格或尾隨空格。 GDI 輸出函數不能與資訊上下文一起使用。

## <a name="cdcdeletedc"></a><a name="deletedc"></a>CDC::DeleteDC

通常,不要調用此函數;因此,不要調用此函數。毀滅者會為你做

```
BOOL DeleteDC();
```

### <a name="return-value"></a>傳回值

如果函數成功完成,則非零;否則 0。

### <a name="remarks"></a>備註

成員`DeleteDC`函數刪除與`m_hDC``CDC`當前 物件中關聯的 Windows 設備上下文。 如果此`CDC`物件是給定設備的最後一個活動設備上下文,則會通知設備,並釋放設備使用的所有存儲和系統資源。

如果物件已選擇到`DeleteDC`設備上下文中,則應用程式不應調用。 必須先從設備上下文中選擇物件,然後才能將其刪除。

應用程式不得刪除其句柄通過調用[CWnd::getDC](../../mfc/reference/cwnd-class.md#getdc)獲得的設備上下文。 相反,它必須調用[CWnd::ReleaseDC](../../mfc/reference/cwnd-class.md#releasedc)來釋放設備上下文。 提供[CClientDC](../../mfc/reference/cclientdc-class.md)和[CWindowDC](../../mfc/reference/cwindowdc-class.md)類來包裝此功能。

該`DeleteDC`函數通常用於刪除使用[CreateDC、CreateIC](#createdc)或[CreateIC](#createic)Create[相容DC](#createcompatibledc)創建的裝置上下文。

### <a name="example"></a>範例

  請參考[CPrintDialog 的範例:取得 PrinterDC](../../mfc/reference/cprintdialog-class.md#getprinterdc)。

## <a name="cdcdeletetempmap"></a><a name="deletetempmap"></a>CDC::DeleteTempMap

由`CWinApp`空閒時間處理程式自動呼`DeleteTempMap`叫 ,刪除`CDC``FromHandle`由創建的任何臨時物件,但不會銷`hDC``CDC`毀臨時與 物件關聯的設備上下文句柄。

```
static void PASCAL DeleteTempMap();
```

## <a name="cdcdetach"></a><a name="detach"></a>CDC::D

呼叫此函數以從`m_hDC``CDC`物件分離(輸出裝置上下文),並將`m_hDC``m_hAttribDC`和 NULL 同時設置為 NULL。

```
HDC Detach();
```

### <a name="return-value"></a>傳回值

Windows 設備上下文。

## <a name="cdcdptohimetric"></a><a name="dptohimetric"></a>CDC::DPtoHIMETRIC

將 HIMETRIC 大小轉換為 OLE 時,請使用此功能,將圖元轉換為 HIMETRIC。

```cpp
void DPtoHIMETRIC(LPSIZE lpSize) const;
```

### <a name="parameters"></a>參數

*lpSize*<br/>
指向[SIZE](/windows/win32/api/windef/ns-windef-size)結構或[CSize](../../atl-mfc-shared/reference/csize-class.md)物件。

### <a name="remarks"></a>備註

如果設備上下文物件的映射模式MM_LOENGLISH、MM_HIENGLISH、MM_LOMETRIC 或MM_HIMETRIC,則轉換基於物理英寸中的圖元數。 如果映射模式是其他非約束模式之一(例如,MM_TEXT),則轉換基於邏輯英寸中的圖元數。

## <a name="cdcdptolp"></a><a name="dptolp"></a>CDC::DPtoLP

將設備單元轉換為邏輯單位。

```cpp
void DPtoLP(
    LPPOINT lpPoints,
    int nCount = 1) const;

void DPtoLP(LPRECT lpRect) const;
void DPtoLP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向[POINT](/windows/win32/api/windef/ns-windef-point)結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件的陣列。

*n( N) Count*<br/>
陣列中的點數。

*lpRect*<br/>
指向[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。 此參數用於將一個矩形從設備點轉換為邏輯點的簡單情況。

*lpSize*<br/>
指向[SIZE](/windows/win32/api/windef/ns-windef-size)結構或[CSize](../../atl-mfc-shared/reference/csize-class.md)物件。

### <a name="remarks"></a>備註

該函數將每個點的座標或大小的尺寸從設備座標系映射到 GDI 的邏輯座標系。 轉換取決於當前映射模式以及設備視窗和視口的源和範圍的設置。

## <a name="cdcdraw3drect"></a><a name="draw3drect"></a>CDC::D原始3dRect

調用此成員函數以繪製三維矩形。

```cpp
void Draw3dRect(
    LPCRECT lpRect,
    COLORREF clrTopLeft,
    COLORREF clrBottomRight);

void Draw3dRect(
    int x,
    int y,
    int cx,
    int cy,
    COLORREF clrTopLeft,
    COLORREF clrBottomRight);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指定邊界矩形(以邏輯單位表示)。 您可以傳遞指向[RECT](/windows/win32/api/windef/ns-windef-rect)結構的指標或此參數的[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

*clrTop左*<br/>
指定三維矩形的頂部和左側的顏色。

*clrBottomRight*<br/>
指定三維矩形底部和右側的顏色。

*x*<br/>
指定 3D 矩形左上角的邏輯 x 座標。

*Y*<br/>
指定三維矩形左上角的邏輯 y 座標。

*殘雪*<br/>
指定三維矩形的寬度。

*cy*<br/>
指定三維矩形的高度。

### <a name="remarks"></a>備註

矩形將以*clrTopLeft*指定的顏色繪製,在*clrBottomRight*指定的顏色中繪製底部和右側。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#33](../../mfc/codesnippet/cpp/cdc-class_5.cpp)]

## <a name="cdcdrawdragrect"></a><a name="drawdragrect"></a>CDC::DrawDragrect

重複調用此成員函數以重繪拖動矩形。

```cpp
void DrawDragRect(
    LPCRECT lpRect,
    SIZE size,
    LPCRECT lpRectLast,
    SIZE sizeLast,
    CBrush* pBrush = NULL,
    CBrush* pBrushLast = NULL);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件,該物件指定矩形的邏輯座標 - 在這種情況下,要重繪的矩形的結束位置。

*size*<br/>
指定從外部邊框的左上角到矩形內邊框的左上角(即邊框的粗細)的位移。

*lpRectLast*<br/>
指向[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件,該物件指定矩形位置的邏輯座標 - 在這種情況下,要重繪的矩形的原始位置。

*大小 上次*<br/>
指定從外邊框左上角到要重繪的原始矩形的左上角(即邊框的粗細)的位移。

*pBrush*<br/>
指向畫筆對象的指標。 設置為 NULL 以使用預設半色調筆刷筆。

*pBrushLast*<br/>
指向使用的最後一個畫筆物件。 設置為 NULL 以使用預設半色調筆刷筆。

### <a name="remarks"></a>備註

在採樣滑鼠位置時在循環中調用它,以便提供視覺反饋。 呼叫`DrawDragRect`時,將擦除上一個矩形,並繪製一個新矩形。 例如,當使用者在螢幕上拖動矩形時,`DrawDragRect`將擦除原始矩形並在其新位置重新繪製新矩形。 預設情況下,`DrawDragRect`使用半色調畫筆繪製矩形以消除閃爍並創建平滑移動矩形的外觀。

首次調用`DrawDragRect`時 *,lpRectLast*參數應為 NULL。

## <a name="cdcdrawedge"></a><a name="drawedge"></a>CDC::D原始邊緣

呼叫此成員函數以繪製指定類型和樣式的矩形的邊緣。

```
BOOL DrawEdge(
    LPRECT lpRect,
    UINT nEdge,
    UINT nFlags);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向包含矩形邏輯`RECT`座標的結構的指標。

*nEdge*<br/>
指定要繪製的內邊緣和外邊緣的類型。 此參數必須是一個內邊界標誌和一個外部邊框標誌的組合。 有關參數類型的表,請參閱 Windows SDK 中的[DrawEdge。](/windows/win32/api/winuser/nf-winuser-drawedge)

*nFlags*<br/>
指定要繪製的邊框類型的標誌。 有關`DrawEdge`參數值的表,請參閱 Windows SDK。 對於對角線,BF_RECT標誌指定由矩形參數邊界的向量的終點。

### <a name="return-value"></a>傳回值

如果成功則為非零；否則為 0。

## <a name="cdcdrawescape"></a><a name="drawescape"></a>CDC::D原始逃生

訪問無法透過圖形裝置介面 (GDI) 直接可用的影片顯示的繪圖功能。

```
int DrawEscape(
    int nEscape,
    int nInputSize,
    LPCSTR lpszInputData);
```

### <a name="parameters"></a>參數

*n逃生*<br/>
指定要執行的轉義函數。

*nInputSize*<br/>
指定*lpszInputData*參數指向的資料位元組數。

*lpszInput 資料*<br/>
指向指定轉義所需的輸入結構。

### <a name="return-value"></a>傳回值

指定函數的結果。 如果成功,大於零,但查詢CSUPPORT繪製轉義除外,該轉義僅檢查實現;或零,如果未實現轉義;或小於零,如果發生錯誤。

### <a name="remarks"></a>備註

當應用程式呼叫`DrawEscape`時 *,nInputSize*和*lpszInputData*識別的數據將直接傳遞到指定的顯示驅動程式。

## <a name="cdcdrawfocusrect"></a><a name="drawfocusrect"></a>CDC::D原始焦點Rect

在樣式中繪製矩形,用於指示矩形具有焦點。

```cpp
void DrawFocusRect(LPCRECT lpRect);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件,該物件指定要繪製的矩形的邏輯座標。

### <a name="remarks"></a>備註

由於這是布爾 XOR 函數,因此第二次使用相同的矩形調用此函數會從顯示中刪除矩形。 無法滾動由此函數繪製的矩形。 要滾動包含此函數繪製的矩形的區域,請先調用`DrawFocusRect`從顯示中刪除矩形,然後滾動該區域,然後再次調`DrawFocusRect`用 以在新位置繪製矩形。

> [!CAUTION]
> `DrawFocusRect`僅在MM_TEXT模式下工作。 在其他模式下,此函數不能正確繪製焦點矩形,但不會返回錯誤值。

## <a name="cdcdrawframecontrol"></a><a name="drawframecontrol"></a>CDC::D原始框架控制

調用此成員函數以繪製指定類型和樣式的幀控制件。

```
BOOL DrawFrameControl(
    LPRECT lpRect,
    UINT nType,
    UINT nState);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向包含矩形邏輯`RECT`座標的結構的指標。

*nType*<br/>
指定要繪製的幀控件的類型。 有關此參數的可能值的清單,請參閱 Windows SDK 中的[DrawFrameControl](/windows/win32/api/winuser/nf-winuser-drawframecontrol)中的*uType*參數。

*n州*<br/>
指定幀控制項的初始狀態。 可以是 Windows SDK 中`DrawFrameControl`為*uState*參數描述的一個或多個值。 使用*nState*值DFCS_ADJUSTRECT調整邊界矩形以排除按鈕的周圍邊緣。

### <a name="return-value"></a>傳回值

如果成功則為非零；否則為 0。

### <a name="remarks"></a>備註

在多種情況下 *,nState*依賴於*nType*參數。 下面的清單顯示了四個*nType*值和*nState*之間的關係:

- DFC_BUTTON

  - DFCS_BUTTON3STATE三狀態按鈕

  - DFCS_BUTTONCHECK複選方塊

  - DFCS_BUTTONPUSH按鈕

  - DFCS_BUTTONRADIO單選按鈕

  - DFCS_BUTTONRADIOIMAGE用於單選按鈕的影像(非方形需要影像)

  - DFCS_BUTTONRADIOMASK單選按鈕的蒙版(非方形需要蒙版)

- DFC_CAPTION

  - DFCS_CAPTIONCLOSE 關閉按鈕

  - DFCS_CAPTIONHELP說明按鈕

  - DFCS_CAPTIONMAX 最大化按鈕

  - DFCS_CAPTIONMIN 最小化按鈕

  - DFCS_CAPTIONRESTORE 還原按鈕

- DFC_MENU

  - DFCS_MENUARROW子選單箭頭

  - DFCS_MENUBULLET項目符號

  - DFCS_MENUCHECK檢查標記

- DFC_SCROLL

  - DFCS_SCROLLCOMBOBOX組合框捲動條

  - DFCS_SCROLLDOWN捲動條向下箭頭

  - DFCS_SCROLLLEFT滾動條的左箭頭

  - DFCS_SCROLLRIGHT捲軸條的右箭頭

  - DFCS_SCROLLSIZEGRIP 視窗右下角的尺寸夾點

  - DFCS_SCROLLUP捲軸的向上箭頭

### <a name="example"></a>範例

此代碼在視窗右下角繪製大小夾持器。 它適用於對話框的`OnPaint`處理程式,該對話框沒有樣式,通常不包含可能為其提供大小夾持器的其他控制件(如狀態列)。

[!code-cpp[NVC_MFCDocView#34](../../mfc/codesnippet/cpp/cdc-class_6.cpp)]

## <a name="cdcdrawicon"></a><a name="drawicon"></a>CDC::D原

在由當前`CDC`物件表示的設備上繪製圖示。

```
BOOL DrawIcon(
    int x,
    int y,
    HICON hIcon);

BOOL DrawIcon(
    POINT point,
    HICON hIcon);
```

### <a name="parameters"></a>參數

*x*<br/>
指定圖示左上角的邏輯 x 座標。

*Y*<br/>
指定圖示左上角的邏輯 y 座標。

*hIcon*<br/>
標識要繪製的圖示的句柄。

*點*<br/>
指定圖示左上角的邏輯 x 座標。 您可以為此參數傳遞[POINT](/windows/win32/api/windef/ns-windef-point)結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

### <a name="return-value"></a>傳回值

如果函數成功完成,則非零;否則 0。

### <a name="remarks"></a>備註

該函數將圖示的左上角置於*x*和*y*指定的位置。 該位置受設備上下文的當前映射模式的約束。

圖示資源以前必須使用 函`CWinApp::LoadIcon`數`CWinApp::LoadStandardIcon``CWinApp::LoadOEMIcon`或載入。 在`MM_TEXT`使用此函數之前,必須選擇映射模式。

### <a name="example"></a>範例

  請參閱[CWnd 的範例::IsIconic](../../mfc/reference/cwnd-class.md#isiconic)。

## <a name="cdcdrawstate"></a><a name="drawstate"></a>CDC::D原

調用此成員函數以顯示圖像並應用視覺效果以指示狀態,如禁用或預設狀態。

> [!NOTE]
> 對於除DSS_NORMAL之外的所有*nFlag*狀態,在應用視覺效果之前,圖像將轉換為單色。

```
BOOL DrawState(
    CPoint pt,
    CSize size,
    HBITMAP hBitmap,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    CBitmap* pBitmap,
    UINT nFlags,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    HICON hIcon,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    HICON hIcon,
    UINT nFlags,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    LPCTSTR lpszText,
    UINT nFlags,
    BOOL bPrefixText = TRUE,
    int nTextLen = 0,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    LPCTSTR lpszText,
    UINT nFlags,
    BOOL bPrefixText = TRUE,
    int nTextLen = 0,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    DRAWSTATEPROC lpDrawProc,
    LPARAM lData,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    DRAWSTATEPROC lpDrawProc,
    LPARAM lData,
    UINT nFlags,
    CBrush* pBrush = NULL);
```

### <a name="parameters"></a>參數

*pt*<br/>
指定圖像的位置。

*size*<br/>
指定圖像的大小。

*hBitmap*<br/>
位圖的句柄。

*nFlags*<br/>
指定圖像類型和狀態的標誌。 有關可能的*nFlags*類型與狀態,請參閱 Windows SDK 中的[繪製狀態](/windows/win32/api/winuser/nf-winuser-drawstatew)。

*hBrush*<br/>
刷子的手柄。

*pBitmap*<br/>
指向 CBitmap 物件的指標。

*pBrush*<br/>
指向 CBrush 物件的指標。

*hIcon*<br/>
圖示的控制代碼。

*lpszText*<br/>
指向文本的指標。

*bPrefix 文字*<br/>
可能包含加速器助記符的文本。 *lData*參數指定字串的位址 *,nTextLen*參數指定長度。 如果*nTextLen*為 0,則假定字串為 null 終止。

*nTextLen*<br/>
*lpszText*指向的文字字串的長度。 如果*nTextLen*為 0,則假定字串為 null 終止。

*lpDrawProc*<br/>
指向用於渲染圖像的回調函數的指標。 如果*nFlags*中的影像類型DST_COMPLEX,則需要此參數。 它是可選的,如果圖像類型為 DST_TEXT,則可以為 NULL。 對於所有其他圖像類型,將忽略此參數。 有關回調功能的詳細資訊,請參閱 Windows SDK 中的[DrawState Proc](/windows/win32/api/winuser/nc-winuser-drawstateproc)函數。

*lData*<br/>
指定有關圖像的資訊。 此參數的含義取決於圖像類型。

### <a name="return-value"></a>傳回值

如果成功則為非零；否則為 0。

## <a name="cdcdrawtext"></a><a name="drawtext"></a>CDC::D原文本

呼叫此成員函數以在給定矩形中設定文本的格式。 要指定其他格式選項,請使用[CDC::DrawTextEx](#drawtextex)。

```
virtual int DrawText(
    LPCTSTR lpszString,
    int nCount,
    LPRECT lpRect,
    UINT nFormat);

int DrawText(
    const CString& str,
    LPRECT lpRect,
    UINT nFormat);
```

### <a name="parameters"></a>參數

*lpszString*<br/>
指向要繪製的字串。 如果*nCount*為 -1,則字串必須為 null 終止。

*n( N) Count*<br/>
指定字串中的字元數。 如果*nCount*為 -1,則*假定 lpszString*是指向 null`DrawText`終止字串的長 指標,並自動計算字元計數。

*lpRect*<br/>
指向包含要格式化文本的矩形(在邏輯座標中)的[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

*Str*<br/>
包含要繪製的指定字元的[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件。

*nFormat*<br/>
指定設定文字格式的方法。 它可以是 Windows SDK 中[DrawText](/windows/win32/api/winuser/nf-winuser-drawtext)中為*uFormat*參數描述的數值的任意組合。 ( 使用位或運算子 )

> [!NOTE]
> 某些*uFormat*標誌組合可能導致修改傳遞的字串。 將DT_MODIFYSTRING與DT_END_ELLIPSIS或DT_PATH_ELLIPSIS一起使用可能會導致字串被修改,從而導致重寫中的`CString`斷言。 值DT_CALCRECT、DT_EXTERNALLEADING、DT_INTERNAL、DT_NOCLIP和DT_NOPREFIX不能與DT_TABSTOP值一起使用。

### <a name="return-value"></a>傳回值

如果函數成功,則文本的高度。

### <a name="remarks"></a>備註

它通過將選項卡擴展到適當的空格,將文本對齊到給定矩形的左側、右側或中心,並將文本分解為適合給定矩形的行,從而設置文本的格式。 格式的類型由*nFormat*指定。

此成員函數使用設備上下文的選定字體、文本顏色和背景顏色來繪製文本。 除非使用DT_NOCLIP格式,否則`DrawText`剪輯文字,以便文本不會顯示在給定矩形之外。 除非給出了DT_SINGLELINE格式,否則所有格式都假定具有多行。

如果所選字體對於指定的矩形太大,則`DrawText`成員函數不會嘗試替換較小的字體。

如果指定DT_CALCRECT標誌,*則 lpRect*指定的矩形將更新以反映繪製文本所需的寬度和高度。

如果設置了TA_UPDATECP文本對齊標誌(請參閱[CDC:SetTextAlign),](#settextalign)`DrawText`將顯示從當前位置開始的文本,而不是在給定矩形的左側。 `DrawText`設置TA_UPDATECP標誌時不會換行文本(也就是說,DT_WORDBREAK標誌將不起作用)。

文字顏色可以由 CDC 設定[:setTextColor](#settextcolor)。

## <a name="cdcdrawtextex"></a><a name="drawtextex"></a>CDC::D原始文字Ex

在給定矩形中設定文字的格式。

```
virtual int DrawTextEx(
    LPTSTR lpszString,
    int nCount,
    LPRECT lpRect,
    UINT nFormat,
    LPDRAWTEXTPARAMS lpDTParams);

int DrawTextEx(
    const CString& str,
    LPRECT lpRect,
    UINT nFormat,
    LPDRAWTEXTPARAMS lpDTParams);
```

### <a name="parameters"></a>參數

*lpszString*<br/>
指向要繪製的字串。 如果*nCount*為 -1,則字串必須為 null 終止。

*n( N) Count*<br/>
指定字串中的字元數。 如果*nCount*為 -1,則*假定 lpszString*是指向 null`DrawText`終止字串的長 指標,並自動計算字元計數。

*lpRect*<br/>
指向包含要格式化文本的矩形(在邏輯座標中)的[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

*Str*<br/>
包含要繪製的指定字元的[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件。

*nFormat*<br/>
指定設定文字格式的方法。 它可以是 Windows SDK 中[DrawText](/windows/win32/api/winuser/nf-winuser-drawtext)中為*uFormat*參數描述的數值的任意組合。 (**使用位或**運算子進行群組):

> [!NOTE]
> 某些*uFormat*標誌組合可能導致修改傳遞的字串。 將DT_MODIFYSTRING與DT_END_ELLIPSIS或DT_PATH_ELLIPSIS一起使用可能會導致字串被修改,從而導致重寫中的`CString`斷言。 值DT_CALCRECT、DT_EXTERNALLEADING、DT_INTERNAL、DT_NOCLIP和DT_NOPREFIX不能與DT_TABSTOP值一起使用。

*lpDTParams*<br/>
指向指定其他格式選項的[DRAWTEXTPARAMS](/windows/win32/api/winuser/ns-winuser-drawtextparams)結構的指標。 此參數可以是 NULL。

### <a name="remarks"></a>備註

它通過將選項卡擴展到適當的空格,將文本對齊到給定矩形的左側、右側或中心,並將文本分解為適合給定矩形的行,從而設置文本的格式。 格式的類型由*nFormat*和*lpDTParams*指定。 有關詳細資訊,請參閱 Windows SDK 中的[CDC::DrawText](#drawtext)和[DrawTextEx。](/windows/win32/api/winuser/nf-winuser-drawtextexw)

文字顏色可以由 CDC 設定[:setTextColor](#settextcolor)。

## <a name="cdcellipse"></a><a name="ellipse"></a>CDC::橢圓

繪製橢圓形。

```
BOOL Ellipse(
    int x1,
    int y1,
    int x2,
    int y2);

BOOL Ellipse(LPCRECT lpRect);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定橢圓邊界矩形左上角的邏輯 x 座標。

*y1*<br/>
指定橢圓邊界矩形左上角的邏輯 y 座標。

*x2*<br/>
指定橢圓邊界矩形右下角的邏輯 x 座標。

*y2*<br/>
指定橢圓邊界矩形右下角的邏輯 y 座標。

*lpRect*<br/>
指定橢圓的邊界矩形。 您還可以為此參數傳遞[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

橢圓的中心是由*x1、y1、x2*和*y2**y1*或*lpRect*指定的*x2*邊界矩形的中心。 橢圓用當前筆繪製,其內部用當前畫筆填充。

此函數繪製的圖形最多延伸到右座標和底部座標,但不包括該座標。 這意味著圖形的高度為*y2* - *y1,* 圖形的寬度為*x2* - *x1*。

如果邊界矩形的寬度或高度為 0,則不繪製橢圓。

## <a name="cdcenddoc"></a><a name="enddoc"></a>CDC::結束檔案

結束由調用[StartDoc](#startdoc)成員函數啟動的列印作業。

```
int EndDoc();
```

### <a name="return-value"></a>傳回值

如果函數成功,大於或等於 0;如果發生錯誤,則為負值。

### <a name="remarks"></a>備註

此成員功能將替換 ENDDOC 印表機轉義,在完成成功列印作業後立即調用。

如果應用程式遇到列印錯誤或已取消的列印操作,則不得嘗試使用`EndDoc`或[AbortDoc](#abortdoc)終止操作。 GDI 在返回錯誤值之前自動終止操作。

不應在元檔中使用此功能。

### <a name="example"></a>範例

  請參考 CDC[的範例:StartDoc](#startdoc)。

## <a name="cdcendpage"></a><a name="endpage"></a>CDC::結束頁

通知設備應用程式已完成寫入頁面。

```
int EndPage();
```

### <a name="return-value"></a>傳回值

如果函數成功,大於或等於 0;如果發生錯誤,則為負值。

### <a name="remarks"></a>備註

此成員函數通常用於指示設備驅動程序前進到新頁面。

此成員功能將替換 NEWFRAME 印表機轉義。 與 NEWFRAME 不同,此函數始終在列印頁面後調用。

### <a name="example"></a>範例

  請參考 CDC[的範例:StartDoc](#startdoc)。

## <a name="cdcendpath"></a><a name="endpath"></a>CDC::結束路徑

關閉路徑括弧,並將支架定義的路徑選擇到設備上下文中。

```
BOOL EndPath();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="example"></a>範例

  請參考 CDC 的範例[::開始路徑](#beginpath)。

## <a name="cdcenumobjects"></a><a name="enumobjects"></a>CDC::枚舉物件

枚舉設備上下文中可用的筆和畫筆。

```
int EnumObjects(
    int nObjectType,
    int (CALLBACK* lpfn)(
    LPVOID,
    LPARAM),
    LPARAM lpData);
```

### <a name="parameters"></a>參數

*nObject 類型*<br/>
指定物件類型。 它可以具有值OBJ_BRUSH或OBJ_PEN。

*利夫芬*<br/>
是應用程式提供的回調函數的過程實例位址。 請參閱下面的「備註」 部分。

*lpData*<br/>
指向應用程式提供的數據。 數據與物件資訊一起傳遞到回調函數。

### <a name="return-value"></a>傳回值

指定[回檔函數](callback-functions-used-by-mfc.md#enum_objects)傳回的最後一個值。 其含義是使用者定義的。

### <a name="remarks"></a>備註

對於給定類型的每個物件,您傳遞的回調函數將隨該物件的資訊一起調用。 系統調用回調功能,直到沒有更多的對象或回調函數返回 0。

請注意,Microsoft VisualC++的新功能允許您使用普通函數作為函數傳遞`EnumObjects`給 。 傳遞給的位址`EnumObjects`指向使用**EXPORT**導出的函數和 Pascal 調用約定的函數的指標。 在保護模式應用程式中,您不必使用 Windows MakeProcA 函數創建此函數,也不必在使用 FreeProcInstance Windows 功能後釋放該函數。

您也不必在應用程式的模組定義檔中的**EXPORTS**語句中匯出函數名稱。 您可以改為使用**EXPORT**函數修改器,如

**int 回撥匯出**功能 **(LPSTR,** **LPSTR);**

使編譯器發出正確的匯出記錄,以便按名稱匯出,而無需別名。 這適用於大多數需求。 對於某些特殊情況,例如通過單位匯出或別名匯出函數,您仍然需要在模組定義檔中使用**EXPORT**語句。

對於編譯 Microsoft 基礎程式,您通常將使用 /GA 和 /GEs 編譯器選項。 /Gw 編譯器選項不與 Microsoft 基礎類一起使用。 (如果使用 Windows`MakeProcInstance`函數 ,則需要顯式將返回的函數指標從 FARPROC 轉換為此 API 中所需的類型。回檔註冊介面現在屬於類型安全(您必須傳遞一個函數指標,該函數指標指向特定回調的正確類型的函數)。

另請注意,所有回調函數在返回到 Windows 之前都必須捕獲 Microsoft Foundation 異常,因為異常不能跨回調邊界引發。 有關異常的詳細資訊,請參閱文章["例外](../../mfc/exception-handling-in-mfc.md)"。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#35](../../mfc/codesnippet/cpp/cdc-class_7.cpp)]

## <a name="cdcescape"></a><a name="escape"></a>CDC::逃生

此成員函數實際上已過時,用於 Win32 程式設計。

```
virtual int Escape(
    int nEscape,
    int nCount,
    LPCSTR lpszInData,
    LPVOID lpOutData);

int Escape(
    int nEscape,
    int nInputSize,
    LPCSTR lpszInputData,
    int nOutputSize,
    LPSTR lpszOutputData);
```

### <a name="parameters"></a>參數

*n逃生*<br/>
指定要執行的轉義函數。

有關轉義函數的完整清單,請參閱 Windows SDK 中的[轉義](/windows/win32/api/wingdi/nf-wingdi-escape)。

*n( N) Count*<br/>
指定*lpszInData*指向的資料位元數。

*lpszInData*<br/>
指向此轉義所需的輸入數據結構。

*lpOutData*<br/>
指向要從此轉義接收輸出的結構。 如果未傳回任何資料,*則 lpOutData*參數為 NULL。

*nInputSize*<br/>
指定*lpszInputData*參數指向的資料位元組數。

*lpszInput 資料*<br/>
指向指定轉義所需的輸入結構。

*n 輸出大小*<br/>
指定*lpszOutputData*參數指向的資料位元組數。

*lpsz 輸出資料*<br/>
指向從此轉義接收輸出的結構。 如果未返回任何資料,則此參數應為 NULL。

### <a name="return-value"></a>傳回值

如果函數成功,則返回正值,但查詢支持轉義除外,該轉義僅檢查實現。 如果未實現轉義,則返回零。 如果發生錯誤,將返回負值。 以下是常見的錯誤值:

- SP_ERROR一般錯誤。

- SP_OUTOFDISK當前沒有足夠的磁碟空間可用於後台列印,並且不再有可用空間。

- SP_OUTOFMEMORY沒有足夠的記憶體可用於後台。

- SP_USERABORT用戶通過列印管理器結束了作業。

### <a name="remarks"></a>備註

在原始印表機轉義中,Win32 應用程式僅支持查詢支援。 所有其他印表機轉義都已過時,僅支援與 16 位應用程式的相容性。

對於 Win32`CDC`程式設計 ,現在提供了六個成員函數,這些函數將取代相應的印表機轉義:

- [CDC::中止](#abortdoc)

- [CDC::結束檔案](#enddoc)

- [CDC::結束頁](#endpage)

- [CDC::SetAbortProc](#setabortproc)

- [CDC::開機文件](#startdoc)

- [CDC::起始頁](#startpage)

此外[,CDC::GetDeviceCaps](#getdevicecaps)支援 Win32 索引,這些索引將取代其他印表機轉義。 有關詳細資訊,請參閱 Windows SDK 中的[GetDevice Caps。](/windows/win32/api/wingdi/nf-wingdi-getdevicecaps)

此成員功能允許應用程式訪問無法透過 GDI 直接可用的特定設備的設施。

如果應用程式使用預定義的轉義值,請使用第一個版本。 如果應用程式定義私有轉義值,請使用第二個版本。 有關第二個版本的詳細資訊,請參閱 Windows SDK 中的[ExtEscape。](/windows/win32/api/wingdi/nf-wingdi-extescape)

## <a name="cdcexcludecliprect"></a><a name="excludecliprect"></a>CDC::排除剪輯

創建由現有裁剪區域減去指定矩形的新裁剪區域。

```
int ExcludeClipRect(
    int x1,
    int y1,
    int x2,
    int y2);

int ExcludeClipRect(LPCRECT lpRect);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定矩形左上角的邏輯 x 座標。

*y1*<br/>
指定矩形左上角的邏輯 y 座標。

*x2*<br/>
指定矩形右下角的邏輯 x 座標。

*y2*<br/>
指定矩形右下角的邏輯 y 座標。

*lpRect*<br/>
指定矩形。 也可以是一個`CRect`物件。

### <a name="return-value"></a>傳回值

指定新裁剪區域的類型。 可以是下列其中任何一個值：

- 區域具有重疊邊框。

- 未創建任何區域。

- NULL 區域為空。

- 區域沒有重疊邊框。

### <a name="remarks"></a>備註

矩形的寬度(由*x2* - *x1*的絕對值指定)不得超過 32,767 個單位。 此限制也適用於矩形的高度。

## <a name="cdcexcludeupdatergn"></a><a name="excludeupdatergn"></a>CDC::排除更新Rgn

通過將視窗中的更新區域從與`CDC`物件的剪切區域中排除,防止在視窗無效區域內繪圖。

```
int ExcludeUpdateRgn(CWnd* pWnd);
```

### <a name="parameters"></a>參數

*pwnd*<br/>
指向正在更新其視窗的視窗物件。

### <a name="return-value"></a>傳回值

排除區域的類型。 它可以是以下任一值:

- 區域具有重疊邊框。

- 未創建任何區域。

- NULL 區域為空。

- 區域沒有重疊邊框。

## <a name="cdcextfloodfill"></a><a name="extfloodfill"></a>CDC::ExtFlownFill

使用當前畫筆填充顯示表面的區域。

```
BOOL ExtFloodFill(
    int x,
    int y,
    COLORREF crColor,
    UINT nFillType);
```

### <a name="parameters"></a>參數

*x*<br/>
指定填充開始點的邏輯 x 座標。

*Y*<br/>
指定填充開始點的邏輯 y 座標。

*crColor*<br/>
指定要填充的邊界或區域的顏色。 *crColor*的解釋取決於*nFillType*的值。

*n 填滿類型*<br/>
指定要執行的泛洪填充類型。 它必須是以下值之一:

- 填滿區域由*crColor*指定的顏色繫結。 此樣式與 執行`FloodFill`的填充相同。

- 填滿區域由*crColor*指定的顏色定義。 只要遇到顏色,填充會向外所有方向繼續。 此樣式可用於填充具有多色邊界的區域。

### <a name="return-value"></a>傳回值

如果函數成功,則非零;否則 0 如果無法完成填充,則給定點具有*crColor*指定的邊界顏色(如果請求了泛色填充),如果給定點沒有*crColor*指定的顏色(如果請求了 FLOODFILLSURFACE),或者該點位於剪切區域之外。

### <a name="remarks"></a>備註

此成員函數提供了比`FloodFill`在*nFillType*中指定填充類型更大的靈活性。

如果*nFillType*設置為"泛填充",則假定該區域完全由*crColor*指定的顏色綁定。 函數從*x*和*y*指定的點開始,並填充到顏色邊界的所有方向。

如果*nFillType*設置為 FLOODFILLSURFACE,則函數從*x*和*y*指定的點開始,然後繼續所有方向,填充包含*crColor*指定顏色的所有相鄰區域。

只有支援柵格顯示技術支援的記憶體裝置上下文和裝置`ExtFloodFill`。 有關詳細資訊,請參閱[GetDeviceCaps](#getdevicecaps)成員函數。

## <a name="cdcexttextout"></a><a name="exttextout"></a>CDC::ExtTextOut

呼叫此成員函數,使用當前選擇的字型在矩形區域內寫入字串。

```
virtual BOOL ExtTextOut(
    int x,
    int y,
    UINT nOptions,
    LPCRECT lpRect,
    LPCTSTR lpszString,
    UINT nCount,
    LPINT lpDxWidths);

BOOL ExtTextOut(
    int x,
    int y,
    UINT nOptions,
    LPCRECT lpRect,
    const CString& str,
    LPINT lpDxWidths);
```

### <a name="parameters"></a>參數

*x*<br/>
指定指定字串中第一個字元的字元儲存格的邏輯 x 座標。

*Y*<br/>
指定指定字串中第一個字元的字元儲存格頂部的邏輯 y 座標。

*n 選項*<br/>
指定矩形類型。 此參數可以是一個、兩個值,也可以是以下兩個值:

- ETO_CLIPPED指定文字剪下到矩形。

- ETO_OPAQUE 指定當前背景顏色填充矩形。 (您可以使用[SetBkColor](#setbkcolor)和[GetBkColor](#getbkcolor)成員功能設定和查詢當前背景顏色。

*lpRect*<br/>
指向確定矩形尺寸的[RECT](/windows/win32/api/windef/ns-windef-rect)結構。 此參數可以是 NULL。 您還可以為此參數傳遞[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

*lpszString*<br/>
指向要繪製的指定字串。 您還可以為此參數傳遞[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件。

*n( N) Count*<br/>
指定字串中的字元數。

*lpDx 寬度*<br/>
指向指示相鄰字元單元格原點之間的距離的值陣組。 例如 *,lpDxWidths*= *i*= 邏輯單位將分隔字元單元格*i*和字元單元格*i* = 1 的源。 如果*lpDxWidths*為`ExtTextOut`NULL,則使用字元之間的預設間距。

*Str*<br/>
包含`CString`要繪製的指定字元的物件。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

矩形區域可以是不透明的(填充當前背景顏色),也可以是剪切區域。

如果*nOptions*為*0,lpRect*為 NULL,則函數無需使用矩形區域即可將文本寫入設備上下文。 根據預設，函式不會使用或更新目前的位置。 如果應用程式在`ExtTextOut`調用時需要更新當前位置,則應用程式可以調用`CDC`成員函數[SetTextAlign,nFlags](#settextalign)*nFlags*設置為TA_UPDATECP。 設定此標誌時,Windows 會忽略對後續調`ExtTextOut`用的*x*和*y,* 而是使用當前位置。 當應用程式使用TA_UPDATECP更新當前位置時,`ExtTextOut`將當前位置設置到上一行文本的末尾,或者將當前位置設置到*lpDxWidths*指向的陣列的最後一個元素指定的位置,以較大者為準。

## <a name="cdcfillpath"></a><a name="fillpath"></a>CDC::FillPath

關閉當前路徑中的任何打開圖形,並使用當前畫筆和多邊形填充模式填充路徑的內部。

```
BOOL FillPath();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

填充其內部後,路徑將從設備上下文丟棄。

## <a name="cdcfillrect"></a><a name="fillrect"></a>CDC::FillRect

呼叫此成員函數以使用指定的畫筆填充給定的矩形。

```cpp
void FillRect(
    LPCRECT lpRect,
    CBrush* pBrush);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向包含要填充的矩形的邏輯座標的[RECT](/windows/win32/api/windef/ns-windef-rect)結構。 您還可以為此參數傳遞[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

*pBrush*<br/>
標識用於填充矩形的畫筆。

### <a name="remarks"></a>備註

函數填充整個矩形,包括左邊框和頂部邊框,但它不填充右邊框和底部邊框。

畫筆需要使用[CBrush](../../mfc/reference/cbrush-class.md)成員函數[CreateHatchBrush、CreatePatternBrush](../../mfc/reference/cbrush-class.md#createhatchbrush)和[CreateSolidBrush](../../mfc/reference/cbrush-class.md#createsolidbrush)創建,或者由`GetStockObject` [CreatePatternBrush](../../mfc/reference/cbrush-class.md#createpatternbrush) Windows 函數檢索。

填充指定的矩形時,`FillRect`不包括矩形的右側和底部。 GDI 填充矩形,最多不超過右列和下一行,而不考慮當前映射模式。 `FillRect`比較`top`指定`bottom`的 矩形的`left``right`值。 如果`bottom`小於 或`top`等於 ,`right`或者小於`left`或等於 ,則不繪製矩形。

`FillRect`類似於[CDC::FillSolidrect;](#fillsolidrect)但是,`FillRect`使用畫筆,因此可用於填充具有純色、抖紅色、陰影畫筆或圖案的矩形。 `FillSolidRect`僅使用純色(由 COLORREF 參數指示)。 `FillRect`通常比`FillSolidRect`慢。

## <a name="cdcfillrgn"></a><a name="fillrgn"></a>CDC::菲爾根

用*pBrush*指定的畫筆填充*pRgn*指定的區域。

```
BOOL FillRgn(
    CRgn* pRgn,
    CBrush* pBrush);
```

### <a name="parameters"></a>參數

*pRgn*<br/>
指向要填充的區域的指標。 給定區域的座標以邏輯單位指定。

*pBrush*<br/>
標識用於填充區域的畫筆。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

必須`CBrush`使用成員函數`CreateHatchBrush`、、`CreatePatternBrush``CreateSolidBrush``GetStockObject`或透過檢索 brush。

### <a name="example"></a>範例

  請參考[CRgn 的範例:建立 RoundrectRgn](../../mfc/reference/crgn-class.md#createroundrectrgn)。

## <a name="cdcfillsolidrect"></a><a name="fillsolidrect"></a>CDC::FillSolidrect

呼叫此成員函數以使用指定的純色填充給定的矩形。

```cpp
void FillSolidRect(
    LPCRECT lpRect,
    COLORREF clr);

void FillSolidRect(
    int x,
    int y,
    int cx,
    int cy,
    COLORREF clr);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指定邊界矩形(以邏輯單位表示)。 您可以傳遞指向[RECT](/windows/win32/api/windef/ns-windef-rect)資料結構的指標或此`CRect`參數的物件。

*clr*指定用於填充矩形的顏色。

*x*<br/>
指定矩形左上角的邏輯 x 座標。

*Y*<br/>
指定目標矩形左上角的邏輯 y 座標。

*殘雪*<br/>
指定矩形的寬度。

*cy*<br/>
指定矩形的高度。

### <a name="remarks"></a>備註

`FillSolidRect`與[CDC非常相似:fillrect;](#fillrect)但是,`FillSolidRect`僅使用純色(由 COLORREF 參數`FillRect`指示), 同時使用畫筆,因此可用於填充具有純色、抖紅色、陰影畫筆或圖案的矩形。 `FillSolidRect`通常比快`FillRect`。

> [!NOTE]
> 呼叫`FillSolidRect`時,以前使用[SetBkColor](#setbkcolor)設定的背景顏色設定為*clr*指示的顏色。

## <a name="cdcflattenpath"></a><a name="flattenpath"></a>CDC::扁平路徑

將所選路徑中的任何曲線轉換為當前設備上下文,並將每個曲線轉換為一系列直線。

```
BOOL FlattenPath();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

## <a name="cdcfloodfill"></a><a name="floodfill"></a>CDC::洪水填充

使用當前畫筆填充顯示表面的區域。

```
BOOL FloodFill(
    int x,
    int y,
    COLORREF crColor);
```

### <a name="parameters"></a>參數

*x*<br/>
指定填充開始點的邏輯 x 座標。

*Y*<br/>
指定填充開始點的邏輯 y 座標。

*crColor*<br/>
指定邊界的顏色。

### <a name="return-value"></a>傳回值

如果函數成功,則非零;否則,如果填充無法完成,則返回 0,給定點具有*crColor*指定的邊界顏色,或者該點位於剪切區域之外。

### <a name="remarks"></a>備註

該區域假定為*crColor*指定的邊界。 函數`FloodFill`從*x*和*y*指定的點開始,然後以所有方向繼續到顏色邊界。

只有支援柵格顯示技術的記憶體裝置上下文和設備支援`FloodFill`成員功能。 有關RC_BITBLT功能的資訊`GetDeviceCaps`, 請參閱成員函數。

該`ExtFloodFill`功能提供類似的功能,但更大的靈活性。

## <a name="cdcframerect"></a><a name="framerect"></a>CDC::幀重新

在*lpRect*指定的矩形周圍繪製邊框。

```cpp
void FrameRect(
    LPCRECT lpRect,
    CBrush* pBrush);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向包含矩形左上角和右下角邏輯座標的[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。 您還可以傳遞此參數`CRect`的物件。

*pBrush*<br/>
標識用於繪製矩形的畫筆。

### <a name="remarks"></a>備註

該函數使用給定的畫筆繪製邊框。 邊框的寬度和高度始終為 1 個邏輯單位。

`bottom`如果矩形的座標小於或等於`top`,或者小`right`於 或`left`等於 ,則不繪製矩形。

繪製`FrameRect`的邊框與`Rectangle`成員函數使用相同的座標繪製的邊框位於同一位置(如果`Rectangle`使用 1 個邏輯單位寬的筆)。 矩形的內部不由 填`FrameRect`充 。

## <a name="cdcframergn"></a><a name="framergn"></a>CDC::框架Rgn

使用*pBrush*指定的畫筆在*pRgn*指定的區域周圍繪製邊框。

```
BOOL FrameRgn(
    CRgn* pRgn,
    CBrush* pBrush,
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>參數

*pRgn*<br/>
指向標識要`CRgn`包含在邊框中的區域的物件。 給定區域的座標以邏輯單位指定。

*pBrush*<br/>
指向標識要`CBrush`用於繪製邊框的畫筆的物件。

*n 寬度*<br/>
以設備單位表示垂直筆刷描邊中的邊框寬度。

*nHeight*<br/>
以設備單位表示水平畫筆描邊中的邊框高度。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="example"></a>範例

  請參考[CRgn 的範例::合併 Rgn](../../mfc/reference/crgn-class.md#combinergn)。

## <a name="cdcfromhandle"></a><a name="fromhandle"></a>CDC::從手

當為設備上下文指定`CDC`句柄時,返回指向物件的指標。

```
static CDC* PASCAL FromHandle(HDC hDC);
```

### <a name="parameters"></a>參數

*hDC*<br/>
包含 Windows 設備上下文的句柄。

### <a name="return-value"></a>傳回值

指標可能是臨時的,不應存儲超出立即使用的範圍。

### <a name="remarks"></a>備註

如果 `CDC` 物件沒有附加至控制代碼，會建立並附加暫存 `CDC` 物件。

### <a name="example"></a>範例

  請參考[CPrintDialog 的範例:取得 PrinterDC](../../mfc/reference/cprintdialog-class.md#getprinterdc)。

## <a name="cdcgetarcdirection"></a><a name="getarcdirection"></a>CDC::取得Arc方向

返回設備上下文的當前弧方向。

```
int GetArcDirection() const;
```

### <a name="return-value"></a>傳回值

指定當前圓弧方向(如果成功)。 以下是有效的返回值:

- AD_COUNTERCLOCKWISE逆時針繪製的弧形和矩形。

- AD_CLOCKWISE順時針繪製的弧形和矩形。

如果發生錯誤,則返回值為零。

### <a name="remarks"></a>備註

圓弧和矩形函數使用圓弧方向。

## <a name="cdcgetaspectratiofilter"></a><a name="getaspectratiofilter"></a>CDC::取得Aspectratio過濾器

檢索當前縱橫比篩選器的設置。

```
CSize GetAspectRatioFilter() const;
```

### <a name="return-value"></a>傳回值

表示`CSize`當前縱橫比篩選器使用的縱橫比的物件。

### <a name="remarks"></a>備註

縱橫比是由設備的圖元寬度和高度形成的比。 有關設備的縱橫比的資訊用於字型的創建、選擇和顯示。 Windows 提供了一個特殊的篩選器,即縱橫比篩選器,用於從所有可用字體中選擇針對特定縱橫比設計的字體。 篩選器使用`SetMapperFlags`成員函數指定的縱橫比。

## <a name="cdcgetbkcolor"></a><a name="getbkcolor"></a>CDC::GetBkColor

返回當前背景顏色。

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>傳回值

RGB 顏色值。

### <a name="remarks"></a>備註

如果背景模式為 OPAQUE,則系統使用背景顏色來填充樣式線中的間隙、畫筆中陰影線和字元單元格中的背景之間的間隙。 在顏色和單色設備上下文之間轉換位圖時,系統還使用背景顏色。

## <a name="cdcgetbkmode"></a><a name="getbkmode"></a>CDC::GetBkMode

返回背景模式。

```
int GetBkMode() const;
```

### <a name="return-value"></a>傳回值

當前背景模式,可以是 OPAQUE 或 OPAQUE。

### <a name="remarks"></a>備註

背景模式定義在繪製文本、陰影畫筆或不是實線的任何筆樣式之前,系統是否刪除繪圖圖面上的現有背景顏色。

## <a name="cdcgetboundsrect"></a><a name="getboundsrect"></a>CDC::獲取"界限"

返回指定設備上下文的當前累積邊界矩形。

```
UINT GetBoundsRect(
    LPRECT lpRectBounds,
    UINT flags);
```

### <a name="parameters"></a>參數

*lpRectBounds*<br/>
指向將接收當前邊界矩形的緩衝區。 矩形以邏輯座標返回。

*flags*<br/>
指定在返回邊界矩形後是否清除邊界矩形。 此參數應為零或設定為以下值:

- DCB_RESET 強制返回邊界矩形後清除該矩形。

### <a name="return-value"></a>傳回值

如果函數成功,則指定邊界矩形的當前狀態。 它可以是以下值的組合:

- DCB_ACCUMULATE邊界矩形累積正在發生。

- DCB_RESET邊界矩形為空。

- DCB_SET邊界矩形不為空。

- DCB_ENABLE邊界累積已打開。

- DCB_DISABLE邊界累積已關閉。

## <a name="cdcgetbrushorg"></a><a name="getbrushorg"></a>CDC::GetBrushOrg

檢索當前為設備上下文選擇的畫筆的原點(以設備單位為單位)。

```
CPoint GetBrushOrg() const;
```

### <a name="return-value"></a>傳回值

畫筆的當前原點(以設備單位為單位)作為[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

### <a name="remarks"></a>備註

初始畫筆原點位於工作區的 (0,0)。 返回值指定相對於桌面視窗的原點的設備單位中的此點。

## <a name="cdcgetcharacterplacement"></a><a name="getcharacterplacement"></a>CDC::取得字元放置

檢索字串上的各種類型的資訊。

```
DWORD GetCharacterPlacement(
    LPCTSTR lpString,
    int nCount,
    int nMaxExtent,
    LPGCP_RESULTS lpResults,
    DWORD dwFlags) const;

DWORD GetCharacterPlacement(
    CString& str,
    int nMaxExtent,
    LPGCP_RESULTS lpResults,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>參數

*lpString*<br/>
指向要處理的字串的指標。

*n( N) Count*<br/>
指定字串的長度。 對於 ANSI 版本,它是 BYTE 計數,對於 Unicode 函數,它是 WORD 計數。 有關詳細資訊,請參閱[抓取角色放置](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw)。

*nMax*<br/>
指定處理字串的最大範圍(以邏輯單位為單位)。 如果處理超過此範圍的字元將被忽略。 任何必需的排序或字形陣列的計算僅適用於包含的字元。 僅當在*dwFlags*參數中指定GCP_MAXEXTENT值時,才使用此參數。 當函數處理輸入字串時,僅當總範圍尚未超過最大值時,才會將每個字元及其範圍添加到輸出、範圍和其他陣列中。 達到限制后,處理將停止。

*lp結果*<br/>
指向接收函數結果[的GCP_Results](/windows/win32/api/wingdi/ns-wingdi-gcp_resultsw)結構的指標。

*dwFlags*<br/>
指定如何將字串處理到所需的陣列中。 此參數可以是[Get字元放置](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw)主題的*dwFlags*部分中列出的一個或多個值。

*Str*<br/>
指向要處理的[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件的指標。

### <a name="return-value"></a>傳回值

如果函數成功,則返回值是邏輯單位中字串的寬度和高度。

如果此函式失敗，則傳回值為零。

### <a name="remarks"></a>備註

此成員函數類比函數[Get字元放置](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw)的功能,如 Windows SDK 中所述。

## <a name="cdcgetcharabcwidths"></a><a name="getcharabcwidths"></a>CDC::取得查布布寬度

從當前 TrueType 字體檢索指定範圍內的連續字元的寬度。

```
BOOL GetCharABCWidths(
    UINT nFirstChar,
    UINT nLastChar,
    LPABC lpabc) const;

BOOL GetCharABCWidths(
    UINT nFirstChar,
    UINT nLastChar,
    LPABCFLOAT lpABCF) const;
```

### <a name="parameters"></a>參數

*n第一查爾*<br/>
指定目前的字型中傳回字元寬度的字元範圍中的第一個字元。

*nLastChar*<br/>
指定目前的字型中傳回字元寬度的字元範圍中的最後一個字元。

*lpabc*<br/>
指向在函數返回時接收字元寬度的[ABC](/windows/win32/api/wingdi/ns-wingdi-abc)結構陣組。 此陣列必須包含至少與*nFirstChar 和 nLastChar*參數指定的範圍內的字元*nLastChar*`ABC`相同的結構。

*lpABCF*<br/>
指向應用程式提供的緩衝區,其中包含[ABCFLOAT](/windows/win32/api/wingdi/ns-wingdi-abcfloat)結構陣列,以在函數返回時接收字元寬度。 此函數返回的寬度採用 IEEE 浮點格式。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

寬度以邏輯單位返回。 此功能僅使用 TrueType 字型成功。

在選擇特定點大小後,TrueType 柵格器提供"ABC"字元間距。 "A"間距是在放置字形之前添加到當前位置的距離。 "B"間距是字形的黑色部分的寬度。 "C"間距添加到當前位置,以考慮字形右側的空白。 總高級寬度由 A + B + C 給出。

當`GetCharABCWidths`成員函數檢索字元的負「A」或「C」寬度時,該字元包括下懸或懸垂。

要將 ABC 寬度轉換為字型設計單位,應用程式應建立一個字體,其高度`lfHeight`(如[LOGFONT](/windows/win32/api/wingdi/ns-wingdi-logfontw)結構成員中指定)等於存儲在[NEWTEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-newtextmetricw)結構`ntmSizeEM`成員中的值。 (可以通過調`ntmSizeEM`用[EnumFont 家庭](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesw)視窗功能來檢索成員的值。

預設字元的 ABC 寬度用於當前選取的字體範圍之外的字元。

要檢索非 TrueType 字型中的字元寬度,應用程式應使用[GetCharWidth](/windows/win32/api/wingdi/nf-wingdi-getcharwidthw) Windows 功能。

## <a name="cdcgetcharabcwidthsi"></a><a name="getcharabcwidthsi"></a>CDC::獲取查拉布·斯波西

檢索目前 TrueType 字型中指定範圍內的連續字形索引的寬度(以邏輯單位為單位)。

```
BOOL GetCharABCWidthsI(
    UINT giFirst,
    UINT cgi,
    LPWORD pgi,
    LPABC lpabc) const;
```

### <a name="parameters"></a>參數

*吉第一*<br/>
指定當前字體的連續字形索引組中的第一個字形索引。 僅當*pgi*參數為 NULL 時,才使用此參數。

*Cgi*<br/>
指定字形索引的數量。

*pgi*<br/>
指向包含字形索引的陣列的指標。 如果值為 NULL,則改為使用*giFirst*參數。 *cgi*參數指定此陣列中的字形索引數。

*lpabc*<br/>
指向接收字元寬度的[ABC](/windows/win32/api/wingdi/ns-wingdi-abc)結構陣列的指標。 此陣列必須包含至少與`ABC`*cgi*參數指定的字形索引相同的結構。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此成員函數類比函數[GetCharABCWidthsI](/windows/win32/api/wingdi/nf-wingdi-getcharabcwidthsi)的功能,如 Windows SDK 中所述。

## <a name="cdcgetcharwidth"></a><a name="getcharwidth"></a>CDC::取得字元寬度

使用輸入`m_hAttribDC`裝置上下文從當前字型中檢索連續字元組中單個字元的寬度。

```
BOOL GetCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    LPINT lpBuffer) const;

BOOL GetCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    float* lpFloatBuffer) const;
```

### <a name="parameters"></a>參數

*n第一查爾*<br/>
指定目前的字型中連續字元列中的第一個字元。

*nLastChar*<br/>
指定目前的字型中連續字元中最後一個字元。

*lpBuffer*<br/>
指向將接收當前字體中連續一組字元的寬度值的緩衝區。

*lpFloatBuffer*<br/>
指向緩衝區以接收字元寬度。 返回的寬度為 32 位 IEEE 浮點格式。 (寬度沿字元的基線測量。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

例如,如果*nFirstChar*標識字母"a",nLastChar 標識字母"z",則函數將檢索所有小寫字元的*nLastChar*寬度。

函數將值存儲在*lpBuffer*指向的緩衝區中。 此緩衝區必須足夠大,以容納所有寬度。 也就是說,給定示例中必須至少有 26 個條目。

如果連續字元組中的字元在特定字體中不存在,則將為預設字元的寬度值分配該字元。

## <a name="cdcgetcharwidthi"></a><a name="getcharwidthi"></a>CDC::取得字元

從當前字體中檢索指定範圍內的連續字形索引的寬度(邏輯座標)。

```
BOOL GetCharWidthI(
    UINT giFirst,
    UINT cgi,
    LPWORD pgi,
    LPINT lpBuffer) const;
```

### <a name="parameters"></a>參數

*吉第一*<br/>
指定當前字體的連續字形索引組中的第一個字形索引。 僅當*pgi*參數為 NULL 時,才使用此參數。

*Cgi*<br/>
指定字形索引的數量。

*pgi*<br/>
指向包含字形索引的陣列的指標。 如果值為 NULL,則改為使用*giFirst*參數。 *cgi*參數指定此陣列中的字形索引數。

*lpBuffer*<br/>
指向接收寬度的緩衝區的指標。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此成員函數類比函數[GetCharWidthI 的功能](/windows/win32/api/wingdi/nf-wingdi-getcharwidthi),如 Windows SDK 中所述。

## <a name="cdcgetclipbox"></a><a name="getclipbox"></a>CDC::取得剪輯盒

檢索當前剪切邊界周圍最緊密邊界矩形的尺寸。

```
virtual int GetClipBox(LPRECT lpRect) const;
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向接收矩形尺寸的[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

### <a name="return-value"></a>傳回值

裁剪區域的類型。 可以是下列其中任何一個值：

- 複雜區域剪切區域具有重疊邊框。

- 錯誤設備上下文無效。

- NULL 區域剪下區域為空。

- SIMPLE 區域剪切區域沒有重疊邊框。

### <a name="remarks"></a>備註

維度複製到*lpRect*指向的緩衝區。

## <a name="cdcgetcoloradjustment"></a><a name="getcoloradjustment"></a>CDC::取得顏色調整

檢索設備上下文的顏色調整值。

```
BOOL GetColorAdjustment(LPCOLORADJUSTMENT lpColorAdjust) const;
```

### <a name="parameters"></a>參數

*lpColorAdjust*<br/>
指向[COLOR 調整](/windows/win32/api/wingdi/ns-wingdi-coloradjustment)資料結構以接收顏色調整值。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

## <a name="cdcgetcurrentbitmap"></a><a name="getcurrentbitmap"></a>CDC::取得目前的點陣圖

返回指向當前選定`CBitmap`物件的指標。

```
CBitmap* GetCurrentBitmap() const;
```

### <a name="return-value"></a>傳回值

指標指向`CBitmap`物件(如果成功);否則 NULL。

### <a name="remarks"></a>備註

此成員函數可以返回臨時物件。

## <a name="cdcgetcurrentbrush"></a><a name="getcurrentbrush"></a>CDC::取得目前的筆刷

返回指向當前選定`CBrush`物件的指標。

```
CBrush* GetCurrentBrush() const;
```

### <a name="return-value"></a>傳回值

指標指向`CBrush`物件(如果成功);否則 NULL。

### <a name="remarks"></a>備註

此成員函數可以返回臨時物件。

## <a name="cdcgetcurrentfont"></a><a name="getcurrentfont"></a>CDC::取得目前的字型

返回指向當前選定`CFont`物件的指標。

```
CFont* GetCurrentFont() const;
```

### <a name="return-value"></a>傳回值

指標指向`CFont`物件(如果成功);否則 NULL。

### <a name="remarks"></a>備註

此成員函數可以返回臨時物件。

## <a name="cdcgetcurrentpalette"></a><a name="getcurrentpalette"></a>CDC::取得電流調色板

返回指向當前選定`CPalette`物件的指標。

```
CPalette* GetCurrentPalette() const;
```

### <a name="return-value"></a>傳回值

指標指向`CPalette`物件(如果成功);否則 NULL。

### <a name="remarks"></a>備註

此成員函數可以返回臨時物件。

## <a name="cdcgetcurrentpen"></a><a name="getcurrentpen"></a>CDC::取得電流筆

返回指向當前選定`CPen`物件的指標。

```
CPen* GetCurrentPen() const;
```

### <a name="return-value"></a>傳回值

指標指向`CPen`物件(如果成功);否則 NULL。

### <a name="remarks"></a>備註

此成員函數可以返回臨時物件。

## <a name="cdcgetcurrentposition"></a><a name="getcurrentposition"></a>CDC:取得電流位置

檢索當前位置(在邏輯座標中)。

```
CPoint GetCurrentPosition() const;
```

### <a name="return-value"></a>傳回值

作為`CPoint`物件的當前位置。

### <a name="remarks"></a>備註

可以使用`MoveTo`成員函數設置當前位置。

## <a name="cdcgetdcbrushcolor"></a><a name="getdcbrushcolor"></a>CDC::取得DCBrush顏色

擷取目前的筆刷色彩。

```
COLORREF GetDCBrushColor() const;
```

### <a name="return-value"></a>傳回值

如果函數成功,則返回值是當前畫筆顏色的[COLORREF](/windows/win32/gdi/colorref)值。

如果函式失敗，則傳回值是 CLR_INVALID。

### <a name="remarks"></a>備註

此成員函數類比函數[GetDCBrushColor](/windows/win32/api/wingdi/nf-wingdi-getdcbrushcolor)的功能,如 Windows SDK 中所述。

## <a name="cdcgetdcpencolor"></a><a name="getdcpencolor"></a>CDC::取得DCPenColor

擷取目前的畫筆顏色。

```
COLORREF GetDCPenColor() const;
```

### <a name="return-value"></a>傳回值

如果函數成功,則返回值是當前筆顏色的[COLORREF](/windows/win32/gdi/colorref)值。

如果函式失敗，則傳回值是 CLR_INVALID。

### <a name="remarks"></a>備註

此成員函數使用 Win32 函數[GetDCPenColor,](/windows/win32/api/wingdi/nf-wingdi-getdcpencolor)如 Windows SDK 中所述。

## <a name="cdcgetdevicecaps"></a><a name="getdevicecaps"></a>CDC:抓取裝置Caps

檢索有關顯示設備的各種特定於設備的資訊。

```
int GetDeviceCaps(int nIndex) const;
```

### <a name="parameters"></a>參數

*nIndex*<br/>
指定要返回的資訊類型。 有關值清單,請參閱 Windows SDK 中的[GetDeviceCaps。](/windows/win32/api/wingdi/nf-wingdi-getdevicecaps)

### <a name="return-value"></a>傳回值

如果函數成功,則請求的功能的值。

### <a name="example"></a>範例

  請參考[CPrintDialog 範例:取得預設值](../../mfc/reference/cprintdialog-class.md#getdefaults)。

## <a name="cdcgetfontdata"></a><a name="getfontdata"></a>CDC::取得字型資料

從可擴充的字體檔中檢索字體度量資訊。

```
DWORD GetFontData(
    DWORD dwTable,
    DWORD dwOffset,
    LPVOID lpData,
    DWORD cbData) const;
```

### <a name="parameters"></a>參數

*dwTable*<br/>
指定要返回的指標表的名稱。 此參數可以是 Microsoft 公司發布的 TrueType 字體檔規範中記錄的指標表之一。 如果此參數為 0,則從字體檔的開頭開始檢索資訊。

*dwOffset*<br/>
指定開始檢索資訊的表開頭的偏移量。 如果此參數為 0,則從*dwTable*參數指定的表的開頭開始檢索資訊。 如果此值大於或等於表的大小,`GetFontData`則返回 0。

*lpData*<br/>
指向將接收字體信息的緩衝區。 如果此值為 NULL,則函數將返回*dwTable*參數中指定的字體數據所需的緩衝區大小。

*cbData*<br/>
指定要檢索的資訊的長度(以位元組為單位)。 如果此參數為 0,`GetFontData`則傳回*dwTable*參數中指定的資料大小。

### <a name="return-value"></a>傳回值

指定在函數成功時*由 lpData*指向的緩衝區中返回的位元組數;否則 -1。

### <a name="remarks"></a>備註

通過指定要檢索的資訊在字體檔中指定偏移量和要返回的資訊長度來標識。

應用程式有時可以使用`GetFontData`成員函數將 TrueType 字體與文檔一起保存。 為此,應用程式確定是否可以嵌入字型,然後檢索整個字體檔,為*dwTable、dwOffset*和*cbData*參數指定*dwOffset*0。

應用程式可以通過`otmfsType`檢查[OUTLINETEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw)結構的成員來確定是否可以嵌入字型。 如果設置了`otmfsType`bit 1,則不允許對字體進行嵌入。 如果位 1 清晰,則可以嵌入字體。 如果設置了位 2,則嵌入為唯讀。

如果應用程式嘗試使用此函數檢索非 TrueType 字型的`GetFontData`資訊,則成員函數返回 -1。

## <a name="cdcgetfontlanguageinfo"></a><a name="getfontlanguageinfo"></a>CDC::取得字型語言資訊

返回有關指定顯示上下文的當前選定字體的資訊。

```
DWORD GetFontLanguageInfo() const;
```

### <a name="return-value"></a>傳回值

返回值標識當前所選字體的特徵。 有關可能值的完整清單,請參閱[GetFont 語言資訊](/windows/win32/api/wingdi/nf-wingdi-getfontlanguageinfo)。

### <a name="remarks"></a>備註

此成員函數類比了[GetFont 語言資訊](/windows/win32/api/wingdi/nf-wingdi-getfontlanguageinfo)功能的功能,如 Windows SDK 中所述。

## <a name="cdcgetglyphoutline"></a><a name="getglyphoutline"></a>CDC:取得字形圖

檢索當前字體中輪廓字元的輪廓曲線或位圖。

```
DWORD GetGlyphOutline(
    UINT nChar,
    UINT nFormat,
    LPGLYPHMETRICS lpgm,
    DWORD cbBuffer,
    LPVOID lpBuffer,
    const MAT2* lpmat2) const;
```

### <a name="parameters"></a>參數

*n查爾*<br/>
指定要為其返回資訊的字元。

*nFormat*<br/>
指定函數在其中返回資訊的格式。 它可以是以下值之一,也可以是 0:

|值|意義|
|-----------|-------------|
|GGO_BITMAP|返回字形點陣圖。 當函數返回時 *,lpBuffer*指向的緩衝區包含一個 1 位/像素位圖,其行以雙字邊界開始。|
|GGO_NATIVE|使用設備單位返回柵格器本機格式的曲線數據點。 指定此值時,將忽略*lpmat2*中指定的任何轉換。|

當*nFormat*的值為 0 時,函數填充[GLYPHMETRICS](/windows/win32/api/wingdi/ns-wingdi-glyphmetrics)結構,但不會返回字形輪廓數據。

*lpgm*<br/>
指向描述字形在字元單元格中的位置的 GLYPHMETRICS 結構。

*cbBuffer*<br/>
指定函數將有關大綱字元的資訊複製到的緩衝區大小。 如果此值為 0,並且*nFormat*參數是GGO_BITMAP或GGO_NATIVE值,則函數將返回緩衝區所需的大小。

*lpBuffer*<br/>
指向函數將有關大綱字元的資訊複製到的緩衝區。 如果*nFormat*指定GGO_NATIVE值,則資訊將採用 TTPOLYGONHEADER 和 TTPOLYCURVE 結構的形式複製。 如果此值為 NULL,並且*nFormat*是GGO_BITMAP或GGO_NATIVE值,則函數將返回緩衝區所需的大小。

*lpmat2*<br/>
指向包含字元轉換矩陣的[MAT2](/windows/win32/api/wingdi/ns-wingdi-mat2)結構。 這個參數不能為 NULL,即使為*nFormat*指定了GGO_NATIVE值 。

### <a name="return-value"></a>傳回值

如果*cbBuffer*為 0 或*lpBuffer*為 NULL,則檢索資訊所需的緩衝區的大小(以位元組為單位)。 否則,如果函數成功,則為正值;如果出現錯誤,則為 -1。

### <a name="remarks"></a>備註

應用程式可以通過在*lpmat2*指向的結構中指定 2×2 變換矩陣來旋轉以位圖格式檢索的字元。

字形輪廓作為一系列輪廓返回。 每個輪廓由[TTPOLYGONHEADER](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader)結構定義,`TTPOLYCURVE`後面跟著 描述它所需的結構。 所有點都返回為[POINTFX](/windows/win32/api/wingdi/ns-wingdi-pointfx)結構,表示絕對位置,而不是相對移動。 [TTPOLYGONHEADER](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader)`pfxStart`結構成員給出的起始點是輪廓輪廓開始的點。 後面可採用[的 TTPOLYCURVE](/windows/win32/api/wingdi/ns-wingdi-ttpolycurve)結構可以是折線記錄或樣條線記錄。 折線記錄是一系列點;點之間繪製的線條描述字元的輪廓。 樣條線記錄表示 TrueType(即二次 b 樣條線)使用的二次曲線。

## <a name="cdcgetgraphicsmode"></a><a name="getgraphicsmode"></a>CDC::取得圖形模式

檢索指定設備上下文的當前圖形模式。

```
int GetGraphicsMode() const;
```

### <a name="return-value"></a>傳回值

成功時返回當前圖形模式。 有關此方法可以返回的值的清單,請參閱[GetGraphicsMode](/windows/win32/api/wingdi/nf-wingdi-getgraphicsmode)。

失敗後返回 0。

要取得延伸的錯誤資訊,請致電[GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror)。

### <a name="remarks"></a>備註

此方法包裝 Windows GDI 函數[GetGraphicsMode](/windows/win32/api/wingdi/nf-wingdi-getgraphicsmode)。

## <a name="cdcgethalftonebrush"></a><a name="gethalftonebrush"></a>CDC::獲取哈弗通刷

調用此成員函數以檢索半色調畫筆。

```
static CBrush* PASCAL GetHalftoneBrush();
```

### <a name="return-value"></a>傳回值

指向`CBrush`物件的指標(如果成功);如果成功,則指向物件。否則 NULL。

### <a name="remarks"></a>備註

半色調畫筆顯示交替前景和背景顏色以創建抖除圖案的圖元。 下面是由半色調畫筆創建的抖紅色圖案的示例。

![遞色畫筆筆劃的詳細資料](../../mfc/reference/media/vc318s1.gif "遞色畫筆筆劃的詳細資料")

## <a name="cdcgetkerningpairs"></a><a name="getkerningpairs"></a>CDC::獲取凱寧配對

檢索當前在指定設備上下文中選擇的字型的字元角對。

```
int GetKerningPairs(
    int nPairs,
    LPKERNINGPAIR lpkrnpair) const;
```

### <a name="parameters"></a>參數

*n配對*<br/>
指定*由lpkrnpair*指向的[KERningPAIR](/windows/win32/api/wingdi/ns-wingdi-kerningpair)結構的數量。 函數不會複製比*nPairs*指定的更多的角對。

*lpkrnpair*<br/>
指向在函數返回時`KERNINGPAIR`接收角線對的結構陣組。 此陣列必須包含至少與*nPairs*指定的相同多個結構。 如果此參數為 NULL,則函數將返回字體的字距對總數。

### <a name="return-value"></a>傳回值

指定檢索的角線對數或字體中的字角對總數(如果函數成功)。 如果函數失敗或字體沒有角線對,則返回零。

## <a name="cdcgetlayout"></a><a name="getlayout"></a>CDC::取得佈局

呼叫此成員函數以確定裝置上下文(如印表機或元檔)的文本和圖形的佈局。

```
DWORD GetLayout() const;
```

### <a name="return-value"></a>傳回值

如果成功,則當前設備上下文的布局標誌。 否則,GDI_ERROR。 有關延伸的錯誤資訊,請致電[GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror)。 有關佈局標誌的清單,請參閱[CDC::SetLayout](#setlayout)。

### <a name="remarks"></a>備註

默認佈局從左至右。

## <a name="cdcgetmapmode"></a><a name="getmapmode"></a>CDC::取得地圖模式

檢索當前映射模式。

```
int GetMapMode() const;
```

### <a name="return-value"></a>傳回值

映射模式。

### <a name="remarks"></a>備註

有關映射模式的說明,請參閱`SetMapMode`成員函數。

> [!NOTE]
> 如果調用[SetLayout](#setlayout)將 DC 更改為從右`SetLayout`至左佈局, 則自動將映射模式更改為MM_ISOTROPIC。 因此,任何後續調用`GetMapMode`都將返回MM_ISOTROPIC。

## <a name="cdcgetmiterlimit"></a><a name="getmiterlimit"></a>CDC::取得限制

返回設備上下文的斜接限制。

```
float GetMiterLimit() const;
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

繪製具有斜接連接的幾何線時,使用斜接限制。

## <a name="cdcgetnearestcolor"></a><a name="getnearestcolor"></a>CDC:取得最接近的顏色

返回與指定邏輯顏色最匹配的純色。

```
COLORREF GetNearestColor(COLORREF crColor) const;
```

### <a name="parameters"></a>參數

*crColor*<br/>
指定要匹配的顏色。

### <a name="return-value"></a>傳回值

RGB(紅色、綠色、藍色)顏色值,用於定義最接近設備可以表示的*crColor*值的純色。

### <a name="remarks"></a>備註

給定的設備必須能夠表示此顏色。

## <a name="cdcgetoutlinetextmetrics"></a><a name="getoutlinetextmetrics"></a>CDC::取得大綱文字指標

檢索 TrueType 字型的指標資訊。

```
UINT GetOutlineTextMetrics(
    UINT cbData,
    LPOUTLINETEXTMETRIC lpotm) const;
```

### <a name="parameters"></a>參數

*lpotm*<br/>
指向一系列[OUTLINETEXTMETRIC 結構](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw)。 如果此參數為 NULL,則函數將返回檢索的指標數據所需的緩衝區大小。

*cbData*<br/>
指定返回資訊的緩衝區的大小(以位元組為單位)。

*lpotm*<br/>
指向結構`OUTLINETEXTMETRIC`。 如果此參數為 NULL,則函數將返回檢索的指標資訊所需的緩衝區大小。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

[OUTLINETEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw)結構包含 TrueType 格式提供的大部分字體度量資訊,包括[TEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-textmetricw)結構。 `OUTLINETEXTMETRIC`結構的最後四個成員是指向字串的指標。 除了其他成員所需的空間外,應用程式還應為這些字串分配空間。 由於字串的大小沒有系統施加的限制,因此分配記憶體的最簡單方法是通過在函數`GetOutlineTextMetrics`的第一次調用中指定*lpotm*的 NULL 來檢索所需的大小。

## <a name="cdcgetoutputcharwidth"></a><a name="getoutputcharwidth"></a>CDC::取得輸出字元寬度

使用輸出裝置上下文,`m_hDC`並從當前字型中檢索連續字元組中各個字元的寬度。

```
BOOL GetOutputCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    LPINT lpBuffer) const;
```

### <a name="parameters"></a>參數

*n第一查爾*<br/>
指定目前的字型中連續字元列中的第一個字元。

*nLastChar*<br/>
指定目前的字型中連續字元中最後一個字元。

*lpBuffer*<br/>
指向將接收當前字體中連續一組字元的寬度值的緩衝區。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

例如,如果*nFirstChar*標識字母"a",nLastChar 標識字母"z",則函數將檢索所有小寫字元的*nLastChar*寬度。

函數將值存儲在*lpBuffer*指向的緩衝區中。 此緩衝區必須足夠大,以容納所有寬度;因此,此緩衝區必須足夠大,以容納所有寬度。也就是說,給定示例中必須至少有 26 個條目。

如果連續字元組中的字元在特定字體中不存在,則將為預設字元的寬度值分配該字元。

## <a name="cdcgetoutputtabbedtextextent"></a><a name="getoutputtabbedtextextent"></a>CDC::取得輸出分頁文字範圍

呼叫此成員函數,使用輸出裝置上下文[m_hDC](#m_hdc)計算字串的寬度和高度。

```
CSize GetOutputTabbedTextExtent(
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;

CSize GetOutputTabbedTextExtent(
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;
```

### <a name="parameters"></a>參數

*lpszString*<br/>
指向要測量的字串。 您還可以為此參數傳遞[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件。

*n( N) Count*<br/>
指定*lpszString*指向[的字串的長度](/windows/win32/gdi/specifying-length-of-text-output-string)。

*nTab*<br/>
指定*lpnTabStop 定位*指向的陣列中的製表位數。

*lpnTabStop位置*<br/>
指向包含邏輯單位中的制表位的整數陣列。 必須按增加的順序對制表位進行排序;最小的 x 值應該是陣列中的第一個項。 不允許返回選項卡。

*Str*<br/>
包含`CString`要測量的指定字元的物件。

### <a name="return-value"></a>傳回值

[CSize](../../atl-mfc-shared/reference/csize-class.md)物件中的字串(以邏輯單位為單位)的尺寸。

### <a name="remarks"></a>備註

如果字串包含一個或多個選項卡字元,則字串的寬度基於*lpnTabStop定位*指定的製表位。 該函數使用當前選擇的字型計算字串的尺寸。

當前裁剪區域不會偏移函數返回的`GetOutputTabbedTextExtent`寬度和高度。

由於某些設備不將字元放置在常規單元格陣列中(即它們與字元一起),因此字串中字元的範圍和可能與字串的範圍不相等。

如果*nTabPositions*為 0,*並且 lpnTabStop 定位*為 NULL,則選項卡將擴展到八個平均字元寬度。 如果*nTabPoints 為*1,則製表位將由*lpnTabStopPoints*點指向的陣列中第一個值指定的距離分隔。 如果*lpnTabStopPositions*指向多個值,則為陣列中的每個值設置一個製表位,最多為*nTabPoints*指定的數位。

## <a name="cdcgetoutputtextextent"></a><a name="getoutputtextextent"></a>CDC::取得輸出文字範圍

呼叫此成員函數使用輸出裝置上下文[,m_hDC,](#m_hdc)並使用當前字體計算文本行的寬度和高度。

```
CSize GetOutputTextExtent(
    LPCTSTR lpszString,
    int nCount) const;

CSize GetOutputTextExtent(const CString& str) const;
```

### <a name="parameters"></a>參數

*lpszString*<br/>
指向字串。 您還可以為此參數傳遞[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件。

*n( N) Count*<br/>
指定*lpszString*指向[的字串的長度](/windows/win32/gdi/specifying-length-of-text-output-string)。

*Str*<br/>
包含`CString`要測量的指定字元的物件。

### <a name="return-value"></a>傳回值

在[CSize](../../atl-mfc-shared/reference/csize-class.md)物件中傳回的字串的尺寸(以邏輯單位為單位)。

### <a name="remarks"></a>備註

當前裁剪區域不會影響 返回`GetOutputTextExtent`的寬度和高度。

由於某些設備不將字元放置在常規單元格陣列中(即它們執行角線),因此字串中字元的範圍和可能與字串的範圍不相等。

## <a name="cdcgetoutputtextmetrics"></a><a name="getoutputtextmetrics"></a>CDC:取得輸出文字指標

使用 檢索當前字體的指標,`m_hDC`輸出設備上下文。

```
BOOL GetOutputTextMetrics(LPTEXTMETRIC lpMetrics) const;
```

### <a name="parameters"></a>參數

*lpMetrics*<br/>
指向接收指標的[TEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-textmetricw)結構。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

## <a name="cdcgetpath"></a><a name="getpath"></a>CDC:取得路徑

檢索定義行端點的座標以及選擇到設備上下文中的路徑中找到的曲線的控制點。

```
int GetPath(
    LPPOINT lpPoints,
    LPBYTE lpTypes,
    int nCount) const;
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向放置線端點[POINT](/windows/win32/api/windef/ns-windef-point)和曲線控制點`CPoint`的 POINT 資料結構或物件陣組。

*lpType*<br/>
指向放置頂點類型的位元組。 值是以下值之一:

- PT_MOVETO 指定*lpPoints*中的相應點啟動不相交的數位。

- PT_LINETO 指定*lpPoints*中的前一個點和相應的點是行的終結點。

- PT_BEZIERTO 指定*lpPoints*中的相應點是 Bzier 曲線的控制點或結束點。

PT_BEZIERTO類型始終以三組的形式出現。 緊接路徑中的點定義 Bzier 曲線的起點。 前兩個PT_BEZIERTO點是控制點,第三個PT_BEZIERTO點是終點(如果用硬編碼)。

   PT_LINETO或PT_BEZIERTO類型可與以下標誌(透過使用位運算符**OR)** 組合,以指示相應的點是圖中的最後一個點,並且圖形應關閉:

- PT_CLOSEFIGURE 指定繪製相應的線或曲線后,圖形將自動關閉。 通過從直線或曲線端點繪製一條線到與最後一個PT_MOVETO對應的點來關閉圖形。

*n( N) Count*<br/>
指定可放置在*lpPoints*陣列中的[POINT](/windows/win32/api/windef/ns-windef-point)資料結構的總數。 此值必須與可能放置在*lpType*陣列中的位元組數相同。

### <a name="return-value"></a>傳回值

如果*nCount*參數是非零,則枚舉的點數。 如果*nCount*為 0,則路徑中的點`GetPath`總數(不 寫入緩衝區)。 如果*nCount*是非零且小於路徑中的點數,則返回值為 -1。

### <a name="remarks"></a>備註

設備上下文必須包含閉合路徑。 路徑的點以邏輯座標返回。 點存儲在設備座標中的路徑中,因此`GetPath`使用當前變換的逆向將點從設備座標更改為邏輯座標。 可以在`FlattenPath`之前`GetPath`調用成員函數,以將路徑中的所有曲線轉換為線段。

### <a name="example"></a>範例

  請參考 CDC 的範例[::開始路徑](#beginpath)。

## <a name="cdcgetpixel"></a><a name="getpixel"></a>CDC:取得像素

檢索*x*和*y*指定的點的圖元的 RGB 顏色值。

```
COLORREF GetPixel(
    int x,
    int y) const;

COLORREF GetPixel(POINT point) const;
```

### <a name="parameters"></a>參數

*x*<br/>
指定要檢查的點的邏輯 x 座標。

*Y*<br/>
指定要檢查的點的邏輯 y 座標。

*點*<br/>
指定要檢查的點的邏輯 x 和 y 座標。

### <a name="return-value"></a>傳回值

對於函數的任一版本,給定點顏色的 RGB 顏色值。 如果座標未指定剪切區域中的點,則為 -1。

### <a name="remarks"></a>備註

該點必須位於剪切區域中。 如果點不在剪切區域中,則函數不起作用,返回 -1。

並非所有的裝置皆支援 `GetPixel` 函式。 有關詳細資訊,請參閱[GetDeviceCaps](#getdevicecaps)成員函數下的RC_BITBLT柵格功能。

成員`GetPixel`函數有兩種形式。 第一個採用兩個座標值;第二個使用座標值。第二個對像是[POINT](/windows/win32/api/windef/ns-windef-point)結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

## <a name="cdcgetpolyfillmode"></a><a name="getpolyfillmode"></a>CDC::取得多利填充模式

檢索當前多邊形填充模式。

```
int GetPolyFillMode() const;
```

### <a name="return-value"></a>傳回值

如果函數成功,則當前多邊形填充模式(ALTERNATE 或 WINDING)。

### <a name="remarks"></a>備註

有關多邊`SetPolyFillMode`形填充模式的說明,請參閱成員函數。

## <a name="cdcgetrop2"></a><a name="getrop2"></a>CDC:GetROP2

檢索當前繪圖模式。

```
int GetROP2() const;
```

### <a name="return-value"></a>傳回值

繪圖模式。 有關繪圖模式值的清單,`SetROP2`請參閱成員函數。

### <a name="remarks"></a>備註

繪圖模式指定筆的顏色和填充物件的內部如何與顯示表面上已有的顏色組合。

## <a name="cdcgetsafehdc"></a><a name="getsafehdc"></a>CDC::取得安全Hdc

調用此成員函數以獲取[輸出設備上下文m_hDC。](#m_hdc)

```
HDC GetSafeHdc() const;
```

### <a name="return-value"></a>傳回值

設備上下文句柄。

### <a name="remarks"></a>備註

此成員函數也適用於空指標。

## <a name="cdcgetstretchbltmode"></a><a name="getstretchbltmode"></a>CDC::取得拉伸模式

檢索當前位圖拉伸模式。

```
int GetStretchBltMode() const;
```

### <a name="return-value"></a>傳回值

如果函數成功,返回值指定當前位圖拉伸模式(STRETCH_ANDSCANS、STRETCH_DELETESCANS或STRETCH_ORSCANS)。

### <a name="remarks"></a>備註

點陣圖拉伸模式定義如何`StretchBlt`從 成員函數拉伸或壓縮的位圖中刪除資訊。

STRETCH_ANDSCANS和STRETCH_ORSCANS模式通常用於在單色位圖中保留前景圖元。 STRETCH_DELETESCANS模式通常用於在顏色位圖中保留顏色。

## <a name="cdcgettabbedtextextent"></a><a name="gettabbedtextextent"></a>CDC::取得分頁文字範圍

呼叫此成員函數,使用屬性設備上下文[m_hAttribDC](#m_hattribdc)計算字串的寬度和高度。

```
CSize GetTabbedTextExtent(
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;

CSize GetTabbedTextExtent(
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;
```

### <a name="parameters"></a>參數

*lpszString*<br/>
指向字串。 您還可以為此參數傳遞[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件。

*n( N) Count*<br/>
指定*lpszString*指向[的字串的長度](/windows/win32/gdi/specifying-length-of-text-output-string)。

*nTab*<br/>
指定*lpnTabStop 定位*指向的陣列中的製表位數。

*lpnTabStop位置*<br/>
指向包含邏輯單位中的制表位的整數陣列。 必須按增加的順序對制表位進行排序;最小的 x 值應該是陣列中的第一個項。 不允許返回選項卡。

*Str*<br/>
包含`CString`要繪製的指定字元的物件。

### <a name="return-value"></a>傳回值

[CSize](../../atl-mfc-shared/reference/csize-class.md)物件中的字串(以邏輯單位為單位)的尺寸。

### <a name="remarks"></a>備註

如果字串包含一個或多個選項卡字元,則字串的寬度基於*lpnTabStop定位*指定的製表位。 該函數使用當前選擇的字型計算字串的尺寸。

當前裁剪區域不會偏移函數返回的`GetTabbedTextExtent`寬度和高度。

由於某些設備不將字元放置在常規單元格陣列中(即它們與字元一起),因此字串中字元的範圍和可能與字串的範圍不相等。

如果*nTabPositions*為 0,*並且 lpnTabStopPositions*為 NULL,則選項卡將擴展到平均字元寬度的八倍。 如果*nTabPoints 為*1,則製表位將由*lpnTabStopPoints*點指向的陣列中第一個值指定的距離分隔。 如果*lpnTabStopPositions*指向多個值,則為陣列中的每個值設置一個製表位,最多為*nTabPoints*指定的數位。

## <a name="cdcgettextalign"></a><a name="gettextalign"></a>CDC::取得文字對齊

檢索設備上下文的文本對齊標誌的狀態。

```
UINT GetTextAlign() const;
```

### <a name="return-value"></a>傳回值

文本對齊標誌的狀態。 傳回值是以下一個或多個值:

- TA_BASELINE 指定 x 軸和邊界矩形內所選字體的基線對齊。

- TA_BOTTOM指定 x 軸和邊界矩形底部的對齊方式。

- TA_CENTER指定 y 軸和邊界矩形的中心對齊。

- TA_LEFT指定邊界矩形的 y 軸和左側的對齊方式。

- TA_NOUPDATECP 指定目前位置未更新。

- TA_RIGHT指定邊界矩形的 y 軸和右側的對齊方式。

- TA_TOP指定 x 軸和邊界矩形頂部的對齊方式。

- TA_UPDATECP 指定更新當前位置。

### <a name="remarks"></a>備註

文字對齊標誌確定`TextOut``ExtTextOut`和成員函數如何相對於字串的起始點對齊文本字串。 文本對齊標誌不一定是單位標誌,可能等於 0。 要測試是否設置了標誌,應用程式應遵循以下步驟:

1. 將位或運算符應用於標誌及其相關標誌,分組如下:

   - TA_LEFT、TA_CENTER和TA_RIGHT

   - TA_BASELINE、TA_BOTTOM和TA_TOP

   - TA_NOUPDATECP和TA_UPDATECP

1. 將位-AND 運算符應用於 結果和`GetTextAlign`返回 值。

1. 測試此結果和標誌的相等性。

## <a name="cdcgettextcharacterextra"></a><a name="gettextcharacterextra"></a>CDC::取得文字字元額外

檢索字元間間距量的當前設置。

```
int GetTextCharacterExtra() const;
```

### <a name="return-value"></a>傳回值

字元間距的量。

### <a name="remarks"></a>備註

GDI 向每個字元(包括中斷字元)向設備上下文寫入文本行時,都會將此間距添加到其中。

字元間間距量的預設值為 0。

## <a name="cdcgettextcolor"></a><a name="gettextcolor"></a>CDC::取得文字顏色

檢索目前文字顏色。

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>傳回值

當前文字顏色作為 RGB 顏色值。

### <a name="remarks"></a>備註

文字顏色是使用 GDI 文字輸出成員函數[TextOut、ExtTextOut](#exttextout)和[TextOut](#textout)[TabbedTextOut](#tabbedtextout)繪製的字元的前景顏色。

## <a name="cdcgettextextent"></a><a name="gettextextent"></a>CDC::取得文字範圍

呼叫此成員函數,使用當前字型計算文本行的寬度和高度,以確定尺寸。

```
CSize GetTextExtent(
    LPCTSTR lpszString,
    int nCount) const;

CSize GetTextExtent(const CString& str) const;
```

### <a name="parameters"></a>參數

*lpszString*<br/>
指向字串。 您還可以為此參數傳遞[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件。

*n( N) Count*<br/>
指定字串中的字元數。

*Str*<br/>
包含`CString`指定字元的物件。

### <a name="return-value"></a>傳回值

[CSize](../../atl-mfc-shared/reference/csize-class.md)物件中的字串(以邏輯單位為單位)的尺寸。

### <a name="remarks"></a>備註

從屬性設備上下文[m_hAttribDC](#m_hattribdc)檢索資訊。

預設情況下,`GetTextExtent`假定它檢索維度的文本沿水平線設置(即轉義為 0)。 如果創建指定非零轉義的字體,則必須顯式轉換文本的角度以獲取字串的尺寸。

當前裁剪區域不會影響 返回`GetTextExtent`的寬度和高度。

由於某些設備不將字元放置在常規單元格陣列中(即它們執行角線),因此字串中字元的範圍和可能與字串的範圍不相等。

## <a name="cdcgettextextentexpointi"></a><a name="gettextextentexpointi"></a>CDC::取得文字範圍ExPointI

檢索指定字串中將適合指定空間的字元數,並為每個字元填充文本範圍的陣列。

```
BOOL GetTextExtentExPointI(
    LPWORD pgiIn,
    int cgi,
    int nMaxExtent,
    LPINT lpnFit,
    LPINT alpDx,
    LPSIZE lpSize) const;
```

### <a name="parameters"></a>參數

*pgiIn*<br/>
指向要檢索範圍的字形索引陣列的指標。

*Cgi*<br/>
指定*pgiIn*指向的陣列的字形數。

*nMax*<br/>
指定格式化字串的最大允許寬度(邏輯單位)。

*lpnFit*<br/>
指向整數的指標,該整數接收將適合*nMaxA.* 指定的空間的最大字元數計數。 當*lpnFit*為 NULL 時 *,nMax 範圍*將被忽略。

*阿爾普德克斯*<br/>
指向接收部分字形範圍的整數陣列的指標。 陣列中的每個元素以邏輯單位為單位,提供字形索引陣列的開頭與適合*nMaxA.* 指定的空間的字形之一之間的距離。 儘管此陣列應至少具有*與 cgi*指定的字形索引相同的元素,但函數僅為*lpnFit*指定的字形索引填充範圍。 如果*lpnDx*為 NULL,則函數不計算部分字串寬度。

*lpSize*<br/>
指向以邏輯單位接收字形索引陣列尺寸的[SIZE](/windows/win32/api/windef/ns-windef-size)結構的指標。 此值不能為 NULL。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此成員函數類比函數[GetText範圍ExPointI](/windows/win32/api/wingdi/nf-wingdi-gettextextentexpointi)的功能,如Windows SDK中所述。

## <a name="cdcgettextextentpointi"></a><a name="gettextextentpointi"></a>CDC:取得文字範圍點I

檢索指定字形索引陣列的寬度和高度。

```
BOOL GetTextExtentPointI(
    LPWORD pgiIn,
    int cgi,
    LPSIZE lpSize) const;
```

### <a name="parameters"></a>參數

*pgiIn*<br/>
指向要檢索範圍的字形索引陣列的指標。

*Cgi*<br/>
指定*pgiIn*指向的陣列的字形數。

*lpSize*<br/>
指向以邏輯單位接收字形索引陣列尺寸的[SIZE](/windows/win32/api/windef/ns-windef-size)結構的指標。 此值不能為 NULL。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此成員函數類比函數[GetText範圍PointI](/windows/win32/api/wingdi/nf-wingdi-gettextextentpointi)的功能,如Windows SDK中所述。

## <a name="cdcgettextface"></a><a name="gettextface"></a>CDC::取得文字面

呼叫此成員函數將當前字型的字型名稱複製到緩衝區中。

```
int GetTextFace(
    int nCount,
    LPTSTR lpszFacename) const;

int GetTextFace(CString& rString) const;
```

### <a name="parameters"></a>參數

*n( N) Count*<br/>
指定緩衝區的大小(以位元組為單位)。 如果字體名稱長於此參數指定的位元組數,則該名稱將被截斷。

*lpszFace 名稱*<br/>
指向字體名稱的緩衝區。

*rString*<br/>
對[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件的引用。

### <a name="return-value"></a>傳回值

複製到緩衝區的位元組數,不包括終止空字元。 如果發生錯誤,為 0。

### <a name="remarks"></a>備註

字型名稱複製為 null 終止字串。

## <a name="cdcgettextmetrics"></a><a name="gettextmetrics"></a>CDC::取得文字指標

使用屬性設備上下文檢索當前字體的指標。

```
BOOL GetTextMetrics(LPTEXTMETRIC lpMetrics) const;
```

### <a name="parameters"></a>參數

*lpMetrics*<br/>
指向接收指標的[TEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-textmetricw)結構。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

## <a name="cdcgetviewportext"></a><a name="getviewportext"></a>CDC::取得瀏覽埠Ext

檢索設備上下文視口的 x 和 y 範圍。

```
CSize GetViewportExt() const;
```

### <a name="return-value"></a>傳回值

x 和 y 範圍(以設備單位為`CSize`單位)作為 物件。

## <a name="cdcgetviewportorg"></a><a name="getviewportorg"></a>CDC::取得瀏覽埠組織

檢索與設備上下文關聯的視口源的 x 和 y 座標。

```
CPoint GetViewportOrg() const;
```

### <a name="return-value"></a>傳回值

視口(在設備座標中)作為`CPoint`物件的起源。

## <a name="cdcgetwindow"></a><a name="getwindow"></a>CDC::抓取視窗

返回與顯示設備上下文關聯的視窗。

```
CWnd* GetWindow() const;
```

### <a name="return-value"></a>傳回值

指標指向`CWnd`物件(如果成功);否則 NULL。

### <a name="remarks"></a>備註

這是一個高級函數。 例如,此成員函數在列印或列印預覽時可能無法返回檢視視窗。 它始終返回與輸出關聯的視窗。 使用給定 DC 的輸出函數繪製到此視窗。

## <a name="cdcgetwindowext"></a><a name="getwindowext"></a>CDC::取得視窗Ext

檢索與設備上下文關聯的視窗的 x 和 y 範圍。

```
CSize GetWindowExt() const;
```

### <a name="return-value"></a>傳回值

x-和 y-範圍(以邏輯單位為單位)`CSize`作為 物件。

## <a name="cdcgetwindoworg"></a><a name="getwindoworg"></a>CDC::抓取視窗組織

檢索與設備上下文關聯的視窗來源的 x 和 y 座標。

```
CPoint GetWindowOrg() const;
```

### <a name="return-value"></a>傳回值

視窗(在邏輯座標中)作為`CPoint`物件的原點。

## <a name="cdcgetworldtransform"></a><a name="getworldtransform"></a>CDC::取得世界轉型

檢索當前世界空間到頁面空間轉換。

```
BOOL GetWorldTransform(XFORM& rXform) const;
```

### <a name="parameters"></a>參數

*rXform*<br/>
引用接收當前世界空間到頁面空間轉換的[XFORM](/windows/win32/api/wingdi/ns-wingdi-xform)結構。

### <a name="return-value"></a>傳回值

返回成功時的非零值。

失敗後返回 0。

要取得延伸的錯誤資訊,請致電[GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror)。

### <a name="remarks"></a>備註

此方法包裝 Windows GDI 函數[GetWorldTransform](/windows/win32/api/wingdi/nf-wingdi-getworldtransform)。

## <a name="cdcgradientfill"></a><a name="gradientfill"></a>CDC::梯度填充

調用此成員函數以填充矩形和三角形結構,其顏色從一側平滑淡入另一側。

```
BOOL GradientFill(
    TRIVERTEX* pVertices,
    ULONG nVertices,
    void* pMesh,
    ULONG nMeshElements,
    DWORD dwMode);
```

### <a name="parameters"></a>參數

*pVertices*<br/>
指向[TRIVERTEX](/windows/win32/api/wingdi/ns-wingdi-trivertex)結構陣列的指標,每個結構定義三角形頂點。

*nVertices*<br/>
頂點數。

*pMesh*<br/>
三角形模式下[GRADIENT_TRIANGLE](/windows/win32/api/wingdi/ns-wingdi-gradient_triangle)結構陣列,或矩形模式下[GRADIENT_RECT](/windows/win32/api/wingdi/ns-wingdi-gradient_rect)結構陣組。

*nMesh元素*<br/>
*pMesh*中的元素數(三角形或矩形)

*dwMode*<br/>
指定漸變填充模式。 有關可能值的清單,請參閱 Windows SDK 中的[漸層 。](/windows/win32/api/wingdi/nf-wingdi-gradientfill)

### <a name="return-value"></a>傳回值

如果成功，則為 TRUE，否則為 FALSE。

### <a name="remarks"></a>備註

有關詳細資訊,請參閱`GradientFill`Windows SDK。

## <a name="cdcgraystring"></a><a name="graystring"></a>CDC::灰色字串

通過在記憶體位圖中寫入文本、調暗位圖,然後將位圖複製到顯示幕,在給定位置繪製變暗(灰色)文本。

```
virtual BOOL GrayString(
    CBrush* pBrush,
    BOOL (CALLBACK* lpfnOutput)(
    HDC,
    LPARAM,
    int),
    LPARAM lpData,
    int nCount,
    int x,
    int y,
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>參數

*pBrush*<br/>
標識用於調光(灰色)的畫筆。

*lpfn輸出*<br/>
指定將繪製字串的應用程式提供的回調函數的過程實例位址。 有關詳細資訊,請參閱 Windows `OutputFunc` [回檔函數](callback-functions-used-by-mfc.md#graystring)的說明。 如果此參數為 NULL,則系統`TextOut`使用 Windows 函數繪製字串,並且*假定 lpData*是指向要輸出的字串的長指標。

*lpData*<br/>
指定要傳遞給輸出函數的數據的遠指標。 如果*lpfnOutput*為 NULL,*則 lpData*必須是指向要輸出的字串的長指標。

*n( N) Count*<br/>
指定要輸出的字元數。 如果此參數為 0,`GrayString`則計算字串的長度(假設*lpData*是指向字串的指標)。 如果*nCount*為 1,並且*lpfnOutput*指向的功能返回 0,則顯示圖像但不變暗。

*x*<br/>
指定包含字串的矩形起始位置的邏輯 x 座標。

*Y*<br/>
指定包含字串的矩形起始位置的邏輯 y 座標。

*n 寬度*<br/>
指定包含字串的矩形的寬度(以邏輯單位為單位)。 如果*nWidth*為`GrayString`0,則計算區域的寬度,假設*lpData*是指向字串的指標。

*nHeight*<br/>
指定包含字串的矩形的高度(以邏輯單位為單位)。 如果*nHeight*為`GrayString`0,則計算區域的高度,假設*lpData*是指向字串的指標。

### <a name="return-value"></a>傳回值

如果繪製字串,則為非零;如果`TextOut`函數或應用程式提供的輸出函數返回 0,或者記憶體不足以創建用於調光的記憶體位圖,則為 0。

### <a name="remarks"></a>備註

無論所選畫筆和背景如何,該函數都會使文本變暗。 成員`GrayString`函數使用當前選定的字體。 在使用此函數之前,必須選擇MM_TEXT映射模式。

應用程式可以在支援純灰色設備上繪製灰色(灰色)字串,而無需調用`GrayString`成員函數。 系統顏色COLOR_GRAYTEXT是用於繪製禁用文本的純灰色系統顏色。 應用程式可以調用`GetSysColor`Windows 函數來檢索COLOR_GRAYTEXT的顏色值。 如果顏色為 0(黑色),則應用程式可以調`SetTextColor`用 成員函數將文本顏色設置為顏色值,然後直接繪製字串。 如果檢索到的顏色為黑色,則應用程式必須調用`GrayString`淡(灰色)文本。

如果*lpfnOutput*為 NULL,則 GDI 使用 Windows [TextOut](/windows/win32/api/wingdi/nf-wingdi-textoutw)函數,並且*假定 lpData*是指向要輸出的字元的遠指標。 如果`TextOut`要輸出的字元不能由成員函數處理(例如,字串存儲為位圖),則應用程式必須提供其自己的輸出函數。

另請注意,所有回調函數在返回到 Windows 之前都必須捕獲 Microsoft Foundation 異常,因為異常不能跨回調邊界引發。 有關異常的詳細資訊,請參閱文章["例外](../../mfc/exception-handling-in-mfc.md)"。

傳遞給 的回調函`GrayString`數`__stdcall`必須使用 調用約定,`__declspec`並且必須隨 匯出。

當框架處於預覽模式時,對成員函數的`GrayString`調用將轉換為`TextOut`調用,並且不調用回調函數。

## <a name="cdchimetrictodp"></a><a name="himetrictodp"></a>CDC::HIMETRITtoDP

將 HIMETRIC 大小從 OLE 轉換為圖元時,請使用此功能。

```cpp
void HIMETRICtoDP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>參數

*lpSize*<br/>
指向[SIZE](/windows/win32/api/windef/ns-windef-size)結構或[CSize](../../atl-mfc-shared/reference/csize-class.md)物件。

### <a name="remarks"></a>備註

如果設備上下文物件的映射模式MM_LOENGLISH、MM_HIENGLISH、MM_LOMETRIC或MM_HIMETRIC,則轉換基於物理英寸中的圖元數。 如果映射模式是其他非約束模式之一(例如,MM_TEXT),則轉換基於邏輯英寸中的圖元數。

## <a name="cdchimetrictolp"></a><a name="himetrictolp"></a>CDC::HIMETRICTOLP

調用此函數可將 HIMETRIC 單元轉換為邏輯單位。

```cpp
void HIMETRICtoLP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>參數

*lpSize*<br/>
指向[SIZE](/windows/win32/api/windef/ns-windef-size)結構或[CSize](../../atl-mfc-shared/reference/csize-class.md)物件。

### <a name="remarks"></a>備註

當您從 OLE 獲取 HIMETRIC 大小並希望將它們轉換為應用程式的自然映射模式時,請使用此功能。

轉換首先將 HIMETRIC 單位轉換為像素,然後使用這些單元轉換為邏輯單位,使用設備上下文的當前映射單元來實現。 請注意,設備視窗和視口的範圍將影響結果。

## <a name="cdcintersectcliprect"></a><a name="intersectcliprect"></a>CDC::相交剪輯

通過形成當前區域的交集和*x1、y1、x2*和*y2*指定的*x2*矩形,創建*y1*新的裁剪區域。

```
int IntersectClipRect(
    int x1,
    int y1,
    int x2,
    int y2);

int IntersectClipRect(LPCRECT lpRect);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定矩形左上角的邏輯 x 座標。

*y1*<br/>
指定矩形左上角的邏輯 y 座標。

*x2*<br/>
指定矩形右下角的邏輯 x 座標。

*y2*<br/>
指定矩形右下角的邏輯 y 座標。

*lpRect*<br/>
指定矩形。 可以傳遞`CRect`物件或指標到此參數`RECT`的結構。

### <a name="return-value"></a>傳回值

新裁剪區域的類型。 它可以是以下任一值:

- 複雜區域 新裁剪區域具有重疊邊框。

- 錯誤設備上下文無效。

- NULL 區域 新剪切區域為空。

- SIMPLE區域 新剪切區域沒有重疊邊框。

### <a name="remarks"></a>備註

GDI 夾夾所有後續輸出以適合新邊界。 寬度和高度不得超過 32,767。

## <a name="cdcinvertrect"></a><a name="invertrect"></a>CDC::反逆轉

反轉給定矩形的內容。

```cpp
void InvertRect(LPCRECT lpRect);
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向`RECT`要反轉的矩形的邏輯座標的 。 您還可以傳遞此參數`CRect`的物件。

### <a name="remarks"></a>備註

反轉是一個邏輯的 NOT 操作,並翻轉每個圖元的位。 在單色顯示幕上,該功能使白色圖元為黑色和黑色圖元為白色。 在顏色顯示上,反轉取決於如何為顯示器生成顏色。 使用`InvertRect`同一矩形調用兩次會將顯示還原到其以前的顏色。

如果矩形為空,則不繪製任何內容。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#36](../../mfc/codesnippet/cpp/cdc-class_8.cpp)]

## <a name="cdcinvertrgn"></a><a name="invertrgn"></a>CDC::反逆

反轉*pRgn*指定的區域中的顏色。

```
BOOL InvertRgn(CRgn* pRgn);
```

### <a name="parameters"></a>參數

*pRgn*<br/>
標識要反轉的區域。 區域的座標以邏輯單位指定。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

在單色顯示幕上,該功能使白色圖元為黑色和黑色圖元為白色。 在顏色顯示上,反轉取決於如何為顯示器生成顏色。

## <a name="cdcisprinting"></a><a name="isprinting"></a>CDC::正在列印

確定設備上下文是否用於列印。

```
BOOL IsPrinting() const;
```

### <a name="return-value"></a>傳回值

如果對像是印表`CDC`機 DC,則非零;否則 0。

## <a name="cdclineto"></a><a name="lineto"></a>CDC::線到

從目前位置繪製一條線,然後繪製*x*和*y(* 或點)指定的點,但不包括該*點*。

```
BOOL LineTo(
    int x,
    int y);

BOOL LineTo(POINT point);
```

### <a name="parameters"></a>參數

*x*<br/>
指定行的終結點的邏輯 x 座標。

*Y*<br/>
指定行端點的邏輯 y 座標。

*點*<br/>
指定行的終結點。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

繪製線時非零;否則 0。

### <a name="remarks"></a>備註

線條使用所選筆繪製。 目前位置設定為*x* *、y*或*指向*。

### <a name="example"></a>範例

  請參閱[CRect::中心點](../../atl-mfc-shared/reference/crect-class.md#centerpoint)的範例。

## <a name="cdclptodp"></a><a name="lptodp"></a>CDC:LPtoDP

將邏輯單位轉換為設備單元。

```cpp
void LPtoDP(
    LPPOINT lpPoints,
    int nCount = 1) const;

void LPtoDP(LPRECT lpRect) const;
void LPtoDP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向一組點。 陣列中的每個點是[POINT](/windows/win32/api/windef/ns-windef-point)結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

*n( N) Count*<br/>
陣列中的點數。

*lpRect*<br/>
指向[RECT](/windows/win32/api/windef/ns-windef-rect)結構或[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。 此參數用於將矩形從邏輯單位映射到設備單元的常見情況。

*lpSize*<br/>
指向[SIZE](/windows/win32/api/windef/ns-windef-size)結構或[CSize](../../atl-mfc-shared/reference/csize-class.md)物件。

### <a name="remarks"></a>備註

該函數將每個點的座標或大小的尺寸從 GDI 的邏輯座標系映射到設備座標系。 轉換取決於當前映射模式以及設備視窗和視口的源和範圍的設置。

點的 x 座標和 y 座標是 -32,768 到 32,767 範圍內的 2 位元組簽名整數。 如果映射模式將導致大於這些限制的值,系統將值分別設置為 -32,768 和 32,767。

## <a name="cdclptohimetric"></a><a name="lptohimetric"></a>CDC:LPtoHIMETRIC

調用此函數可將邏輯單位轉換為 HIMETRIC 單位。

```cpp
void LPtoHIMETRIC(LPSIZE lpSize) const;
```

### <a name="parameters"></a>參數

*lpSize*<br/>
指向`SIZE`結構或`CSize`物件。

### <a name="remarks"></a>備註

將 HIMETRIC 大小轉換為 OLE 時,請使用此功能,該大小將從應用程式的自然映射模式進行轉換。 請注意,設備視窗和視口的範圍將影響結果。

轉換首先使用設備上下文的當前映射單元將邏輯單位轉換為像素,然後將這些單元轉換為 HIMETRIC 單位來實現。

## <a name="cdcm_hattribdc"></a><a name="m_hattribdc"></a>CDC::m_hAttribDC

此`CDC`物件的屬性設備上下文。

```
HDC m_hAttribDC;
```

### <a name="remarks"></a>備註

預設情況下,此裝置上下文等於`m_hDC`。 通常,`CDC`要求裝置中資訊的 GDI 呼叫將定到`m_hAttribDC`。 有關使用這兩個設備上下文的更多內容,請參閱[CDC](../../mfc/reference/cdc-class.md)類說明。

## <a name="cdcm_hdc"></a><a name="m_hdc"></a>CDC::m_hDC

此`CDC`物件的輸出設備上下文。

```
HDC m_hDC;
```

### <a name="remarks"></a>備註

預設的項目`m_hDC`,`m_hAttribDC``CDC`等於 通常,`CDC`創建輸出的 GDI 調`m_hDC`用轉到 設備上下文。 您可以初始化和`m_hDC``m_hAttribDC`指向不同的設備。 有關使用這兩個設備上下文的更多內容,請參閱[CDC](../../mfc/reference/cdc-class.md)類說明。

## <a name="cdcmaskblt"></a><a name="maskblt"></a>CDC::MaskBlt

使用給定蒙版和閘格操作組合源和目標位圖的顏色數據。

```
BOOL MaskBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    CBitmap& maskBitmap,
    int xMask,
    int yMask,
    DWORD dwRop);
```

### <a name="parameters"></a>參數

*x*<br/>
指定目標矩形左上角的邏輯 x 座標。

*Y*<br/>
指定目標矩形左上角的邏輯 y 座標。

*n 寬度*<br/>
指定目標矩形和源位圖的寬度(以邏輯單位為單位)。

*nHeight*<br/>
指定目標矩形和源位圖的高度(以邏輯單位為單位)。

*pSrcDC*<br/>
標識從中複製位圖的設備上下文。 如果*dwRop*參數指定不包含源的柵格操作,則它必須為零。

*xSrc*<br/>
指定來源點陣圖左上角的邏輯 x 座標。

*伊斯爾克*<br/>
指定源點陣圖左上角的邏輯 y 座標。

*遮罩*<br/>
標識單色蒙版位圖與源設備上下文中的顏色位圖相結合。

*x蒙斯*<br/>
指定*蒙版Bitmap*參數指定的蒙版點陣圖的水準圖元偏移量。

*yMask*<br/>
指定*蒙版Bitmap*參數指定的蒙版點陣圖的垂直圖元偏移量。

*dwRop*<br/>
指定前景和後台三元柵格操作代碼,該代碼用於控制源和目標數據的組合。 後台柵格操作代碼存儲在此值的高字的高位元組中;前景柵格操作代碼存儲在此值的高字的低位元組中;此值的低字將被忽略,並且應為零。 宏 MAKEROP4 創建前景和後台柵格操作代碼的組合。 有關此功能上下文中的前景和背景的討論,請參閱備註部分。 有關常見`BitBlt`柵格操作代碼的清單,請參閱成員函數。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

*掩碼Bitmap*指定的掩碼中的值 1 表示*dwRop*指定的前景柵格操作代碼應應用於該位置。 掩碼中的值為 0 表示*dwRop*指定的後台柵格操作代碼應應用於該位置。 如果柵格操作需要源,蒙版矩形必須覆蓋源矩形。 如果沒有,則函數將失敗。 如果柵格操作不需要源,則蒙版矩形必須覆蓋目標矩形。 如果沒有,則函數將失敗。

如果在調用此函數時源設備上下文的旋轉或剪切轉換有效,則會發生錯誤。 但是,允許其他類型的轉換。

如果來源、圖案和目標位圖的顏色格式不同,此函數將轉換模式或源格式,或兩者匹配目標格式。 如果蒙版點陣圖不是單色位圖,則會發生錯誤。 記錄增強的元檔時,如果源設備上下文標識增強元文件設備上下文,則會發生錯誤(函數返回 0)。 並非所有裝置都支援`MaskBlt`。 應用程式應調用`GetDeviceCaps`以確定裝置是否支援此功能。 如果未提供掩碼位圖,則此函數的行為與 使用`BitBlt`前景 柵格操作代碼完全一樣。 蒙版點陣圖中的圖元偏移映射到源設備上下文位圖中的點 (0,0)。 這對於蒙版位圖包含一組掩碼的情況很有用;應用程式可以通過調整發送`MaskBlt`到 的圖元偏移量和矩形大小,輕鬆地將其中任何一個應用於蒙版掃描任務。

## <a name="cdcmodifyworldtransform"></a><a name="modifyworldtransform"></a>CDC::修改世界變換

使用指定的模式更改設備上下文的世界轉換。

```
BOOL ModifyWorldTransform(
    const XFORM& rXform,
    DWORD iMode);
```

### <a name="parameters"></a>參數

*rXform*<br/>
引用用於修改給定裝置上下文的世界轉換的[XFORM](/windows/win32/api/wingdi/ns-wingdi-xform)結構。

*iMode*<br/>
指定轉換資料如何修改當前世界變換。 有關此參數可以取得的值的清單,請參閱[修改世界轉換](/windows/win32/api/wingdi/nf-wingdi-modifyworldtransform)。

### <a name="return-value"></a>傳回值

返回成功時的非零值。

失敗後返回 0。

要取得延伸的錯誤資訊,請致電[GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror)。

### <a name="remarks"></a>備註

此方法包裝 Windows GDI 函數[修改世界轉換](/windows/win32/api/wingdi/nf-wingdi-modifyworldtransform)。

## <a name="cdcmoveto"></a><a name="moveto"></a>CDC::移動到

將目前位置移至*x*和*y*指定的點(或*點*)。

```
CPoint MoveTo(
    int x,
    int y);

CPoint MoveTo(POINT point);
```

### <a name="parameters"></a>參數

*x*<br/>
指定新位置的邏輯 x 座標。

*Y*<br/>
指定新位置的邏輯 y 座標。

*點*<br/>
指定新位置。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

前一`CPoint`個位置作為物件的 x 和 y 座標。

### <a name="example"></a>範例

  請參閱[CRect::中心點](../../atl-mfc-shared/reference/crect-class.md#centerpoint)的範例。

## <a name="cdcoffsetcliprgn"></a><a name="offsetcliprgn"></a>CDC::偏移夾子

按指定的偏移量移動設備上下文的剪切區域。

```
int OffsetClipRgn(
    int x,
    int y);

int OffsetClipRgn(SIZE size);
```

### <a name="parameters"></a>參數

*x*<br/>
指定要向左或向右移動的邏輯單位數。

*Y*<br/>
指定要向上或向下移動的邏輯單位數。

*size*<br/>
指定要偏移的金額。

### <a name="return-value"></a>傳回值

新區域的類型。 它可以是以下任一值:

- 複雜區域剪切區域具有重疊邊框。

- 錯誤設備上下文無效。

- NULL 區域剪下區域為空。

- SIMPLE 區域剪切區域沒有重疊邊框。

### <a name="remarks"></a>備註

該函數沿 x 軸移動區域*x*單位,沿 y 軸*移動 y*單位。

## <a name="cdcoffsetviewportorg"></a><a name="offsetviewportorg"></a>CDC::偏移視口組織

相對於當前視口原點的座標,修改視口原點的座標。

```
virtual CPoint OffsetViewportOrg(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>參數

*n 寬度*<br/>
指定要新增到目前原點的 x 座標的裝置單位數。

*nHeight*<br/>
指定要新增到目前源的 y 座標的設備單位數。

### <a name="return-value"></a>傳回值

作為物件的上一個`CPoint`視口源(在設備座標中)。

## <a name="cdcoffsetwindoworg"></a><a name="offsetwindoworg"></a>CDC::偏移視窗組織

相對於當前視窗原點的座標,修改視窗原點的座標。

```
CPoint OffsetWindowOrg(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>參數

*n 寬度*<br/>
指定要加入目前的原點的 x 座標的邏輯單位數。

*nHeight*<br/>
指定要新增到目前源的 y 座標的邏輯單位數。

### <a name="return-value"></a>傳回值

作為物件的上一個`CPoint`視窗原點(在邏輯座標中)。

## <a name="cdcoperator-hdc"></a><a name="operator_hdc"></a>CDC::管理員 HDC

使用此運算符檢索`CDC`物件的設備上下文句柄。

```
operator HDC() const;
```

### <a name="return-value"></a>傳回值

如果成功,則處理設備上下文物件的句柄;否則,NULL。

### <a name="remarks"></a>備註

您可以使用該句柄直接呼叫 Windows API。

## <a name="cdcpaintrgn"></a><a name="paintrgn"></a>CDC::P

使用目前畫筆填充*pRgn*指定的區域。

```
BOOL PaintRgn(CRgn* pRgn);
```

### <a name="parameters"></a>參數

*pRgn*<br/>
標識要填充的區域。 給定區域的座標以邏輯單位指定。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

## <a name="cdcpatblt"></a><a name="patblt"></a>CDC::PatBlt

在設備上創建位模式。

```
BOOL PatBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    DWORD dwRop);
```

### <a name="parameters"></a>參數

*x*<br/>
指定要接收圖案的矩形左上角的邏輯 x 座標。

*Y*<br/>
指定要接收模式的矩形左上角的邏輯 y 座標。

*n 寬度*<br/>
指定要接收圖案的矩形的寬度(以邏輯單位為單位)。

*nHeight*<br/>
指定要接收圖案的矩形的高度(以邏輯單位為單位)。

*dwRop*<br/>
指定柵格操作代碼。 柵格操作代碼 (ROP) 定義 GDI 如何將顏色合併到涉及當前畫筆、可能的源位圖和目標位圖的輸出操作中。 這裡可以是以下值之一:

- PATCOPY 將模式複製到目標位圖。

- PATINVERT 使用布林 XOR 運算元將目標位圖與模式相結合。

- DSTINVERT 反轉目標位圖。

- 黑色將所有輸出變為黑色。

- 白色將所有輸出變為白色。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

該模式是所選畫筆和設備上已有的模式的組合。 *dwRop*指定的柵格操作代碼定義了如何組合模式。 為此函數列出的柵格操作是完整 256 個三元柵格操作代碼的有限子集;特別是,不能使用引用源的柵格操作代碼。

並非所有設備上下文都支援該`PatBlt`功能。 要確定裝置上下文是否支援`PatBlt`,請`GetDeviceCaps`使用 RASTERCAPS 索引調用成員函數,並檢查RC_BITBLT標誌的返回值。

## <a name="cdcpie"></a><a name="pie"></a>CDC::Pie

繪製一個橢圓弧,其中心和兩個端點由線連接,繪製餅形楔形楔形。

```
BOOL Pie(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Pie(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定邊界矩形左上角的 x 座標(以邏輯單位表示)。

*y1*<br/>
指定邊界矩形左上角的 y 座標(以邏輯單位表示)。

*x2*<br/>
指定邊界矩形右下角的 x 座標(以邏輯單位表示)。

*y2*<br/>
指定邊界矩形右下角的 y 座標(以邏輯單位表示)。

*x3*<br/>
指定圓弧起點的 x 座標(以邏輯單位表示)。 此點不必完全位於圓弧上。

*y3*<br/>
指定圓弧起點的 y 座標(以邏輯單位表示)。 此點不必完全位於圓弧上。

*x4*<br/>
指定圓弧端點(以邏輯單位表示)的 x 座標。 此點不必完全位於圓弧上。

*y4*<br/>
指定圓弧端點(以邏輯單位表示)的 y 座標。 此點不必完全位於圓弧上。

*lpRect*<br/>
指定邊界矩形。 可以傳遞`CRect`物件或指標到此參數`RECT`的結構。

*pt 開始*<br/>
指定圓弧的起點。此點不必完全位於圓弧上。您可以為此參數傳遞[POINT](/windows/win32/api/windef/ns-windef-point)結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

*ptEnd*<br/>
指定圓弧的端點。此點不必完全位於圓弧上。可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

圓弧的中心是由*x1、y1、x2*和*y2(* 或*x2* *lpRect)* 指定的*y1*邊界矩形的中心。 弧的起始點和結束點由*x4*x3、y3、x4 和*y4(* 或*x3**y3*ptStart*ptStart*和*ptEnd)* 指定。

弧線使用選定的筆繪製,沿逆時針方向移動。 從每個端點繪製兩條其他線到圓弧的中心。 餅圖形狀的區域用當前畫筆填充。 如果*x3*等於*x4,y3*等於*y4,* 則結果是一個橢圓,從橢圓中心到點 *(x3,* *y3)* 或 *(x4*, *y4*) 具有一條線。 *y3*

此函數繪製的圖形最多可擴展到但不包括右座標和底部座標。 這意味著圖形的高度為*y2* - *y1,* 圖形的寬度為*x2* - *x1*。 邊界矩形的寬度和高度必須大於 2 個單位,小於 32,767 個單位。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#37](../../mfc/codesnippet/cpp/cdc-class_9.cpp)]

## <a name="cdcplaymetafile"></a><a name="playmetafile"></a>CDC::PlayMetaFile

在設備上下文中播放指定的元文件的內容。

```
BOOL PlayMetaFile(HMETAFILE hMF);

BOOL PlayMetaFile(
    HENHMETAFILE hEnhMetaFile,
    LPCRECT lpBounds);
```

### <a name="parameters"></a>參數

*hMF*<br/>
標識要播放的元檔。

*hEnhMetaFile*<br/>
標識增強的元檔。

*lpBounds*<br/>
指向包含用於`RECT`顯示圖片的`CRect`邊界 矩形的座標的結構或物件。 坐標以邏輯單位指定。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

元檔可以播放任意次數。

的第`PlayMetaFile`二個版本顯示存儲在給定增強格式元檔中的圖片。 當應用程式呼叫的第二個版本`PlayMetaFile`時,Windows 使用增強元文件標題中的圖片框架將圖片映射到*lpBounds*參數指向的矩形上。 (在調用`PlayMetaFile`之前,通過在輸出設備中設置世界變換,可以對此圖片進行輪用或旋轉。沿矩形邊緣的點包含在圖片中。 在播放增強的元檔之前,可以通過在輸出設備中定義剪切區域來剪切增強的元文件圖片。

如果增強的元檔包含可選調色板,則應用程式可以通過在調`PlayMetaFile`用 的第二個版本 之前在輸出設備上設置調色板來實現一致的顏色。 若要檢查索選擇的調色板,`GetEnhMetaFilePaletteEntries`請使用 Windows 函數。 通過將第二個版本調用`PlayMetaFile`的增強元檔並將其的源增強元檔添加到新的增強元檔的設備上下文中,可以嵌入新創建的增強元檔。

此函數將保留輸出設備上下文狀態。 此函數將刪除在增強的元文件中創建但未刪除的任何物件。 要停止此功能,應用程式可以從另一個線程`CancelDC`調用 Windows 函數以終止該操作。 在這種情況下,函數返回零。

## <a name="cdcplgblt"></a><a name="plgblt"></a>CDC::PlgBlt

執行位塊傳輸顏色資料位從源裝置上下文中的指定矩形到給定設備上下文中的指定並行四字形。

```
BOOL PlgBlt(
    LPPOINT lpPoint,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nWidth,
    int nHeight,
    CBitmap& maskBitmap,
    int xMask,
    int yMask);
```

### <a name="parameters"></a>參數

*lpPoint*<br/>
指向邏輯空間中三個點陣列,該數組標識目標平行四邊形的三個角。 源矩形的左上角映射到此陣列中的第一個點,右上角映射到此陣列中的第二個點,將左下角映射到第三個點。 源矩形的右下角映射到平行四邊形中的隱式第四點。

*pSrcDC*<br/>
標識源設備上下文。

*xSrc*<br/>
指定源矩形左上角的 x 座標(以邏輯單位表示)。

*伊斯爾克*<br/>
指定源矩形左上角的 y 座標(以邏輯單位表示)。

*n 寬度*<br/>
指定源矩形的寬度(以邏輯單位為單位)。

*nHeight*<br/>
指定源矩形的高度(以邏輯單位為單位)。

*遮罩*<br/>
標識用於遮蓋源矩形顏色的可選單色位圖。

*x蒙斯*<br/>
指定單色點圖左上角的 x 座標。

*yMask*<br/>
指定單色點圖左上角的 y 座標。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

如果給定的位掩碼句柄標識有效的單色位圖,則函數使用此位圖來遮蓋源矩形中的顏色數據位。

平行四邊形 (D) 的第四個頂點是通過將前三個點(A、B 和 C)作為向量和計算 D = B + C - A 來定義的。

如果存在位掩碼,蒙版中的值為 1 表示應將源圖元顏色複製到目標。 蒙版中的值為 0 表示不更改目標像素顏色。

如果蒙版矩形小於源矩形和目標矩形,則函數將複製蒙版圖案。

源設備上下文中允許縮放、轉換和反射轉換;但是,旋轉和剪切變換不是。 如果蒙版點陣圖不是單色位圖,則會發生錯誤。 目標設備上下文的拉伸模式用於確定如何拉伸或壓縮圖元(如有必要)。 記錄增強的元檔時,如果源設備上下文標識增強的元文件設備上下文,則會發生錯誤。

目的地座標會根據目的地裝置內容而轉換；來源座標會根據來源裝置內容而轉換。 如果源轉換具有旋轉或剪切,則返回錯誤。 如果目標矩形和源矩形的顏色格式不同,則`PlgBlt`轉換源矩形以匹配目標矩形。 並非所有裝置都支援`PlgBlt`。 有關詳細資訊,請參閱`CDC::GetDeviceCaps`成員函數中RC_BITBLT柵格功能的說明。

如果源設備和目標設備上下文表示不相容的設備,則`PlgBlt`返回錯誤。

## <a name="cdcpolybezier"></a><a name="polybezier"></a>CDC::P諾利·貝塞爾

繪製一個或多個 Bzier 樣條線。

```
BOOL PolyBezier(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向包含樣條線的端點和控制點的[POINT](/windows/win32/api/windef/ns-windef-point)資料結構陣組。

*n( N) Count*<br/>
指定*lpPoints*陣列中的點數。 此值必須為要繪製的樣條線數的三倍以上,因為每個 Bzier 樣條線需要兩個控制點和一個終結點,並且初始樣條線需要一個額外的起始點。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此函數使用*lpPoints*參數指定的端點和控制點繪製立方 Bzier 樣條線。 使用第二和第三點作為控制點,從第一個點繪製第一個樣條線到第四個點。 序列中的每個後續樣條線都需要另外三個點:將前一個樣條線的終點用作起點,序列中的後續兩個點是控制點,第三個點是終點。

函數既不使用也不更新`PolyBezier`當前位置。 圖形未填充。 此函數使用當前筆繪製線條。

## <a name="cdcpolybezierto"></a><a name="polybezierto"></a>CDC::P奧利貝塞爾托

繪製一個或多個 Bzier 樣條線。

```
BOOL PolyBezierTo(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向包含端點和控制點的[POINT](/windows/win32/api/windef/ns-windef-point)資料結構陣列。

*n( N) Count*<br/>
指定*lpPoints*陣列中的點數。 此值必須為要繪製的樣條線數的三倍,因為每個 Bzier 樣條線需要兩個控制點和一個終點。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此函數使用*lpPoints*參數指定的控制點繪製立方 Bzier 樣條線。 使用前兩個點作為控制點,將第一條線從當前位置繪製到第三個點。 對於每個後續樣條線,函數只需要另外三個點,並使用前一個樣條線的端點作為下一個樣條線的起點。 `PolyBezierTo`將當前位置移動到最後一個 Bzier 樣條線的終點。 圖形未填充。 此函數使用當前筆繪製線條。

### <a name="example"></a>範例

  請參考 CDC 的範例[::開始路徑](#beginpath)。

## <a name="cdcpolydraw"></a><a name="polydraw"></a>CDC::P

繪製一組線段和 Bzier 樣條線。

```
BOOL PolyDraw(
    const POINT* lpPoints,
    const BYTE* lpTypes,
    int nCount);
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向[POINT](/windows/win32/api/windef/ns-windef-point)資料結構陣列,其中包含每個線段的端點以及每個 Bzier 樣條線的端點和控制點。

*lpType*<br/>
指向指定*如何使用 lpPoints*陣列中的每個點的陣列。 它可以是下列其中一個值：

- PT_MOVETO 指定此點啟動不相交的數位。 此點將成為新的當前位置。

- PT_LINETO 指定從當前位置繪製一條線到此點,然後該點將成為新的當前位置。

- PT_BEZIERTO 指定此點是 Bzier 樣條線的控制點或終點。

PT_BEZIERTO類型始終以三組的形式出現。 當前位置定義 Bzier 樣條線的起點。 前兩個PT_BEZIERTO點是控制點,第三個PT_BEZIERTO點是終點。 結束點將成為新的當前位置。 如果沒有連續三個PT_BEZIERTO點,則會導致錯誤。

   PT_LINETO或PT_BEZIERTO類型可以使用位運算元或指示相應的點是圖形中的最後一個點並關閉圖形,從而與以下常量組合:

- PT_CLOSEFIGURE 指定完成此點PT_LINETO或PT_BEZIERTO類型後,圖形將自動關閉。 從這一點繪製一條線到最新的PT_MOVETO或`MoveTo`點。

   此標誌與行的PT_LINETO類型或 Bzier 樣條線的PT_BEZIERTO類型結合使用位**或**運算符。 當前位置設置為結束線的終點。

*n( N) Count*<br/>
指定*lpPoints*陣列中的點總數,與*lpType*陣列中的位元組數相同。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此功能可用於繪製不交交的數位,以代替對`CDC::MoveTo`的連續調用`CDC::LineTo``CDC::PolyBezierTo`和成員函數。 線條和樣條線使用當前筆繪製,並且不會填充圖形。 如果有一個活動路徑由調用成員函數啟動`CDC::BeginPath`,`PolyDraw`則添加到路徑。 *lpPoints*陣列和*lpType*中包含的點指示`CDC::MoveTo`每個點`CDC::LineTo`是、`CDC::BezierTo`或操作的一部分。 也可以關閉數位。 此函數更新當前位置。

### <a name="example"></a>範例

  請參考 CDC 的範例[::開始路徑](#beginpath)。

## <a name="cdcpolygon"></a><a name="polygon"></a>CDC::P

使用當前筆繪製由兩個或多個點(頂點)組成的多邊形。

```
BOOL Polygon(
    LPPOINT lpPoints,
    int nCount);
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向指定多邊形頂點的點陣列。 陣列中的每個點是結構`POINT``CPoint`或 物件。

*n( N) Count*<br/>
指定陣列中的頂點數。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

如有必要,系統通過繪製從最後一個頂點到第一個頂點的線自動關閉面。

可以使用`GetPolyFillMode`和`SetPolyFillMode`成員函數檢索或設置當前多邊形填充模式。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#38](../../mfc/codesnippet/cpp/cdc-class_10.cpp)]

## <a name="cdcpolyline"></a><a name="polyline"></a>CDC::Polyline

繪製一組線段,連接*lpPoints*指定的點。

```
BOOL Polyline(
    LPPOINT lpPoints,
    int nCount);
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向要連接的結構或`POINT``CPoint`物件陣列。

*n( N) Count*<br/>
指定陣列中的點數。 此值必須至少為 2。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

使用當前筆從第一個點到後續點繪製線條。 與`LineTo`成員函數不同,該`Polyline`函數既不使用也不更新當前位置。

有關詳細資訊,請參閱 Windows SDK 中的[PolyLine。](/windows/win32/api/wingdi/nf-wingdi-polyline)

## <a name="cdcpolylineto"></a><a name="polylineto"></a>CDC::Polylylylyto

繪製一條或多條直線。

```
BOOL PolylineTo(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向包含行頂點的[POINT](/windows/win32/api/windef/ns-windef-point)資料結構陣組。

*n( N) Count*<br/>
指定陣列中的點數。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

使用當前筆從當前位置繪製一條線到*lpPoints*參數指定的第一個點。 對於每一附加行,函數從上一行的結束點繪製到*lpPoints*指定的下一個點。 `PolylineTo`將當前位置移動到最後一行的結束點。 如果此函數繪製的線段形成閉合圖,則不會填充該圖。

## <a name="cdcpolypolygon"></a><a name="polypolygon"></a>CDC::P多利多貢

建立使用當前多邊形填充模式填充的兩個或多個面。

```
BOOL PolyPolygon(
    LPPOINT lpPoints,
    LPINT lpPolyCounts,
    int nCount);
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向定義多邊形頂`POINT`點的`CPoint`結構 或對象的陣列。

*lpPolyCounts*<br/>
指向整陣列,每個整數指定*lpPoints*陣組中一個多邊形中的點數。

*n( N) Count*<br/>
*lpPolyCounts 陣列*中的條目數。 此數位指定要繪製的面數。 此值必須至少為 2。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

多邊形可能是不交或重疊的。

必須關閉對`PolyPolygon`函數的調用中指定的每個多邊形。 與`Polygon`成員函數創建的多邊形不同,由創建的`PolyPolygon`多邊形不會自動閉合。

該函數創建兩個或多個多邊形。 要創建單個多邊形,應用程式應使用`Polygon`成員函數。

可以使用`GetPolyFillMode`和`SetPolyFillMode`成員函數檢索或設置當前多邊形填充模式。

## <a name="cdcpolypolyline"></a><a name="polypolyline"></a>CDC::P多利線

繪製多個串聯線段系列。

```
BOOL PolyPolyline(
    const POINT* lpPoints,
    const DWORD* lpPolyPoints,
    int nCount);
```

### <a name="parameters"></a>參數

*lpPoints*<br/>
指向包含折線頂點的結構陣組。 連續指定多條線。

*lpPolyPoints*<br/>
指向指定相應多邊形*的 lpPoints*陣列中的點數的變數陣列。 每個條目必須大於或等於 2。

*n( N) Count*<br/>
指定*lpPolyPoints*陣列中的計數總數。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

線段使用當前筆繪製。 段形成的數位不填充。 此函數既不使用也不更新當前位置。

## <a name="cdcptvisible"></a><a name="ptvisible"></a>CDC::P可見

確定給定點是否位於設備上下文的剪切區域內。

```
virtual BOOL PtVisible(
    int x,
    int y) const;

BOOL PtVisible(POINT point) const;
```

### <a name="parameters"></a>參數

*x*<br/>
指定點的邏輯 x 座標。

*Y*<br/>
指定點的邏輯 y 座標。

*點*<br/>
指定要簽入邏輯座標的點。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

如果指定的點位於剪切區域內,則非零;否則 0。

## <a name="cdcqueryabort"></a><a name="queryabort"></a>CDC::查詢中止

呼叫[SetAbortProc](#setabortproc)成員為列印應用程式安裝的中止函數,並查詢是否應終止列印。

```
BOOL QueryAbort() const;
```

### <a name="return-value"></a>傳回值

如果列印應繼續或沒有中止過程,則返回值為非零。 如果應終止列印作業,則為 0。 返回值由中止函數提供。

## <a name="cdcrealizepalette"></a><a name="realizepalette"></a>CDC:實現調色盤

將條目從當前邏輯調色板映射到系統調色板。

```
UINT RealizePalette();
```

### <a name="return-value"></a>傳回值

指示邏輯調色板中映射到系統調色板中不同條目的條目數。 這表示此函數重新映射的條目數,以適應自上次實現邏輯調色板以來系統調色板中的更改。

### <a name="remarks"></a>備註

邏輯調色板充當色彩密集型應用程式和系統之間的緩衝區,允許應用程式根據需要使用盡可能多的顏色,而不會干擾其自己顯示的顏色或其他視窗顯示的顏色。

當視窗具有輸入焦點和調用`RealizePalette`時,Windows 可確保視窗將顯示所有請求的顏色,最多顯示螢幕上同時可用的最大數量。 Windows 還會透過將顏色與可用顏色匹配來顯示視窗調色板中找不到的顏色。

此外,Windows 將調用函數的非活動視窗請求的顏色與可用顏色相匹配。 這大大減少了非活動視窗中顯示的顏色的不良更改。

## <a name="cdcrectangle"></a><a name="rectangle"></a>CDC:矩形

使用當前筆繪製矩形。

```
BOOL Rectangle(
    int x1,
    int y1,
    int x2,
    int y2);

BOOL Rectangle(LPCRECT lpRect);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定矩形左上角的 x 座標(以邏輯單位表示)。

*y1*<br/>
指定矩形左上角的 y 座標(以邏輯單位表示)。

*x2*<br/>
指定矩形右下角的 x 座標(以邏輯單位表示)。

*y2*<br/>
指定矩形右下角的 y 座標(以邏輯單位表示)。

*lpRect*<br/>
以邏輯單位指定矩形。 可以傳遞`CRect`物件或指標到此參數`RECT`的結構。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

矩形的內部使用當前畫筆填充。

矩形向上延伸,但不包括右座標和底部座標。 這意味著矩形的高度為*y2* - *y1,* 矩形的寬度為*x2* - *x1*。 矩形的寬度和高度必須大於 2 個單位,小於 32,767 個單位。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#39](../../mfc/codesnippet/cpp/cdc-class_11.cpp)]

## <a name="cdcrectvisible"></a><a name="rectvisible"></a>CDC::可分割

確定給定矩形的任何部分是否位於顯示上下文的剪切區域內。

```
virtual BOOL RectVisible(LPCRECT lpRect) const;
```

### <a name="parameters"></a>參數

*lpRect*<br/>
指向包含指定`RECT`矩形的邏輯座`CRect`標 的結構或物件。

### <a name="return-value"></a>傳回值

如果給定矩形的任何部分位於裁剪區域內,則非零;否則 0。

## <a name="cdcreleaseattribdc"></a><a name="releaseattribdc"></a>CDC::釋放AtribDC

呼叫此成員函數以設定為`m_hAttribDC`NULL。

```
virtual void ReleaseAttribDC();
```

### <a name="remarks"></a>備註

這不會`Detach`導致發生 。 只有輸出裝置上下文附加到物件,`CDC`並且只能將其分離。

## <a name="cdcreleaseoutputdc"></a><a name="releaseoutputdc"></a>CDC::釋放輸出DC

呼叫此成員函數將`m_hDC`成員設定為 NULL。

```
virtual void ReleaseOutputDC();
```

### <a name="remarks"></a>備註

當輸出裝置上下文附加到`CDC`物件時,無法調用此成員函數。 使用`Detach`成員函數分離輸出設備上下文。

## <a name="cdcresetdc"></a><a name="resetdc"></a>CDC::ResetDC

調用此成員函數以更新由`CDC`物件包裝的設備上下文。

```
BOOL ResetDC(const DEVMODE* lpDevMode);
```

### <a name="parameters"></a>參數

*lpDevMode*<br/>
指向 Windows`DEVMODE`結構的指標。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

設備上下文將從 Windows`DEVMODE`結構中指定的資訊更新。 此成員函數僅重置屬性設備上下文。

當視窗處理`WM_DEVMODECHANGE`訊息時`ResetDC`, 應用程式通常會使用成員函數。 您還可以使用此成員函數在列印文檔時更改紙張方向或紙盒。

不能使用此成員函數更改驅動程式名稱、設備名稱或輸出埠。 當使用者更改埠連接或設備名稱時,必須刪除原始設備上下文,並使用新資訊創建新的設備上下文。

在調用此成員函數之前,必須確保已選擇到設備上下文中的所有物件(庫存物件以外的物件)。

## <a name="cdcrestoredc"></a><a name="restoredc"></a>CDC::回復DC

將設備上下文還原到*nSavedDC*標識的上一個狀態。

```
virtual BOOL RestoreDC(int nSavedDC);
```

### <a name="parameters"></a>參數

*n 儲存DC*<br/>
指定要還原的裝置上下文。 它可以是上`SaveDC`一個函數調用返回的值。 如果*nSavedDC*為 -1,則還原最近保存的設備上下文。

### <a name="return-value"></a>傳回值

如果還原指定的上下文,則非零;否則 0。

### <a name="remarks"></a>備註

`RestoreDC`通過從以前對成員函數的調用創建的堆疊中彈出狀態資訊來`SaveDC`還原設備上下文。

堆疊可以包含多個設備上下文的狀態資訊。 如果*nSavedDC*指定的上下文不在堆疊的頂部`RestoreDC`,請刪除*nSavedDC*指定的設備上下文和堆疊頂部之間的所有狀態資訊。 已刪除的資訊將丟失。

## <a name="cdcroundrect"></a><a name="roundrect"></a>CDC::圓形Rect

使用當前筆繪製圓角的矩形。

```
BOOL RoundRect(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3);

BOOL RoundRect(
    LPCRECT lpRect,
    POINT point);
```

### <a name="parameters"></a>參數

*x1*<br/>
指定矩形左上角的 x 座標(以邏輯單位表示)。

*y1*<br/>
指定矩形左上角的 y 座標(以邏輯單位表示)。

*x2*<br/>
指定矩形右下角的 x 座標(以邏輯單位表示)。

*y2*<br/>
指定矩形右下角的 y 座標(以邏輯單位表示)。

*x3*<br/>
指定用於繪製圓角(以邏輯單位)的橢圓的寬度。

*y3*<br/>
指定用於繪製圓角(以邏輯單位)的橢圓的高度。

*lpRect*<br/>
指定邏輯單位中的邊界矩形。 可以傳遞`CRect`物件或指標到此參數`RECT`的結構。

*點*<br/>
*點的*x 座標指定橢圓的寬度以繪製圓角(以邏輯單位為單位)。 *點的*y 座標指定橢圓的高度以繪製圓角(以邏輯單位為單位)。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

矩形的內部使用當前畫筆填充。

此函數繪製的圖形可擴展到但不包括右座標和底部座標。 這意味著圖形的高度為*y2* - *y1,* 圖形的寬度為*x2* - *x1*。 邊界矩形的高度和寬度必須大於 2 個單位,小於 32,767 個單位。

### <a name="example"></a>範例

[!code-cpp[NVC_MFCDocView#40](../../mfc/codesnippet/cpp/cdc-class_12.cpp)]

## <a name="cdcsavedc"></a><a name="savedc"></a>CDC::儲存DC

通過將狀態資訊(如剪切區域、選定物件和映射模式)複製到 Windows 維護的上下文堆疊,從而保存設備上下文的當前狀態。

```
virtual int SaveDC();
```

### <a name="return-value"></a>傳回值

標識保存的設備上下文的整數。 如果發生錯誤,為 0。 此返回值可用於通過調用`RestoreDC`來還原設備上下文。

### <a name="remarks"></a>備註

以後可以使用 回復的裝置上下文`RestoreDC`。

`SaveDC`可以使用任意數量的時間保存任意數量的設備上下文狀態。

## <a name="cdcscaleviewportext"></a><a name="scaleviewportext"></a>CDC::規模視口Ext

修改相對於當前值的視口範圍。

```
virtual CSize ScaleViewportExt(
    int xNum,
    int xDenom,
    int yNum,
    int yDenom);
```

### <a name="parameters"></a>參數

*xNum*<br/>
指定乘以當前 x 範圍的數量。

*x德諾姆*<br/>
指定將當前 x 範圍乘以*xNum*參數的值的結果除以的量。

*yNum*<br/>
指定乘以當前 y 範圍的金額。

*伊德諾姆*<br/>
指定將當前 y 範圍乘以*yNum*參數的值的結果的量。

### <a name="return-value"></a>傳回值

以前的視口擴展區(以設備單位為單位)作為`CSize`物件。

### <a name="remarks"></a>備註

公式編寫如下:

`xNewVE = ( xOldVE * xNum ) / xDenom`

`yNewVE = ( yOldVE * yNum ) / yDenom`

新的視口範圍的計算方法是將當前範圍乘以給定的分子,然後除以給定分母。

## <a name="cdcscalewindowext"></a><a name="scalewindowext"></a>CDC::縮放視窗Ext

修改相對於當前值的視窗範圍。

```
virtual CSize ScaleWindowExt(
    int xNum,
    int xDenom,
    int yNum,
    int yDenom);
```

### <a name="parameters"></a>參數

*xNum*<br/>
指定乘以當前 x 範圍的數量。

*x德諾姆*<br/>
指定將當前 x 範圍乘以*xNum*參數的值的結果除以的量。

*yNum*<br/>
指定乘以當前 y 範圍的金額。

*伊德諾姆*<br/>
指定將當前 y 範圍乘以*yNum*參數的值的結果的量。

### <a name="return-value"></a>傳回值

前面的視窗範圍(以邏輯單位為單位)作為`CSize`物件。

### <a name="remarks"></a>備註

公式編寫如下:

`xNewWE = ( xOldWE * xNum ) / xDenom`

`yNewWE = ( yOldWE * yNum ) / yDenom`

新的視窗範圍的計算方法是將當前範圍乘以給定的分子,然後除以給定分母。

## <a name="cdcscrolldc"></a><a name="scrolldc"></a>CDC::ScrollDC

水平和垂直滾動位矩形。

```
BOOL ScrollDC(
    int dx,
    int dy,
    LPCRECT lpRectScroll,
    LPCRECT lpRectClip,
    CRgn* pRgnUpdate,
    LPRECT lpRectUpdate);
```

### <a name="parameters"></a>參數

*Dx*<br/>
指定水平滾動單位的數量。

*Dy*<br/>
指定垂直滾動單位的數量。

*lpRectScroll*<br/>
指向包含滾動`RECT`矩形座`CRect`標 的結構或物件。

*lprectClip*<br/>
指向包含裁剪`RECT`矩形座`CRect`標 的結構或物件。 當此矩形小於*lpRectScroll*指向的原始矩形時,滾動僅在較小的矩形中發生。

*pRgn 更新*<br/>
標識滾動過程發現的區域。 函數`ScrollDC`定義此區域;因此,函數定義此區域。它不一定是一個矩形。

*lprect 更新*<br/>
指向接收綁定`RECT`滾動`CRect`更新 區域的矩形座標的結構或物件。 這是需要重新繪製的最大矩形區域。 函數返回時結構或物件中的值位於客戶端座標中,而不考慮給定設備上下文的映射模式。

### <a name="return-value"></a>傳回值

如果執行滾動,則非零;否則 0。

### <a name="remarks"></a>備註

如果*lpRect 更新*為 NULL,則 Windows 不會計算更新矩形。 如果*pRgnUpdate*和*lpRect 更新*均為 NULL,則 Windows 不會計算更新區域。 如果*pRgnUpdate*不是 NULL,Windows 假定它包含指向滾`ScrollDC`動過程(由成員函數定義)覆蓋的區域的有效指標。 `CWnd::InvalidateRgn`如果需要,可以在*lpRectUpdate*中傳回的更新區域傳遞給。

當需要滾動視窗的整個`ScrollWindow`工作區時,`CWnd`應用程式應使用類的成員函數。 否則,它應該使用`ScrollDC`。

## <a name="cdcselectclippath"></a><a name="selectclippath"></a>CDC::選擇剪輯路徑

選擇當前路徑作為設備上下文的剪切區域,使用指定的模式將新區域與任何現有剪切區域合併。

```
BOOL SelectClipPath(int nMode);
```

### <a name="parameters"></a>參數

*nMode*<br/>
指定使用路徑的方法。 允許以下值:

- RGN_AND 新的裁剪區域包括當前剪切區域和當前路徑的交點(重疊區域)。

- RGN_COPY 新的裁剪區域是當前路徑。

- RGN_DIFF新剪切區域包括當前剪切區域的區域,並且排除當前路徑的區域。

- RGN_OR 新裁剪區域包括當前剪切區域和當前路徑的聯合(組合區域)。

- RGN_XOR 新的裁剪區域包括當前剪切區域和當前路徑的合併,但沒有重疊區域。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

標識的設備上下文必須包含閉合路徑。

## <a name="cdcselectcliprgn"></a><a name="selectcliprgn"></a>CDC::選擇ClipRgn

選擇給定區域作為設備上下文的當前剪切區域。

```
int SelectClipRgn(CRgn* pRgn);

int SelectClipRgn(
    CRgn* pRgn,
    int nMode);
```

### <a name="parameters"></a>參數

*pRgn*<br/>
標識要選擇的區域。

- 對於此函數的第一個版本,如果此值為 NULL,則選擇整個工作區,並且輸出仍被剪切到視窗。

- 對於此函數的第二個版本,僅當指定RGN_COPY模式時,此句柄才能為 NULL。

*nMode*<br/>
指定要執行的作業。 它必須是以下值之一:

- RGN_AND 新的裁剪區域結合了當前裁剪區域的重疊區域和*pRgn*標識的區域。

- RGN_COPY 新的裁剪區域是*pRgn*標識的區域的副本。 這是功能與 第一個版本`SelectClipRgn`相同 。 如果*pRgn*標識的區域為 NULL,則新的剪切區域將成為預設剪切區域(空區域)。

- RGN_DIFF 新的裁剪區域將當前裁剪區域的區域與*pRgn*標識的區域中排除的區域合併。

- RGN_OR 新的裁剪區域結合了當前裁剪區域和*pRgn*標識的區域。

- RGN_XOR 新裁剪區域合併當前剪切區域和*pRgn*標識的區域,但不包括任何重疊區域。

### <a name="return-value"></a>傳回值

區域的類型。 可以是下列其中任何一個值：

- 複雜區域 新裁剪區域具有重疊邊框。

- 錯誤裝置上下文或區域無效。

- NULL 區域 新剪切區域為空。

- SIMPLE區域 新剪切區域沒有重疊邊框。

### <a name="remarks"></a>備註

僅使用所選區域的副本。 區域本身可以為任意數量的其他設備上下文選擇,也可以將其刪除。

該函數假定給定區域的座標以設備單位指定。 某些印表機裝置支援文本輸出,其解析度高於圖形輸出,以保持表達文本指標所需的精度。 這些設備以更高的解析度(即文本單位)報告設備單位。 然後,這些設備縮放圖形座標,以便多個報告的設備單元映射到只有 1 個圖形單元。 應始終使用文本單位調用`SelectClipRgn`函數。

必須在 GDI 中縮放圖形物件的應用程式可以使用 GETSCALINGFACTOR 印表機轉義來確定縮放因數。 此縮放因數會影響剪切。 如果區域用於剪輯圖形,GDI會按縮放因數劃分座標。 如果區域用於剪輯文本,GDI 不進行縮放調整。 縮放因數 1 會導致座標除以 2;縮放因數 2 導致座標除以 4;等等。

## <a name="cdcselectobject"></a><a name="selectobject"></a>CDC::選擇物件

在設備上下文中選擇物件。

```
CPen* SelectObject(CPen* pPen);
CBrush* SelectObject(CBrush* pBrush);
virtual CFont* SelectObject(CFont* pFont);
CBitmap* SelectObject(CBitmap* pBitmap);
int SelectObject(CRgn* pRgn);
CGdiObject* SelectObject(CGdiObject* pObject);
```

### <a name="parameters"></a>參數

*pPen*<br/>
指向要選擇的[CPen](../../mfc/reference/cpen-class.md)物件的指標。

*pBrush*<br/>
指向要選擇的[CBrush](../../mfc/reference/cbrush-class.md)物件的指標。

*pFont*<br/>
指向要選擇的[CFont](../../mfc/reference/cfont-class.md)物件的指標。

*pBitmap*<br/>
指向要選擇的[CBitmap](../../mfc/reference/cbitmap-class.md)物件的指標。

*pRgn*<br/>
指向要選擇的[CRgn](../../mfc/reference/crgn-class.md)物件的指標。

*pObject*<br/>
指向要選擇的[CGdiObject 物件的](../../mfc/reference/cgdiobject-class.md)指標。

### <a name="return-value"></a>傳回值

指向要替換的物件的指標。 這是指向派生自`CGdiObject`的 類之一的物件`CPen`(如 )的指標,具體取決於所使用的函數的版本。 如果出現錯誤,傳回值為 NULL。 此函數可以返回指向臨時物件的指標。 此臨時物件僅在處理一個 Windows 消息期間有效。 如需詳細資訊，請參閱 `CGdiObject::FromHandle`。

採用區域參數的成員函數的版本執行與`SelectClipRgn`成員函數相同的任務。 其返回值可以是以下任一值:

- 複雜區域 新裁剪區域具有重疊邊框。

- 錯誤裝置上下文或區域無效。

- NULL 區域 新剪切區域為空。

- SIMPLE區域 新剪切區域沒有重疊邊框。

### <a name="remarks"></a>備註

類`CDC`提供專門用於特定類型 GDI 物件的五個版本,包括筆、畫筆、字體、位圖和區域。 新選擇的物件將替換同一類型的上一個物件。 例如,如果`SelectObject`指向[CPen](../../mfc/reference/cpen-class.md)物件的一般版本的*pObject,* 則函數將當前筆替換為*pObject*指定的筆。

應用程式只能選擇位圖到記憶體裝置上下文中,並且一次只能選擇一個記憶體設備上下文。 位圖的格式必須是單色的,或者與設備上下文相容;如果不是,`SelectObject`則傳回錯誤。

對於 Windows 3.1 及`SelectObject`更高版本,無論函數是否用於元檔,該函數都返回相同的值。 在以前的 Windows`SelectObject`版本中 ,返回一個非零值作為成功值,在元檔中使用失敗返回 0。

## <a name="cdcselectpalette"></a><a name="selectpalette"></a>CDC::選擇調色盤

選擇*pPalette*指定的邏輯調色板作為設備上下文的選定調色板物件。

```
CPalette* SelectPalette(
    CPalette* pPalette,
    BOOL bForceBackground);
```

### <a name="parameters"></a>參數

*pPalette*<br/>
標識要選擇的邏輯調色板。 此調色板必須已經使用`CPalette`成員函數[CreatePalette](../../mfc/reference/cpalette-class.md#createpalette)創建。

*bForce背景*<br/>
指定邏輯調色板是否被迫為背景調色板。 如果*bForce 背景*是非零,則所選調色板始終是背景調色板,而不考慮視窗是否具有輸入焦點。 如果*bForce 背景*為 0,並且設備上下文附加到視窗,則當視窗具有輸入焦點時,邏輯調色板是前景調色板。

### <a name="return-value"></a>傳回值

指向物件,`CPalette`標識由*pPalette*指定的調色板替換的邏輯調色板。 如果出現錯誤,則為 NULL。

### <a name="remarks"></a>備註

新調色板將成為 GDI 用於控制裝置上下文中顯示的顏色並替換上一個調色板的調色板物件。

應用程式可以選擇邏輯調色板到多個設備上下文中。 但是,對邏輯調色板的更改將影響為其選擇的邏輯上下文。 如果應用程式在多個設備上下文中選擇調色板,則設備上下文必須都屬於同一物理設備。

## <a name="cdcselectstockobject"></a><a name="selectstockobject"></a>CDC::選擇股票物件

選擇對應於預先定義的庫存筆、筆刷或字型之一的[CGdiObject 物件](../../mfc/reference/cgdiobject-class.md)。

```
virtual CGdiObject* SelectStockObject(int nIndex);
```

### <a name="parameters"></a>參數

*nIndex*<br/>
指定所需的庫存物件類型。 它可能是下列其中一個值：

- BLACK_BRUSH黑色刷子。

- DKGRAY_BRUSH深灰色畫筆。

- GRAY_BRUSH灰色畫筆。

- HOLLOW_BRUSH空心刷。

- LTGRAY_BRUSH淺灰色畫筆。

- NULL_BRUSH空畫筆。

- WHITE_BRUSH白刷。

- BLACK_PEN黑筆

- NULL_PEN空筆。

- WHITE_PEN白筆。

- ANSI_FIXED_FONT ANSI 固定系統字體。

- ANSI_VAR_FONT ANSI 可變系統字體。

- DEVICE_DEFAULT_FONT與設備相關的字體。

- OEM_FIXED_FONT OEM 相關的固定字體。

- SYSTEM_FONT 系統字體。 默認情況下,Windows 使用系統字體繪製功能表、對話框控制件和其他文本。 但是,最好不要依賴SYSTEM_FONT來獲取對話框和視窗使用的字體。 而是使用SPI_GETNONCLIENTMETRICS`SystemParametersInfo`參數的 函數來檢索當前字體。 `SystemParametersInfo`考慮當前主題,並提供標題、功能表和消息對話框的字體資訊。

- SYSTEM_FIXED_FONT版本 3.0 之前 Windows 中使用的固定寬度系統字體。 此物件可用於與早期版本的 Windows 相容。

- DEFAULT_PALETTE預設調色板。 此調色板由系統調色板中的 20 種靜態顏色組成。

### <a name="return-value"></a>傳回值

如果函數成功,`CGdiObject`則指向被替換的物件的指標。 指向的實際物件是[CPen、CBrush](../../mfc/reference/cpen-class.md)或[CFont](../../mfc/reference/cfont-class.md)物件。 [CBrush](../../mfc/reference/cbrush-class.md) 如果呼叫不成功,則傳回值為 NULL。

## <a name="cdcsetabortproc"></a><a name="setabortproc"></a>CDC::SetAbortProc

安裝列印作業的中止過程。

```
int SetAbortProc(BOOL (CALLBACK* lpfn)(HDC, int));
```

### <a name="parameters"></a>參數

*利夫芬*<br/>
指向中止函數的指標,用於作為中止過程安裝。 有關回檔函數,請參閱[CDC 的回檔函數::SetAbortProc](callback-functions-used-by-mfc.md#setabortproc)。

### <a name="return-value"></a>傳回值

指定函數的結果`SetAbortProc`。 以下某些值比其他值更可能,但所有值都是可能的。

- SP_ERROR一般錯誤。

- SP_OUTOFDISK當前沒有足夠的磁碟空間可用於後台列印,並且不再有可用空間。

- SP_OUTOFMEMORY沒有足夠的記憶體可用於後台。

- SP_USERABORT用戶通過列印管理器結束了作業。

### <a name="remarks"></a>備註

如果應用程式要允許在後台列印作業期間取消,則必須在使用[StartDoc](#startdoc)成員函數啟動列印作業之前設置中止函數。 列印管理員在後台列印期間呼叫中止功能,以允許應用程式取消列印作業或處理磁碟外空間條件。 如果未設置中止功能,則如果沒有足夠的磁碟空間進行後台列印,列印作業將失敗。

請注意,Microsoft VisualC++功能簡化了傳遞給`SetAbortProc`的回調函數的創建。 傳遞給`EnumObjects`成員函數的位址是指向隨`__declspec(dllexport)`調用約定導出的函數`__stdcall`的指標。

您也不必在應用程式的模組定義檔中的**EXPORTS**語句中匯出函數名稱。 您可以改為使用**EXPORT**函數修改器,如

**BOOL 回檔匯出**功能 **(HDC),);** `int` **);**

使編譯器發出正確的匯出記錄,以便按名稱匯出,而無需別名。 這適用於大多數需求。 對於某些特殊情況,例如通過單位匯出或別名匯出函數,您仍然需要在模組定義檔中使用**EXPORT**語句。

回檔註冊介面現在屬於類型安全(您必須傳遞一個函數指標,該函數指標指向特定回調的正確類型的函數)。

另請注意,所有回調函數在返回到 Windows 之前都必須捕獲 Microsoft Foundation 異常,因為異常不能跨回調邊界引發。 有關異常的詳細資訊,請參閱文章["例外](../../mfc/exception-handling-in-mfc.md)"。

## <a name="cdcsetarcdirection"></a><a name="setarcdirection"></a>CDC::SetArc方向

設置用於圓弧和矩形函數的繪圖方向。

```
int SetArcDirection(int nArcDirection);
```

### <a name="parameters"></a>參數

*NArc 方向*<br/>
指定新的弧方向。 這裡可以是以下值之一:

- AD_COUNTERCLOCKWISE逆時針繪製的數位。

- AD_CLOCKWISE順時針繪製的數位。

### <a name="return-value"></a>傳回值

指定舊弧方向(如果成功);否則 0。

### <a name="remarks"></a>備註

默認方向是逆時針方向。 此`SetArcDirection`函數指定以下函數繪製的方向:

|Arc|圓形圖|
|---------|---------|
|`ArcTo`|`Rectangle`|
|`Chord`|`RoundRect`|
|`Ellipse`||

## <a name="cdcsetattribdc"></a><a name="setattribdc"></a>疾控中心::塞特特裡布

呼叫此函數以設定屬性裝置上下文`m_hAttribDC`。

```
virtual void SetAttribDC(HDC hDC);
```

### <a name="parameters"></a>參數

*hDC*<br/>
Windows 設備上下文。

### <a name="remarks"></a>備註

此成員函數不將設備上下文附加到`CDC`物件。 只有輸出設備上下文附加到`CDC`物件。

## <a name="cdcsetbkcolor"></a><a name="setbkcolor"></a>CDC::SetBkColor

將目前背景顏色設定為指定顏色。

```
virtual COLORREF SetBkColor(COLORREF crColor);
```

### <a name="parameters"></a>參數

*crColor*<br/>
指定新的背景顏色。

### <a name="return-value"></a>傳回值

以前的背景顏色作為 RGB 顏色值。 如果發生錯誤,返回值為 0x8000000。

### <a name="remarks"></a>備註

如果背景模式為 OPAQUE,則系統使用背景顏色來填充樣式線中的間隙、畫筆中陰影線和字元單元格中的背景之間的間隙。 在顏色和單色設備上下文之間轉換位圖時,系統還使用背景顏色。

如果裝置無法顯示指定的顏色,系統將背景顏色設置為最接近的物理顏色。

## <a name="cdcsetbkmode"></a><a name="setbkmode"></a>CDC::SetBkMode

設置背景模式。

```
int SetBkMode(int nBkMode);
```

### <a name="parameters"></a>參數

*nBkMode*<br/>
指定要設置的模式。 這裡可以是以下值之一:

- 在繪製文本、陰影畫筆或筆之前,OPAQUE 背景用當前背景顏色填充。 這是預設後台模式。

- 在繪製之前,不會更改"透明背景"。

### <a name="return-value"></a>傳回值

以前的後台模式。

### <a name="remarks"></a>備註

背景模式定義在繪製文本、陰影畫筆或不是實線的任何筆樣式之前,系統是否刪除繪圖圖面上的現有背景顏色。

### <a name="example"></a>範例

  請參考[CWnd 的範例:OnCtlColor](../../mfc/reference/cwnd-class.md#onctlcolor)。

## <a name="cdcsetboundsrect"></a><a name="setboundsrect"></a>CDC::SetBundsRect

控制指定設備上下文的邊界矩形信息的累積。

```
UINT SetBoundsRect(
    LPCRECT lpRectBounds,
    UINT flags);
```

### <a name="parameters"></a>參數

*lpRectBounds*<br/>
指向用於設置`RECT`邊界矩`CRect`形的結構或物件。 矩形尺寸以邏輯座標給出。 此參數可以是 NULL。

*flags*<br/>
指定新矩形與累積矩形的組合方式。 這裡可以是以下值的組合:

- DCB_ACCUMULATE 將*lpRectBounds*指定的矩形添加到邊界矩形(使用矩形聯合操作)。

- DCB_DISABLE 關閉邊界累積。

- DCB_ENABLE 打開邊界累積。 (禁用邊界累積的預設設置。

### <a name="return-value"></a>傳回值

如果函數成功,則邊界矩形的當前狀態。 與*標誌*一樣,傳回值可以是**DCB_** 值的組合:

- DCB_ACCUMULATE 邊界矩形不為空。 此值將始終被設置。

- DCB_DISABLE邊界累積已關閉。

- DCB_ENABLE邊界累積打開。

### <a name="remarks"></a>備註

Windows 可以維護所有繪圖操作的邊界矩形。 此矩形可以由應用程式查詢和重置。 繪圖邊界可用於使位圖緩存無效。

## <a name="cdcsetbrushorg"></a><a name="setbrushorg"></a>CDC::SetBrushOrg

指定 GDI 將分配給應用程式在設備上下文中選擇的下一個畫筆的原點。

```
CPoint SetBrushOrg(
    int x,
    int y);

CPoint SetBrushOrg(POINT point);
```

### <a name="parameters"></a>參數

*x*<br/>
指定新原點的 x 座標(以設備單位為單位)。 此值必須位於 0-7 範圍內。

*Y*<br/>
指定新原點的 y 座標(以設備單位為單位)。 此值必須位於 0-7 範圍內。

*點*<br/>
指定新原點的 x 座標和 y 座標。 每個值必須位於 0-7 範圍內。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

以設備單位表示畫筆的上一個原點。

### <a name="remarks"></a>備註

畫筆原點的預設座標為 (0, 0)。 要更改畫筆的原點`UnrealizeObject`,請呼`CBrush`叫 物件的函數,`SetBrushOrg`調用 ,`SelectObject`然後調用 成員函數以選擇畫筆到設備上下文中。

請勿與庫存`SetBrushOrg``CBrush`物件一起使用。

## <a name="cdcsetcoloradjustment"></a><a name="setcoloradjustment"></a>CDC::設定顏色調整

使用指定值設置設備上下文的顏色調整值。

```
BOOL SetColorAdjustment(const COLORADJUSTMENT* lpColorAdjust);
```

### <a name="parameters"></a>參數

*lpColorAdjust*<br/>
包含顏色[調整](/windows/win32/api/wingdi/ns-wingdi-coloradjustment)值的顏色調整資料結構。

### <a name="return-value"></a>傳回值

如果成功則為非零；否則為 0。

### <a name="remarks"></a>備註

顏色調整值用於在設置 HALFTONE 模式時`CDC::StretchBlt`調整對 成員函數調用的來源位圖的輸入顏色。

## <a name="cdcsetdcbrushcolor"></a><a name="setdcbrushcolor"></a>CDC::SetDCBrush顏色

將目前的裝置上下文 (DC) 筆刷的顏色設定為指定的顏色值。

```
COLORREF SetDCBrushColor(COLORREF crColor);
```

### <a name="parameters"></a>參數

*crColor*<br/>
指定新的畫筆顏色。

### <a name="return-value"></a>傳回值

如果函數成功,返回值將以前的 DC 畫筆顏色指定為 COLORREF 值。

如果函式失敗，則傳回值是 CLR_INVALID。

### <a name="remarks"></a>備註

此方法類比函數[SetDCBrushColor](/windows/win32/api/wingdi/nf-wingdi-setdcbrushcolor)的功能,如 Windows SDK 中所述。

## <a name="cdcsetdcpencolor"></a><a name="setdcpencolor"></a>CDC::SetDCPenColor

將目前的裝置上下文 (DC) 筆顏色設定為指定的顏色值。

```
COLORREF SetDCPenColor(COLORREF crColor);
```

### <a name="parameters"></a>參數

*crColor*<br/>
指定新的筆顏色。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

此成員函數使用 Win32 函數[SetDCPenColor,](/windows/win32/api/wingdi/nf-wingdi-setdcpencolor)如 Windows SDK 中所述。

## <a name="cdcsetgraphicsmode"></a><a name="setgraphicsmode"></a>CDC::設定圖形模式

設置指定設備上下文的圖形模式。

```
int SetGraphicsMode(int iMode);
```

### <a name="parameters"></a>參數

*iMode*<br/>
指定圖形模式。 有關此參數可以取得的值的清單,請參閱[SetGraphicsMode](/windows/win32/api/wingdi/nf-wingdi-setgraphicsmode)。

### <a name="return-value"></a>傳回值

成功時返回舊的圖形模式。

失敗後返回 0。 要取得延伸的錯誤資訊,請致電[GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror)。

### <a name="remarks"></a>備註

此方法包裝 Windows GDI 函數[SetGraphicsMode](/windows/win32/api/wingdi/nf-wingdi-setgraphicsmode)。

## <a name="cdcsetlayout"></a><a name="setlayout"></a>CDC::設定佈局

調用此成員函數將設備上下文的文本和圖形佈局從右向左更改為左側,這是阿拉伯文和希伯來語等區域性的標準佈局。

```
DWORD SetLayout(DWORD dwLayout);
```

### <a name="parameters"></a>參數

*德佈局*<br/>
設備上下文佈局和位圖控制標誌。 它可以是以下值的組合。

|值|意義|
|-----------|-------------|
|LAYOUT_BITMAPORIENTATIONPRESERVED|關閉對 CDC 呼叫的任何反射[::BitBlt](#bitblt)和[CDC::拉伸 Blt](#stretchblt)。|
|LAYOUT_RTL|將預設水平佈局設置為從右到左。|
|LAYOUT_LTR|將默認佈局設置為從左至右。|

### <a name="return-value"></a>傳回值

如果成功,則設備上下文的上一個佈局。

如果不成功,GDI_ERROR。 要取得延伸的錯誤資訊,請致電[GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror)。

### <a name="remarks"></a>備註

通常,您不會調用`SetLayout`視窗。 相反,您可以通過設定[擴展視窗樣式](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles)(如WS_EX_RTLREADING)來控制視窗中的從右到左佈局。 設備上下文(如印表機或元檔)不繼承此佈局。 為右到左佈局設定裝置上下文的唯一方法是呼叫`SetLayout`。

如果調用**SetLayout(LAYOUT_RTL** `SetLayout` ),則會自動將映射模式更改為MM_ISOTROPIC。 因此,後續對[GetMapMode](#getmapmode)的調用將返回MM_ISOTROPIC而不是MM_TEXT。

在某些情況下,例如使用許多位圖,您可能希望保留從左到右的佈局。 在這些情況下,通過調用`BitBlt``StretchBlt`或渲染圖像,然後將*dwLayout*的位圖控制標誌設置為LAYOUT_BITMAPORIENTATIONPRESERVED。

使用LAYOUT_RTL標誌更改佈局後,通常指定右或左的標誌將反轉。 為了避免混淆,您可能需要為標準標誌定義備用名稱。 有關建議的備用標誌名稱的清單,請參閱 Windows SDK 中的[「設定佈局](/windows/win32/api/wingdi/nf-wingdi-setlayout)」 。。

## <a name="cdcsetmapmode"></a><a name="setmapmode"></a>CDC::設定地圖模式

設置映射模式。

```
virtual int SetMapMode(int nMapMode);
```

### <a name="parameters"></a>參數

*nMapMode*<br/>
指定新的映射模式。 它可以是以下任一值:

- MM_ANISOTROPIC邏輯單位轉換為具有任意縮放軸的任意單位。 將映射模式設置為MM_ANISOTROPIC不會更改當前視窗或視口設置。 要更改單位、方向和縮放,請致電[SetWindowExt](#setwindowext)和[SetViewportExt](#setviewportext)成員函數。

- MM_HIENGLISH 每個邏輯單元轉換為 0.001 英寸。 正 x 位於右側;正 y 是向上。

- MM_HIMETRIC每個邏輯單位轉換為 0.01 毫米。 正 x 位於右側;正 y 是向上。

- MM_ISOTROPIC邏輯單位轉換為具有同樣縮放軸的任意單位;即,沿 x 軸的 1 個單位等於沿 y 軸的 1 個單位。 使用`SetWindowExt`和`SetViewportExt`成員函數指定所需的單位和軸的方向。 GDI 根據需要進行調整,以確保 x 和 y 單位保持相同的大小。

- MM_LOENGLISH每個邏輯單元轉換為 0.01 英寸。 正 x 位於右側;正 y 是向上。

- MM_LOMETRIC每個邏輯單位轉換為 0.1 毫米。 正 x 位於右側;正 y 是向上。

- MM_TEXT每個邏輯單元轉換為 1 個設備圖元。 正 x 位於右側;正 y 是向下。

- MM_TWIPS每個邏輯單元轉換為點的 1/20。 (因為點是 1/72 英寸,因此 twip 是 1/1440 英寸。正 x 位於右側;正 y 是向上。

### <a name="return-value"></a>傳回值

以前的映射模式。

### <a name="remarks"></a>備註

映射模式定義用於將邏輯單位轉換為設備單位的度量單位;它還定義設備的 x 軸和 y 軸的方向。 GDI 使用對應模式將邏輯座標轉換為相應的設備座標。 MM_TEXT模式允許應用程式在設備圖元中工作,其中 1 個單位等於 1 圖元。 像素的物理大小因設備而異。

MM_HIENGLISH、MM_HIMETRIC、MM_LOENGLISH、MM_LOMETRIC和MM_TWIPS模式對於必須以物理有意義的單位(如英寸或毫米)繪製的應用程式很有用。 MM_ISOTROPIC模式可確保 1:1 縱橫比,這在保持圖像的確切形狀很重要時非常有用。 MM_ANISOTROPIC模式允許獨立調整 x 座標和 y 座標。

> [!NOTE]
> 如果調用[SetLayout](#setlayout)將 DC(設備上下文)更改為從右到左`SetLayout`佈局,則自動將映射模式更改為MM_ISOTROPIC。

### <a name="example"></a>範例

  請參閱[CView 的示例::在準備DC](../../mfc/reference/cview-class.md#onpreparedc)上。

## <a name="cdcsetmapperflags"></a><a name="setmapperflags"></a>CDC::設定映射標記

將邏輯字體轉換為物理字體時,將字體映射器使用的方法更改為方法。

```
DWORD SetMapperFlags(DWORD dwFlag);
```

### <a name="parameters"></a>參數

*dwFlag*<br/>
指定字型對應器是否嘗試將字型的縱橫高度和寬度與設備匹配。 當此值ASPECT_FILTERING時,映射器僅選擇其 x 方面和 y 方面與指定設備完全匹配的字體。

### <a name="return-value"></a>傳回值

字體對應器標誌的上一個值。

### <a name="remarks"></a>備註

應用程式可用於`SetMapperFlags`使字體映射器嘗試僅選擇與指定設備的縱橫比完全匹配的物理字型。

僅使用柵格字體的應用程式可以使用函數`SetMapperFlags`來確保字體映射器選擇的字體在指定的設備上具有吸引力且可讀。 使用可縮放 (TrueType) 字型的應用程式通常`SetMapperFlags`不使用 。

如果沒有物理字體的縱橫比與邏輯字體中的規範匹配,GDI 會選擇新的縱橫比並選擇與此新縱橫比匹配的字體。

## <a name="cdcsetmiterlimit"></a><a name="setmiterlimit"></a>CDC::設定Miter限制

設置設備上下文的斜接聯接長度限制。

```
BOOL SetMiterLimit(float fMiterLimit);
```

### <a name="parameters"></a>參數

*fMiter Limit*<br/>
指定設備上下文的新斜接限制。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

斜接長度定義為從連接內部線壁的交點到連接外部線壁的交點的距離。 斜接限制是斜接長度與線寬的最大允許比率。 默認斜接限制為 10.0。

## <a name="cdcsetoutputdc"></a><a name="setoutputdc"></a>CDC::設定輸出DC

呼叫此成員函數以設定輸出裝置上下文`m_hDC`。

```
virtual void SetOutputDC(HDC hDC);
```

### <a name="parameters"></a>參數

*hDC*<br/>
Windows 設備上下文。

### <a name="remarks"></a>備註

僅當設備上下文尚未附加到`CDC`物件時,才能調用此成員函數。 此成員函數集`m_hDC`但不將設備上下文附加`CDC`到 物件。

## <a name="cdcsetpixel"></a><a name="setpixel"></a>CDC::設定像素

將像素設置在指定的點,以*最接近 crColor*指定的顏色近似。

```
COLORREF SetPixel(
    int x,
    int y,
    COLORREF crColor);

COLORREF SetPixel(
    POINT point,
    COLORREF crColor);
```

### <a name="parameters"></a>參數

*x*<br/>
指定要設定的點的邏輯 x 座標。

*Y*<br/>
指定要設置的點的邏輯 y 座標。

*crColor*<br/>
指定用於繪製點的顏色的 COLORREF RGB 值。 有關此值的說明,請參閱 Windows SDK 中的[COLORREF。](/windows/win32/gdi/colorref)

*點*<br/>
指定要設定的點的邏輯 x 座標。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

點實際繪製的顏色的 RGB 值。 如果使用該顏色的近似值,則此值可能不同於*crColor*指定的值。 如果函數失敗(如果點位於剪切區域之外),則返回值為 -1。

### <a name="remarks"></a>備註

該點必須位於剪切區域中。 如果點不在剪切區域中,則函數不執行任何操作。

並非所有的裝置皆支援 `SetPixel` 函式。 要確定裝置是否支援`SetPixel`,請`GetDeviceCaps`使用 RASTERCAPS 索引呼叫成員函數,並檢查RC_BITBLT標誌的返回值。

## <a name="cdcsetpixelv"></a><a name="setpixelv"></a>CDC::SetPixelV

將指定座標處的圖元設置為指定顏色的最接近近似值。

```
BOOL SetPixelV(
    int x,
    int y,
    COLORREF crColor);

BOOL SetPixelV(
    POINT point,
    COLORREF crColor);
```

### <a name="parameters"></a>參數

*x*<br/>
指定要設置的點的 x 座標(以邏輯單位表示)。

*Y*<br/>
指定要設置的點的 y 座標(以邏輯單位表示)。

*crColor*<br/>
指定用於繪製點的顏色。

*點*<br/>
指定要設定的點的邏輯 x 座標。 您可以為此參數傳遞[POINT](/windows/win32/api/windef/ns-windef-point)資料結構或[CPoint](../../atl-mfc-shared/reference/cpoint-class.md)物件。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

該點必須位於剪切區域和設備表面的可見部分中。 並非所有設備都支持成員功能。 有關詳細資訊,請參閱成員函數中的`CDC::GetDeviceCaps`RC_BITBLT功能。 `SetPixelV`比`SetPixel`它不需要返回實際繪製的點的顏色值更快。

## <a name="cdcsetpolyfillmode"></a><a name="setpolyfillmode"></a>CDC::設定Poly填充模式

設置多邊形填充模式。

```
int SetPolyFillMode(int nPolyFillMode);
```

### <a name="parameters"></a>參數

*nPolyFill模式下*<br/>
指定新的填充模式。 此值可以是 ALTERNATE 或 WINDING。 Windows 中的預設模式設置為 ALTERNATE。

### <a name="return-value"></a>傳回值

以前的填充模式(如果成功);否則 0。

### <a name="remarks"></a>備註

當多邊形填充模式為 ALTERNATE 時,系統將填充每個掃描行上的奇數和偶數多邊形邊之間的區域。 也就是說,系統填充第一和第二側之間的區域,在第三和第四側之間,等等。 這是預設模式。

當多邊形填充模式為 WINDING 時,系統使用繪製圖形的方向來確定是否填充區域。 多邊形中的每個線段都以順時針或逆時針方向繪製。 每當從封閉區域繪製到圖形外部的虛線經過順時針線段時,計數就會遞增。 當線通過逆時針線段時,計數將遞減。 如果計數在行到達圖形外部時計數為非零,則填充該區域。

## <a name="cdcsetrop2"></a><a name="setrop2"></a>CDC::SetROP2

設置當前繪圖模式。

```
int SetROP2(int nDrawMode);
```

### <a name="parameters"></a>參數

*nDrawMode*<br/>
指定新的繪圖模式。 可以是下列其中任何一個值：

- R2_BLACK 像素始終為黑色。

- R2_WHITE 像素始終為白色。

- R2_NOP圖元保持不變。

- R2_NOT圖元是螢幕顏色的反面。

- R2_COPYPEN圖元是筆的顏色。

- R2_NOTCOPYPEN圖元是筆顏色的反面。

- R2_MERGEPENNOT圖元是筆顏色和螢幕顏色的反向(最終圖元 = (螢幕圖元) 或筆)的組合。

- R2_MASKPENNOT圖元是筆和螢幕的反向(最終圖元 = (螢幕圖元) 和筆)共有的顏色的組合。

- R2_MERGENOTPEN圖元是螢幕顏色和筆顏色的反向(最終圖元 = (不是筆) 或螢幕圖元的組合。

- R2_MASKNOTPEN圖元是螢幕和筆的反向(最終圖元 = (NOT 筆)和螢幕圖元)共有顏色的組合。

- R2_MERGEPEN圖元是筆顏色和螢幕顏色(最終圖元 + 筆或螢幕圖元)的組合。

- R2_NOTMERGEPEN圖元是R2_MERGEPEN顏色的反面(最終圖元 = NOT(筆或螢幕圖元)。

- R2_MASKPEN圖元是筆和螢幕共有顏色的組合(最終圖元 = 筆和螢幕圖元)。

- R2_NOTMASKPEN圖元是R2_MASKPEN顏色的反面(最終圖元 = NOT(筆和螢幕圖元)。

- R2_XORPEN圖元是筆中或螢幕中的顏色的組合,但不是兩者(最終圖元 = 筆 XOR 螢幕圖元)。

- R2_NOTXORPEN圖元是R2_XORPEN顏色的反面(最終圖元 = NOT(筆 XOR 螢幕圖元)。

### <a name="return-value"></a>傳回值

上一個繪圖模式。

它可以是 Windows SDK 中給出的任何值。

### <a name="remarks"></a>備註

繪圖模式指定筆的顏色和填充物件的內部如何與顯示表面上已有的顏色組合。

繪圖模式僅適用於柵格設備;它不適用於向量設備。 繪圖模式是二進位元碼操作代碼,表示兩個變數的所有可能的布林組合,使用二進位運算元 AND、OR 和 XOR(獨佔 OR)和一元操作 NOT。

## <a name="cdcsetstretchbltmode"></a><a name="setstretchbltmode"></a>CDC::設定拉伸模式

設置成員函數的`StretchBlt`位圖拉伸模式。

```
int SetStretchBltMode(int nStretchMode);
```

### <a name="parameters"></a>參數

*n 拉伸模式*<br/>
指定拉伸模式。 可以是下列其中任何一個值：

|值|描述|
|-----------|-----------------|
|布萊克翁白|使用消除圖元和現有像素的顏色值執行布爾和操作。 如果位圖是單色位圖,則此模式將保留黑色圖元,而犧牲了白色圖元。|
|彩色彩色|刪除圖元。 此模式刪除所有已消除的圖元行,而無需嘗試保留其資訊。|
|半色調|將源矩形中的像素映射到目標矩形中的像素塊。 目標像素塊上的平均顏色近似於原始像素的顏色。|
||設置 HALFTONE 拉伸模式後,應用程式必須調用 Win32 函數[SetBrushOrgEx](/windows/win32/api/wingdi/nf-wingdi-setbrushorgex)來設置畫筆原點。 如果未能這樣做,則會發生畫筆失調。|
|STRETCH_ANDSCANS|**視窗 95/98**: 與布萊克白相同|
|STRETCH_DELETESCANS|**視窗 95/98**: 與彩色|
|STRETCH_HALFTONE|**視窗95/98**:與HALFTONE相同。|
|STRETCH_ORSCANS|**視窗 95/98**: 與懷特黑|
|懷特頓布萊克|使用消除圖元和現有像素的顏色值執行布爾或操作。 如果位圖是單色位圖,則此模式將保留白色圖元,而犧牲了黑色圖元。|

### <a name="return-value"></a>傳回值

上一個拉伸模式。 它可以是STRETCH_ANDSCANS、STRETCH_DELETESCANS或STRETCH_ORSCANS。

### <a name="remarks"></a>備註

點陣圖拉伸模式定義如何使用 函數從壓縮的點陣圖中刪除資訊。

黑白(STRETCH_ANDSCANS)和白(STRETCH_ORSCANS)模式通常用於在單色位圖中保留前景圖元。 COLORONCOLOR (STRETCH_DELETESCANS) 模式通常用於在顏色位圖中保留顏色。

HALFTONE 模式比其他三種模式需要更多的源圖像處理;它比其他圖像慢,但會產生更高品質的圖像。 另請注意,`SetBrushOrgEx`在設置 HALFTONE 模式後必須調用,以避免畫筆失調。

根據設備驅動程式的功能,其他拉伸模式也可能可用。

## <a name="cdcsettextalign"></a><a name="settextalign"></a>CDC::設定文字對齊

設置文本對齊標誌。

```
UINT SetTextAlign(UINT nFlags);
```

### <a name="parameters"></a>參數

*nFlags*<br/>
指定文字對齊標誌。 標誌指定點和限制文本的矩形之間的關係。 該點可以是文本輸出函數指定的當前位置或座標。 限定文字的矩形由文字字串中的相鄰字元單元格定義。 *nFlags*參數可以是以下三個類別中的一個或多個標誌。 每個類別中僅選擇一個標誌。 第一個類別影響 x 方向上的文字對齊:

- TA_CENTER將點與邊界矩形的水準中心對齊。

- TA_LEFT 將點與邊界矩形的左側對齊。 這是預設值。

- TA_RIGHT將點與邊界矩形的右側對齊。

第二個類別影響 y 方向的文字對齊:

- TA_BASELINE 將點與所選字體的基線對齊。

- TA_BOTTOM 將點與邊界矩形的底部對齊。

- TA_TOP將點與邊界矩形的頂部對齊。 這是預設值。

第三個類別確定在編寫文字時是否更新目前位置:

- TA_NOUPDATECP每次調用文本輸出函數后不更新當前位置。 這是預設值。

- TA_UPDATECP 每次調用文字輸出函數後更新當前 x 位置。 新位置位於文本邊界矩形的右側。 設定此標誌時,將忽略對成員函數的呼叫中`TextOut`指定的座標。

### <a name="return-value"></a>傳回值

以前的文本對齊設置(如果成功)。 低階位元組包含水準設置,高階位元組包含垂直設置;否則 0。

### <a name="remarks"></a>備註

在`TextOut`顯示器`ExtTextOut`或設備上定位文本字串時,和成員函數使用這些標誌。 標誌指定特定點與限制文本的矩形之間的關係。 此點的座標作為參數傳遞給`TextOut`成員函數。 綁定文字的矩形由文本字串中的相鄰字元單元格組成。

## <a name="cdcsettextcharacterextra"></a><a name="settextcharacterextra"></a>CDC::設定文字字元額外

設置字元間間距的量。

```
int SetTextCharacterExtra(int nCharExtra);
```

### <a name="parameters"></a>參數

*n查爾特*<br/>
指定要添加到每個字元的額外空間量(以邏輯單位為單位)。 如果當前映射模式不是`MM_TEXT`,則*nCharExtra*將變換並舍入到最近的圖元。

### <a name="return-value"></a>傳回值

上一個字元間距的量。

### <a name="remarks"></a>備註

GDI 向每個字元(包括中斷字元)向設備上下文寫入文本行時,都會將此間距添加到其中。 字元間間距量的預設值為 0。

## <a name="cdcsettextcolor"></a><a name="settextcolor"></a>CDC::設定文字顏色

將文字顏色設定為指定顏色。

```
virtual COLORREF SetTextColor(COLORREF crColor);
```

### <a name="parameters"></a>參數

*crColor*<br/>
指定文字的顏色為 RGB 顏色值。

### <a name="return-value"></a>傳回值

上一個文字顏色的 RGB 值。

### <a name="remarks"></a>備註

系統在將文字寫入此設備上下文時以及在顏色和單色設備上下文之間轉換位圖時將使用此文字顏色。

如果裝置無法表示指定顏色,系統將文本顏色設置為最接近的物理顏色。 字元的背景顏色由`SetBkColor`和`SetBkMode`成員函數指定。

### <a name="example"></a>範例

  請參考[CWnd 的範例:OnCtlColor](../../mfc/reference/cwnd-class.md#onctlcolor)。

## <a name="cdcsettextjustification"></a><a name="settextjustification"></a>CDC::設定文字對齊

向字串中的分隔元添加空間。

```
int SetTextJustification(
    int nBreakExtra,
    int nBreakCount);
```

### <a name="parameters"></a>參數

*nBreakExtra*<br/>
指定要添加到文本行的總額外空間(以邏輯單位表示)。 如果當前映射模式不是`MM_TEXT`,則此參數給出的值將轉換為當前映射模式,並舍入到最近的設備單元。

*n突破計數*<br/>
指定行中的中斷字元數。

### <a name="return-value"></a>傳回值

如果函數成功,則為否則 0。

### <a name="remarks"></a>備註

應用程式可以使用`GetTextMetrics`成員函數檢索字體的中斷字元。

呼叫`SetTextJustification`成員函數後,對文本輸出函數的調用(如`TextOut`) 在指定的中斷字元數之間均勻分佈指定的額外空格。 分隔符通常是空格字元 (ASCII 32),但可以通過字體定義為其他字元。

成員函數`GetTextExtent`通常與 一`SetTextJustification`起使用 。 `GetTextExtent`在對齊之前計算給定線的寬度。 應用程式可以通過在對齊`GetTextExtent`後 從字串寬度中減去返回的值來確定在*nBreakExtra*參數中指定的空間量。

該`SetTextJustification`函數可用於對齊包含不同字體的多個運行的行。 在這種情況下,必須通過單獨對齊和寫入每個運行來零敲碎打地創建行。

由於在對齊過程中可能發生捨入錯誤,因此系統保留定義當前錯誤的運行錯誤術語。 對齊包含多個執行的行時,`GetTextExtent`在計算下一次運行的範圍時,會自動使用此錯誤術語。 這允許文本輸出函數將錯誤混合到新運行中。

每行對齊后,必須清除此錯誤術語,以防止將其合併到下一行中。 可以通過調`SetTextJustification`用*nBreakExtra*設置為 0 來清除該術語。

## <a name="cdcsetviewportext"></a><a name="setviewportext"></a>CDC::SetViewportExt

設置設備上下文視口的 x 和 y 範圍。

```
virtual CSize SetViewportExt(
    int cx,
    int cy);

CSize SetViewportExt(SIZE size);
```

### <a name="parameters"></a>參數

*殘雪*<br/>
指定視口的 x 範圍(以設備單位為單位)。

*cy*<br/>
指定視口的 y 範圍(以設備單位為單位)。

*size*<br/>
指定視口的 x 和 y 範圍(以設備單位為單位)。

### <a name="return-value"></a>傳回值

視口作為[CSize](../../atl-mfc-shared/reference/csize-class.md)物件的上一個擴展盤區。 發生錯誤時,返回`CSize`物件的 x 座標和 y 座標都設置為 0。

### <a name="remarks"></a>備註

視口以及設備上下文視窗定義 GDI 如何將邏輯座標系中的點映射到實際設備座標系中的點。 換句話說,它們定義了 GDI 如何將邏輯座標轉換為設備座標。

設定以下對應模式時,會忽略呼叫`SetWindowExt`與`SetViewportExt`:

|MM_HIENGLISH|MM_LOMETRIC|
|-------------------|------------------|
|MM_HIMETRIC|MM_TEXT|
|MM_LOENGLISH|MM_TWIPS|

設置MM_ISOTROPIC模式時,應用程式必須在調用`SetWindowExt``SetViewportExt`之前調用成員函數。

### <a name="example"></a>範例

  請參閱[CView 的示例::在準備DC](../../mfc/reference/cview-class.md#onpreparedc)上。

## <a name="cdcsetviewportorg"></a><a name="setviewportorg"></a>CDC::SetViewportOrg

設置設備上下文的視口源。

```
virtual CPoint SetViewportOrg(
    int x,
    int y);

CPoint SetViewportOrg(POINT point);
```

### <a name="parameters"></a>參數

*x*<br/>
指定視口原點的 x 座標(以設備單位為單位)。 該值必須在設備座標系的範圍內。

*Y*<br/>
指定視口原點的 y 座標(以設備單位為單位)。 該值必須在設備座標系的範圍內。

*點*<br/>
指定視口的原點。 這些值必須在設備座標系的範圍內。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

視口(在設備座標中)作為物件的上一個`CPoint`原點。

### <a name="remarks"></a>備註

視口以及設備上下文視窗定義 GDI 如何將邏輯座標系中的點映射到實際設備座標系中的點。 換句話說,它們定義了 GDI 如何將邏輯座標轉換為設備座標。

視點原點標記 GDI 映射到視窗原點的設備座標系中的點,該點是成員函數指定的邏輯座標`SetWindowOrg`系中的 一個點。 GDI 遵循將視窗原點映射到視口原點所需的相同過程來映射所有其他點。 例如,圍繞視窗原點的圓中的所有點都將在視口原點的圓中。 同樣,通過視窗原點行中的所有點都將位於穿過視口原點的行中。

### <a name="example"></a>範例

  請參閱[CView 的示例::在準備DC](../../mfc/reference/cview-class.md#onpreparedc)上。

## <a name="cdcsetwindowext"></a><a name="setwindowext"></a>CDC::設定視窗Ext

設置與設備上下文關聯的視窗的 x 和 y 範圍。

```
virtual CSize SetWindowExt(
    int cx,
    int cy);

CSize SetWindowExt(SIZE size);
```

### <a name="parameters"></a>參數

*殘雪*<br/>
指定視窗的 x 範圍(以邏輯單位為單位)。

*cy*<br/>
指定視窗的 y 範圍(以邏輯單位為單位)。

*size*<br/>
指定視窗的 x 和 y 範圍(以邏輯單位表示)。

### <a name="return-value"></a>傳回值

視窗(邏輯單位)作為物件的上一個`CSize`範圍。 如果發生錯誤,則返回`CSize`物件的 x 座標和 y 座標都設置為 0。

### <a name="remarks"></a>備註

該視窗以及設備上下文視口定義 GDI 如何將邏輯座標系中的點映射到設備座標系中的點。

設定以下映射模式時,會忽略對`SetWindowExt``SetViewportExt`與函數的呼叫:

- MM_HIENGLISH

- MM_HIMETRIC

- MM_LOENGLISH

- MM_LOMETRIC

- MM_TEXT

- MM_TWIPS

設置MM_ISOTROPIC模式時,應用程式必須在調用`SetWindowExt``SetViewportExt`之前調用成員函數。

### <a name="example"></a>範例

  請參閱[CView 的示例::在準備DC](../../mfc/reference/cview-class.md#onpreparedc)上。

## <a name="cdcsetwindoworg"></a><a name="setwindoworg"></a>CDC::設定視窗組織

設置設備上下文的視窗源。

```
CPoint SetWindowOrg(
    int x,
    int y);

CPoint SetWindowOrg(POINT point);
```

### <a name="parameters"></a>參數

*x*<br/>
指定視窗新來源的邏輯 x 座標。

*Y*<br/>
指定視窗新源的邏輯 y 座標。

*點*<br/>
指定視窗新源的邏輯座標。 可以傳遞此參數`POINT`的結構或`CPoint`物件。

### <a name="return-value"></a>傳回值

視窗作為物件的上一個`CPoint`原點。

### <a name="remarks"></a>備註

該視窗以及設備上下文視口定義 GDI 如何將邏輯座標系中的點映射到設備座標系中的點。

視窗原點標記邏輯座標系中的點,GDI 從該點映射視點原點,`SetWindowOrg`即函數指定的設備座標系中的點。 GDI 遵循將視窗原點映射到視口原點所需的相同過程來映射所有其他點。 例如,圍繞視窗原點的圓中的所有點都將在視口原點的圓中。 同樣,通過視窗原點行中的所有點都將位於穿過視口原點的行中。

## <a name="cdcsetworldtransform"></a><a name="setworldtransform"></a>CDC::設定世界轉換

設置指定設備上下文的世界空間和頁面空間之間的二維線性變換。 此轉換可用於縮放、旋轉、剪切或轉換圖形輸出。

```
BOOL SetWorldTransform(const XFORM& rXform);
```

### <a name="parameters"></a>參數

*rXform*<br/>
對包含轉換資料的[XFORM](/windows/win32/api/wingdi/ns-wingdi-xform)結構的引用。

### <a name="return-value"></a>傳回值

返回成功時的非零值。

失敗後返回 0。

要取得延伸的錯誤資訊,請致電[GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror)。

### <a name="remarks"></a>備註

此方法包裝 Windows GDI 函數[SetWorldTransform](/windows/win32/api/wingdi/nf-wingdi-setworldtransform)。

## <a name="cdcstartdoc"></a><a name="startdoc"></a>CDC::開機文件

通知設備驅動程式新的列印作業正在啟動,並且所有後續`StartPage`調用`EndPage`和調用都應在同`EndDoc`一 作業下進行後台化,直到發生調用。

```
int StartDoc(LPDOCINFO lpDocInfo);
int StartDoc(LPCTSTR lpszDocName);
```

### <a name="parameters"></a>參數

*lpDocInfo*<br/>
指向包含文件檔名稱和輸出檔名稱的[DOCINFO](/windows/win32/api/wingdi/ns-wingdi-docinfow)結構。

*lpszDoc 名稱*<br/>
指向包含文件檔名稱的字串的指標。

### <a name="return-value"></a>傳回值

如果函數成功,則返回值大於零。 此值是文件的列印作業標識符。

如果函數失敗,則返回值小於或等於零。

### <a name="remarks"></a>備註

這可確保文檔超過一頁的時間不會與其他作業穿插。

對於 Windows 版本 3.1 及更高版本,此功能將替換 STARTDOC 印表機轉義。 使用此函數可確保包含多個頁面的文件不會與其他列印作業穿插。

`StartDoc`不應在元檔中使用。

### <a name="example"></a>範例

此代碼片段獲取預設印表機,打開列印作業,並用"你好,世界! 上它。 由於此代碼列印的文本未縮放到印表機的邏輯單位,因此輸出文本可能以小寫字母表示無法讀取的結果。 CDC 縮放函數(`SetMapMode`如`SetViewportOrg`、`SetWindowExt`和) 可用於修復縮放。

[!code-cpp[NVC_MFCDocView#41](../../mfc/codesnippet/cpp/cdc-class_13.cpp)]

## <a name="cdcstartpage"></a><a name="startpage"></a>CDC::起始頁

調用此成員函數以準備印表機驅動程式以接收數據。

```
int StartPage();
```

### <a name="return-value"></a>傳回值

如果函數成功,大於或等於 0;如果發生錯誤,則為負值。

### <a name="remarks"></a>備註

`StartPage`取代新幀和班德福逃生。

有關列印調用序列的概述,請參閱[StartDoc](#startdoc)成員函數。

系統禁用對`ResetDC``StartPage``EndPage`和調用之間的成員功能。

### <a name="example"></a>範例

  請參考 CDC[的範例:StartDoc](#startdoc)。

## <a name="cdcstretchblt"></a><a name="stretchblt"></a>CDC::拉伸Blt

將來源矩形的點陣圖複製到目的地矩形，必要時可延伸或壓縮點陣圖，使其符合目的地矩形的維度。

```
BOOL StretchBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    DWORD dwRop);
```

### <a name="parameters"></a>參數

*x*<br/>
指定目的地矩形左上角的 X 座標 (以邏輯單位表示)。

*Y*<br/>
指定目的地矩形左上角的 Y 座標 (以邏輯單位表示)。

*n 寬度*<br/>
指定目的地矩形的寬度 (以邏輯單位表示)。

*nHeight*<br/>
指定目的地矩形的高度 (以邏輯單位表示)。

*pSrcDC*<br/>
指定來源裝置內容。

*xSrc*<br/>
指定來源矩形左上角的 X 座標 (以邏輯單位表示)。

*伊斯爾克*<br/>
指定來源矩形左上角的 Y 座標 (以邏輯單位表示)。

*NSrcWidth*<br/>
指定來源矩形的寬度 (以邏輯單位表示)。

*nSrcHeight*<br/>
指定來源矩形的高度 (以邏輯單位表示)。

*dwRop*<br/>
指定待執行的點陣作業。 點陣作業程式碼定義 GDI 在輸出作業中結合色彩的方式；該輸出作業與目前的筆刷、可能的來源點陣圖和目的地點陣圖相關。 這個參數可以是下列其中一個值：

- 黑色將所有輸出變為黑色。

- DSTINVERT 反轉目標位圖。

- MERGECOPY 使用布爾和運算元組合模式和源點陣圖。

- MERGEPAINT 使用布爾或運算元將倒源位圖與目標位圖合併。

- NOTSRCCOPY 將倒源點圖複製到目標。

- NOTSRCERASE 反轉使用布爾或運算符組合目標位圖和源位圖的結果。

- PATCOPY 將模式複製到目標位圖。

- PATINVERT 使用布林 XOR 運算元將目標位圖與模式相結合。

- PATPAINT 使用布爾或運算元將倒源位圖與模式相結合。 使用布林值 OR 運算子合併此作業的結果與目的地點陣圖。

- SRCAND 使用布爾和運算元組合目標圖元和源點陣圖。

- SRCCOPY 將來源點陣圖複製到目標點陣圖。

- SRCERASE 反轉目標位圖,並使用布爾和運算元將結果與源位圖合併。

- SRCINVERT 使用布林 XOR 運算符合並目標圖元和源點陣圖。

- SRCPAINT 使用布爾或運算符合並目標圖元和源位圖。

- 白色將所有輸出變為白色。

### <a name="return-value"></a>傳回值

如果繪製了點陣圖即為非零，否則為 0。

### <a name="remarks"></a>備註

此函式使用目的地裝置內容 (以 `SetStretchBltMode` 設定) 的縮放模式判斷如何縮放或壓縮點陣圖。

該`StretchBlt`函數將位圖從*pSrcDC*給出的源設備移動到由正在調用其成員函數的設備上下文物件表示的目標設備。 xSrc、ySrc、nSrcWidth 和*nSrcHeight*參數定義源矩形的左上角*xSrc**ySrc**nSrcWidth*和尺寸。 *x、y、nWidth*和*nHeight*參數提供目標矩形的左上角*x**nWidth*和尺寸。 *dwRop*指定的柵格操作定義如何組合源位圖和目標設備上已有的位圖。

如果`StretchBlt`*nSrcWidth*和 nWidth 或*nSrcHeight 和 nSrcHeight*參數的*nHeight*符號不同,則函*nWidth*數將創建位圖的鏡像。 如果*nSrcWidth*和*nWidth*具有不同的符號,則函數會沿 x 軸創建位圖的鏡像。 如果*nSrcHeight*和*nHeight*具有不同的符號,則函數會沿 y 軸創建位圖的鏡像。

`StretchBlt` 函式會延伸或壓縮記憶體中的來源點陣圖，然後將結果複製到目的地。 如果要合併模式和結果，除非將延伸的來源點陣圖複製到目的地，否則不會進行合併。 如果使用筆刷，會使用在目的地裝置內容中選取的筆刷。 目的地座標會根據目的地裝置內容而轉換；來源座標會根據來源裝置內容而轉換。

如果目的地、來源和模式點陣圖的色彩格式不同，`StretchBlt` 會轉換來源和模式點陣圖以符合目的地點陣圖。 轉換中會使用目的地裝置内容的前景和背景色彩。

如果 `StretchBlt` 必須將單色點陣圖轉換為彩色，會將白色位元 (1) 設為背景色彩，並將黑色位元 (0) 設為前景色彩。 若要將彩色轉換為單色，則會將符合背景色彩的像素轉換成白色 (1)，並將其他所有像素設為黑色 (0)。 會使用彩色裝置內容的前景和背景色彩。

並非所有的裝置皆支援 `StretchBlt` 函式。 要確定裝置是否支援`StretchBlt`,請`GetDeviceCaps`使用 RASTERCAPS 索引呼叫成員函數,並檢查RC_STRETCHBLT標誌的返回值。

## <a name="cdcstrokeandfillpath"></a><a name="strokeandfillpath"></a>CDC::中風和填充路徑

關閉路徑中的任何打開圖形,使用當前筆繪製路徑輪廓,並使用當前畫筆填充其內部。

```
BOOL StrokeAndFillPath();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

設備上下文必須包含閉合路徑。 `StrokeAndFillPath`成員函數的效果與關閉路徑中的所有打開圖形以及單獨撫摸和填充路徑的效果相同,只不過即使筆寬,填充區域也不會與描邊區域重疊。

## <a name="cdcstrokepath"></a><a name="strokepath"></a>CDC:中風路徑

使用當前筆渲染指定的路徑。

```
BOOL StrokePath();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

設備上下文必須包含閉合路徑。

## <a name="cdctabbedtextout"></a><a name="tabbedtextout"></a>CDC::Tabbed文字出

呼叫此成員函數在指定位置寫入字串,將選項卡擴展到制表停止位置陣列中指定的值。

```
virtual CSize TabbedTextOut(
    int x,
    int y,
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions,
    int nTabOrigin);

CSize TabbedTextOut(
    int x,
    int y,
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions,
    int nTabOrigin);
```

### <a name="parameters"></a>參數

*x*<br/>
指定字串起始點的邏輯 x 座標。

*Y*<br/>
指定字串起始點的邏輯 y 座標。

*lpszString*<br/>
指向要繪製的字串。 可以傳遞指向字元陣列的指標或此參數的[CString](../../atl-mfc-shared/reference/cstringt-class.md)物件。

*n( N) Count*<br/>
指定*lpszString*指向[的字串的長度](/windows/win32/gdi/specifying-length-of-text-output-string)。

*nTab*<br/>
指定制表位數組中的值數。

*lpnTabStop位置*<br/>
指向包含制表位(以邏輯單位)的陣列。 必須按增加的順序對制表位進行排序;最小的 x 值應該是陣列中的第一個項。

*nTab原*<br/>
指定展開制表符的起始位置的 x 座標(以邏輯單位表示)。

*Str*<br/>
包含`CString`指定字元的物件。

### <a name="return-value"></a>傳回值

字串的尺寸(以邏輯單位為單位)作為`CSize`物件。

### <a name="remarks"></a>備註

文字以當前選擇的字體書寫。 如果*nTabPositions*為 0,*並且 lpnTabStopPositions*為 NULL,則選項卡將擴展到平均字元寬度的八倍。

如果*nTabPositions*為 1,則製表位由*lpnTabStopPositions*陣列中第一個值指定的距離分隔。 如果*lpnTabStopPositions*陣列包含多個值,則為陣列中的每個值設置一個製表位,最多為*nTabPositions*指定的數位。 *nTabOrigin*參數允許應用程式多次為一`TabbedTextOut`行 調用函數。 如果應用程式多次調用函數,每次將*nTabOrigin*設置為相同的值,則函數將相對於*nTabOrigin*指定的位置展開所有選項卡。

根據預設，函式不會使用或更新目前的位置。 如果應用程式在調用函數時需要更新當前位置,則應用程式可以調用[SetTextAlign](#settextalign)成員函數 *,nFlags*設置為TA_UPDATECP。 設置此標誌時,Windows 會忽略後續調`TabbedTextOut`用的*x*和*y*參數,而是使用當前位置。

## <a name="cdctextout"></a><a name="textout"></a>CDC::文字出

使用目前選取的字型，在指定的位置寫入字元字串。

```
virtual BOOL TextOut(
    int x,
    int y,
    LPCTSTR lpszString,
    int nCount);

BOOL TextOut(
    int x,
    int y,
    const CString& str);
```

### <a name="parameters"></a>參數

*x*<br/>
指定文字起點的邏輯 X 座標。

*Y*<br/>
指定文字起點的邏輯 Y 座標。

*lpszString*<br/>
指向要繪製的字元字串。

*n( N) Count*<br/>
指定字串中的字元數。

*Str*<br/>
`CString` 物件，其中包含要繪製的字元。

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

字元原點在字元儲存格的左上角。 根據預設，函式不會使用或更新目前的位置。

如果應用程式在調用`TextOut`時需要更新當前位置,則應用程式可以調用成員函`SetTextAlign`數 *,nFlags*設置為TA_UPDATECP。 設置此標誌時,Windows 會忽略後續調`TextOut`用的*x*和*y*參數,而是使用當前位置。

### <a name="example"></a>範例

  請參考 CDC 的範例[::開始路徑](#beginpath)。

## <a name="cdctransparentblt"></a><a name="transparentblt"></a>CDC::透明布拉特

呼叫此成員函數以將顏色資料的位塊(對應於指定源設備上下文的圖元矩形)傳輸到目標設備上下文。

```
BOOL TransparentBlt(
    int xDest,
    int yDest,
    int nDestWidth,
    int nDestHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    UINT clrTransparent);
```

### <a name="parameters"></a>參數

*xDest*<br/>
指定目標矩形左上角的 x 座標(以邏輯單位表示)。

*yDest*<br/>
指定目標矩形左上角的 y 座標(以邏輯單位表示)。

*nD最大寬度*<br/>
指定目標矩形的寬度(以邏輯單位為單位)。

*nDestHeight*<br/>
指定目標矩形的高度(以邏輯單位為單位)。

*pSrcDC*<br/>
指向源設備上下文的指標。

*xSrc*<br/>
指定源矩形的 x 座標(以邏輯單位表示)。

*伊斯爾克*<br/>
指定源矩形的 y 座標(以邏輯單位表示)。

*NSrcWidth*<br/>
指定源矩形的寬度(以邏輯單位為單位)。

*nSrcHeight*<br/>
指定源矩形的高度(以邏輯單位為單位)。

*clr透明*<br/>
源點陣圖中的 RGB 顏色,視為透明。

### <a name="return-value"></a>傳回值

如果成功，則為 TRUE，否則為 FALSE。

### <a name="remarks"></a>備註

`TransparentBlt`允許透明度;也就是說 *,clrTransparent*指示的 RGB 顏色對於傳輸呈現為透明。

有關詳細資訊,請參閱 Windows SDK 中的[透明 Blt。](/windows/win32/api/wingdi/nf-wingdi-transparentblt)

## <a name="cdcupdatecolors"></a><a name="updatecolors"></a>CDC::更新顏色

通過將工作區中的當前顏色逐圖元匹配到系統調色板,更新設備上下文的工作區。

```cpp
void UpdateColors();
```

### <a name="remarks"></a>備註

當系統調色板發生更改時,具有已實現邏輯`UpdateColors`調色板的非活動視窗可能會調用作為重新繪製其工作區的替代方法。

有關使用調色板的詳細資訊,請參閱 Windows SDK 中的[「更新顏色](/windows/win32/api/wingdi/nf-wingdi-updatecolors)」。

成員`UpdateColors`函數通常更新工作區的速度通常比重新繪製區域快。 但是,由於函數在系統調色板更改之前根據每個圖元的顏色執行顏色轉換,因此每次調用此函數都會丟失一些顏色精度。

## <a name="cdcwidenpath"></a><a name="widenpath"></a>CDC::寬道

將當前路徑重新定義為,如果使用當前選擇的筆在設備上下文中繪製路徑,則將繪製路徑的區域。

```
BOOL WidenPath();
```

### <a name="return-value"></a>傳回值

如果函式成功則為非零，否則為 0。

### <a name="remarks"></a>備註

僅當當前筆是`CreatePen`成員函數的第二個版本創建的幾何筆,或者筆是使用的第`CreatePen`一個版本創建的,並且寬度(以設備單位為單位)大於 1 時,此功能才成功。 設備上下文必須包含閉合路徑。 路徑中的任何 Bzier 曲線都將轉換為接近加寬曲線的直線序列。 因此,調用後`WidenPath`路徑中沒有 Bzier 曲線。

## <a name="see-also"></a>另請參閱

[CObject 類別](../../mfc/reference/cobject-class.md)<br/>
[階層架構圖表](../../mfc/hierarchy-chart.md)<br/>
[CPaintDC 類別](../../mfc/reference/cpaintdc-class.md)<br/>
[CWindowDC 類別](../../mfc/reference/cwindowdc-class.md)<br/>
[CClientDC 類別](../../mfc/reference/cclientdc-class.md)<br/>
[CMetaFileDC 類別](../../mfc/reference/cmetafiledc-class.md)
