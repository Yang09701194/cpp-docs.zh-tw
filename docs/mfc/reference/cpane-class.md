---
title: CPane Class
ms.date: 11/04/2016
f1_keywords:
- CPane
- AFXPANE/CPane
- AFXPANE/CPane::AdjustSizeImmediate
- AFXPANE/CPane::AllocElements
- AFXPANE/CPane::AllowShowOnPaneMenu
- AFXPANE/CPane::CalcAvailableSize
- AFXPANE/CPane::CalcInsideRect
- AFXPANE/CPane::CalcRecentDockedRect
- AFXPANE/CPane::CalcSize
- AFXPANE/CPane::CanBeDocked
- AFXPANE/CPane::CanBeTabbedDocument
- AFXPANE/CPane::ConvertToTabbedDocument
- AFXPANE/CPane::CopyState
- AFXPANE/CPane::Create
- AFXPANE/CPane::CreateDefaultMiniframe
- AFXPANE/CPane::CreateEx
- AFXPANE/CPane::DockByMouse
- AFXPANE/CPane::DockPane
- AFXPANE/CPane::DockPaneStandard
- AFXPANE/CPane::DockToFrameWindow
- AFXPANE/CPane::DoesAllowSiblingBars
- AFXPANE/CPane::FloatPane
- AFXPANE/CPane::GetAvailableExpandSize
- AFXPANE/CPane::GetAvailableStretchSize
- AFXPANE/CPane::GetBorders
- AFXPANE/CPane::GetClientHotSpot
- AFXPANE/CPane::GetDockSiteRow
- AFXPANE/CPane::GetExclusiveRowMode
- AFXPANE/CPane::GetHotSpot
- AFXPANE/CPane::GetMinSize
- AFXPANE/CPane::GetPaneName
- AFXPANE/CPane::GetVirtualRect
- AFXPANE/CPane::IsChangeState
- AFXPANE/CPane::IsDragMode
- AFXPANE/CPane::IsInFloatingMultiPaneFrameWnd
- AFXPANE/CPane::IsLeftOf
- AFXPANE/CPane::IsResizable
- AFXPANE/CPane::IsTabbed
- AFXPANE/CPane::LoadState
- AFXPANE/CPane::MoveByAlignment
- AFXPANE/CPane::MovePane
- AFXPANE/CPane::OnAfterChangeParent
- AFXPANE/CPane::OnBeforeChangeParent
- AFXPANE/CPane::OnPressCloseButton
- AFXPANE/CPane::OnShowControlBarMenu
- AFXPANE/CPane::RecalcLayout
- AFXPANE/CPane::SaveState
- AFXPANE/CPane::SetActiveInGroup
- AFXPANE/CPane::SetBorders
- AFXPANE/CPane::SetClientHotSpot
- AFXPANE/CPane::SetDockState
- AFXPANE/CPane::SetExclusiveRowMode
- AFXPANE/CPane::SetMiniFrameRTC
- AFXPANE/CPane::SetMinSize
- AFXPANE/CPane::SetVirtualRect
- AFXPANE/CPane::StretchPaneDeferWndPos
- AFXPANE/CPane::ToggleAutoHide
- AFXPANE/CPane::UndockPane
- AFXPANE/CPane::UpdateVirtualRect
- AFXPANE/CPane::OnAfterDock
- AFXPANE/CPane::OnAfterFloat
- AFXPANE/CPane::OnBeforeDock
- AFXPANE/CPane::OnBeforeFloat
- AFXPANE/CPane::m_bHandleMinSize
- AFXPANE/CPane::m_recentDockInfo
helpviewer_keywords:
- CPane [MFC], AdjustSizeImmediate
- CPane [MFC], AllocElements
- CPane [MFC], AllowShowOnPaneMenu
- CPane [MFC], CalcAvailableSize
- CPane [MFC], CalcInsideRect
- CPane [MFC], CalcRecentDockedRect
- CPane [MFC], CalcSize
- CPane [MFC], CanBeDocked
- CPane [MFC], CanBeTabbedDocument
- CPane [MFC], ConvertToTabbedDocument
- CPane [MFC], CopyState
- CPane [MFC], Create
- CPane [MFC], CreateDefaultMiniframe
- CPane [MFC], CreateEx
- CPane [MFC], DockByMouse
- CPane [MFC], DockPane
- CPane [MFC], DockPaneStandard
- CPane [MFC], DockToFrameWindow
- CPane [MFC], DoesAllowSiblingBars
- CPane [MFC], FloatPane
- CPane [MFC], GetAvailableExpandSize
- CPane [MFC], GetAvailableStretchSize
- CPane [MFC], GetBorders
- CPane [MFC], GetClientHotSpot
- CPane [MFC], GetDockSiteRow
- CPane [MFC], GetExclusiveRowMode
- CPane [MFC], GetHotSpot
- CPane [MFC], GetMinSize
- CPane [MFC], GetPaneName
- CPane [MFC], GetVirtualRect
- CPane [MFC], IsChangeState
- CPane [MFC], IsDragMode
- CPane [MFC], IsInFloatingMultiPaneFrameWnd
- CPane [MFC], IsLeftOf
- CPane [MFC], IsResizable
- CPane [MFC], IsTabbed
- CPane [MFC], LoadState
- CPane [MFC], MoveByAlignment
- CPane [MFC], MovePane
- CPane [MFC], OnAfterChangeParent
- CPane [MFC], OnBeforeChangeParent
- CPane [MFC], OnPressCloseButton
- CPane [MFC], OnShowControlBarMenu
- CPane [MFC], OnShowControlBarMenu
- CPane [MFC], RecalcLayout
- CPane [MFC], SaveState
- CPane [MFC], SetActiveInGroup
- CPane [MFC], SetBorders
- CPane [MFC], SetClientHotSpot
- CPane [MFC], SetDockState
- CPane [MFC], SetExclusiveRowMode
- CPane [MFC], SetMiniFrameRTC
- CPane [MFC], SetMinSize
- CPane [MFC], SetVirtualRect
- CPane [MFC], StretchPaneDeferWndPos
- CPane [MFC], ToggleAutoHide
- CPane [MFC], UndockPane
- CPane [MFC], UpdateVirtualRect
- CPane [MFC], OnAfterDock
- CPane [MFC], OnAfterFloat
- CPane [MFC], OnBeforeDock
- CPane [MFC], OnBeforeFloat
- CPane [MFC], m_bHandleMinSize
- CPane [MFC], m_recentDockInfo
ms.assetid: 5c651a64-3c79-4d94-9676-45f6402a6bc5
ms.openlocfilehash: 95aec648009f6d037081c9b3f54d46e9865ca559
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/22/2020
ms.locfileid: "81753662"
---
# <a name="cpane-class"></a>CPane Class

該`CPane`類是[CControlBar 類](../../mfc/reference/ccontrolbar-class.md)的增強。 如果要升級現有的 MFC 專案,請`CControlBar`將所有符合的`CPane`項目取代為 。

## <a name="syntax"></a>語法

```
class CPane : public CBasePane
```

## <a name="members"></a>成員

### <a name="public-constructors"></a>公用建構函式

|名稱|描述|
|----------|-----------------|
|`CPane::~CPane`|解構函式。|

### <a name="public-methods"></a>公用方法

|名稱|描述|
|----------|-----------------|
|[CPane::立即調整大小](#adjustsizeimmediate)|立即重新計算窗格的佈局。|
|[CPane:Alloc元素](#allocelements)|分配存儲供內部使用。|
|[CPane::允許顯示上帕內功能表](#allowshowonpanemenu)|指定窗格是否列在應用程式的執行時生成的窗格清單中。|
|[CPane::計算可獲取大小](#calcavailablesize)|計算指定矩形和當前視窗矩形之間的大小差異。|
|[CPane::卡內卡雷茨](#calcinsiderect)|計算窗格的內部矩形,並考慮邊框和夾持器。|
|[CPane::卡塞雷德多克雷茨](#calcrecentdockedrect)|計算最近停靠的矩形。|
|[CPane::計算](#calcsize)|計算窗格的大小。|
|[CPane:可以多克](#canbedocked)|確定窗格是否可以停靠在指定的基本窗格中。|
|[CPane::可標籤文檔](#canbetabbeddocument)|確定是否可以將窗格轉換為選項卡式文檔。|
|[CPane::轉換到選項卡文件](#converttotabbeddocument)|將可停靠窗格轉換為選項卡式文檔。|
|[CPane:複製狀態](#copystate)|複製窗格的狀態。 (覆蓋[CBasePane:複製狀態](../../mfc/reference/cbasepane-class.md#copystate).)|
|[CPane::創建](#create)|創建控制欄並將其附加到`CPane`物件。|
|[CPane::建立預設Mini框架](#createdefaultminiframe)|為浮動窗格創建微型框架視窗。|
|[CPane::創建Ex](#createex)|創建控制欄並將其附加到`CPane`物件。|
|`CPane::CreateObject`|由建立此類別類型的動態執行個體架構所使用。|
|[CPane::DockbyMouse](#dockbymouse)|使用滑鼠停靠方法停靠窗格。|
|[CPane::DockPane](#dockpane)|將浮動窗格停靠到基本窗格。|
|[CPane::D](#dockpanestandard)|使用輪廓(標準)停靠來停靠窗格。|
|[CPane::Docktoframe視窗](#docktoframewindow)|將可停靠窗格停靠到框架。 (覆寫 `CBasePane::DockToFrameWindow`。)|
|[CPane::D允許同級條形](#doesallowsiblingbars)|指示是否可以將另一個窗格停靠在當前窗格停靠的同一行上。|
|[CPane:浮動窗格](#floatpane)|浮動窗格。|
|[CPane::取得可用擴充大小](#getavailableexpandsize)|返回窗格可以展開的金額(以像素為單位)。|
|[CPane:取得可用拉伸大小](#getavailablestretchsize)|返回窗格可以收縮的金額(以像素為單位)。|
|[CPane:抓取邊框](#getborders)|返回窗格邊框的寬度。|
|[CPane:獲取客戶熱點](#getclienthotspot)|返回窗格*hot spot*的熱點。|
|[CPane:取得 DockSiteRow](#getdocksiterow)|返回窗格停靠的停靠行。|
|[CPane:取得獨佔行模式](#getexclusiverowmode)|確定窗格是否處於獨佔行模式。|
|[CPane:獲取熱點](#gethotspot)|返回存儲在基礎`CMFCDragFrameImpl`物件中的熱點。|
|[CPane:取得最小值](#getminsize)|檢索窗格的最小允許大小。|
|[CPane:抓取窗格名稱](#getpanename)|檢索窗格的標題。|
|`CPane::GetResizeStep`|內部使用。|
|`CPane::GetThisClass`|框架用於獲取指向與此類類型關聯的[CRuntimeClass](../../mfc/reference/cruntimeclass-structure.md)物件的指標。|
|[CPane:取得虛擬重新](#getvirtualrect)|取索窗格的*虛擬矩形*。|
|[CPane:isChangeState](#ischangestate)|移動窗格時,此方法分析窗格相對於其他窗格、停靠行和微型框架視窗的位置,並返回相應的AFX_CS_STATUS值。|
|[CPane::是德拉格模式](#isdragmode)|指定是否正在拖動窗格。|
|[CPane::在漂浮的多窗格框架](#isinfloatingmultipaneframewnd)|指定窗格是否位於多窗格框架視窗中。 (覆寫 `CBasePane::IsInFloatingMultiPaneFrameWnd`。)|
|[CPane::是](#isleftof)|確定窗格是否位於指定矩形的左側(或上方)。|
|[CPane:可調整大小](#isresizable)|確定是否可以調整窗格的大小。 (覆蓋[CBasePane:可調整大小](../../mfc/reference/cbasepane-class.md#isresizable).|
|[CPane::已選項卡](#istabbed)|確定窗格是否已插入選項卡式視窗的選項卡控制項中。 (涵蓋[CBasePane:已選項卡](../../mfc/reference/cbasepane-class.md#istabbed)。)|
|[CPane:載入狀態](#loadstate)|從註冊表載入窗格的狀態。 (覆蓋[CBasePane::載入狀態](../../mfc/reference/cbasepane-class.md#loadstate).)|
|[CPane:移動](#movebyalignment)|按指定數量移動窗格和虛擬矩形。|
|[CPane:行動窗格](#movepane)|將窗格移至指定的矩形。|
|[CPane:在更改後打開父級](#onafterchangeparent)|當窗格的父級已更改時由框架調用。|
|[CPane:在更改父級之前打開](#onbeforechangeparent)|當窗格的父級即將更改時,由框架調用。|
|[CPane:開啟按鈕](#onpressclosebutton)|當使用者選擇窗格標題上的"關閉"按鈕時,由框架調用。|
|`CPane::OnProcessDblClk`|內部使用。|
|[CPane:在顯示控制欄選單](#onshowcontrolbarmenu)|當特殊窗格功能表即將顯示時由架構呼叫。|
|[CPane:在顯示控制欄選單](#onshowcontrolbarmenu)|當特殊窗格功能表即將顯示時由架構呼叫。|
|`CPane::PrepareToDock`|內部使用。|
|[CPane:Recalclayout](#recalclayout)|重新計算窗格的佈局資訊。 (覆蓋[CBasePane:recalclayout](../../mfc/reference/cbasepane-class.md#recalclayout).)|
|[CPane:儲存狀態](#savestate)|將窗格的狀態保存到註冊表。 (覆蓋[CBasePane::儲存狀態](../../mfc/reference/cbasepane-class.md#savestate).)|
|[CPane:設定活動群組](#setactiveingroup)|將窗格標記為活動窗格。|
|[CPane:設定邊框](#setborders)|設定窗格的邊框值。|
|[CPane:設置客戶端熱點](#setclienthotspot)|設置窗格的熱點。|
|[CPane:setDockState](#setdockstate)|還原窗格的停靠狀態資訊。|
|[CPane:設定獨佔行模式](#setexclusiverowmode)|啟用或禁用獨佔行模式。|
|[CPane:設定MiniFrameRTC](#setminiframertc)|設置預設小型框架視窗的運行時類資訊。|
|[CPane:設定最小值](#setminsize)|設定窗格的最小允許大小。|
|[CPane:設定虛擬重新](#setvirtualrect)|設定窗格的*虛擬矩形*。|
|[CPane::拉伸帕內德溫德波斯](#stretchpanedeferwndpos)|根據停靠樣式垂直或水準拉伸窗格。|
|[CPane::切換自動隱藏](#toggleautohide)|切換自動隱藏模式。|
|[CPane:取消板塊窗格](#undockpane)|從目前停靠的停靠網站、預設滑塊或微型框架視窗中刪除窗格。 (覆蓋[CBasePane:取消停靠窗格](../../mfc/reference/cbasepane-class.md#undockpane).)|
|[CPane:更新虛擬重新](#updatevirtualrect)|更新虛擬矩形。|

### <a name="protected-methods"></a>保護方法

|名稱|描述|
|----------|-----------------|
|[CPane:在後頭](#onafterdock)|當窗格已停靠時由框架調用。|
|[CPane:在以後浮動](#onafterfloat)|浮動窗格時由框架調用。|
|[CPane::在Dock前](#onbeforedock)|當窗格即將停靠時,由框架調用。|
|[CPane:在漂浮前打開](#onbeforefloat)|當窗格即將浮動時,由框架調用。|

### <a name="data-members"></a>資料成員

|名稱|描述|
|----------|-----------------|
|[CPane::m_bHandleMinSize](#m_bhandleminsize)|支援對窗格的最小大小的一致處理。|
|[CPane:m_recentDockInfo](#m_recentdockinfo)|包含最近的停靠資訊。|

## <a name="remarks"></a>備註

通常,`CPane`物件不會直接實例化。 如果需要具有停靠功能的窗格,請從[CDockablePane](../../mfc/reference/cdockablepane-class.md)派生物件。 如果需要工具列功能,請從[CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)派生物件。

當您從`CPane`派生類時,它可以停靠在[CDockSite](../../mfc/reference/cdocksite-class.md)中,並且它可以浮動在[CPaneFrameWnd](../../mfc/reference/cpaneframewnd-class.md)中。

## <a name="inheritance-hierarchy"></a>繼承階層架構

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CBasePane](../../mfc/reference/cbasepane-class.md)

[CPane](../../mfc/reference/cpane-class.md)

## <a name="requirements"></a>需求

**標題:** afxPane.h

## <a name="cpaneadjustsizeimmediate"></a><a name="adjustsizeimmediate"></a>CPane::立即調整大小

立即重新計算窗格的佈局。

```
virtual void AdjustSizeImmediate(BOOL bRecalcLayout = TRUE);
```

### <a name="parameters"></a>參數

*bRecalcLayout*<br/>
[在]TRUE 自動重新計算窗格的佈局;否則,FALSE。

### <a name="remarks"></a>備註

動態更改窗格的佈局時調用此方法。 例如,在隱藏或顯示工具列按鈕時,您可能希望調用此方法。

## <a name="cpaneallocelements"></a><a name="allocelements"></a>CPane:Alloc元素

分配存儲供內部使用。

```
BOOL AllocElements(
    int nElements,
    int cbElement);
```

### <a name="parameters"></a>參數

*n 元素*<br/>
[在]為其分配存儲的元素數。

*cb 元素*<br/>
[在]元素的大小(以位元組為單位)。

### <a name="return-value"></a>傳回值

如果記憶體分配失敗,則 FALSE;否則,真實。

## <a name="cpaneallowshowonpanemenu"></a><a name="allowshowonpanemenu"></a>CPane::允許顯示上帕內功能表

指定窗格是否列在應用程式的執行時生成的窗格清單中。

```
virtual BOOL AllowShowOnPaneMenu() const;
```

### <a name="return-value"></a>傳回值

如果窗格顯示在清單中,則為 TRUE;如果窗格顯示在清單中,則為 TRUE。否則,FALSE。 基本實現始終返回 TRUE。

### <a name="remarks"></a>備註

AppWizard 生成的應用程式包含一個功能表選項,該選項列出了它包含的窗格。 此方法確定窗格是否顯示在清單中。

## <a name="cpanecalcavailablesize"></a><a name="calcavailablesize"></a>CPane::計算可獲取大小

計算指定矩形和當前視窗矩形之間的大小差異。

```
virtual CSize CalcAvailableSize(CRect rectRequired);
```

### <a name="parameters"></a>參數

*rect 要求*<br/>
[在]所需的矩形。

### <a name="return-value"></a>傳回值

*rect需要*和當前視窗矩形之間的寬度和高度差異。

## <a name="cpanecalcinsiderect"></a><a name="calcinsiderect"></a>CPane::卡內卡雷茨

計算窗格的內部矩形,包括邊框和夾持器。

```cpp
void CalcInsideRect(
    CRect& rect,
    BOOL bHorz) const;
```

### <a name="parameters"></a>參數

*矩形*<br/>
[出]包含窗格工作區的大小和偏移量。

*布霍茲*<br/>
[在]如果窗格是水準方向的,則為 TRUE;如果窗格是水準方向的,則為 TRUE。否則,FALSE。

### <a name="remarks"></a>備註

當框架必須重新計算窗格的佈局時,框架會調用此方法。 *rect*參數填充窗格的工作區的大小和偏移量。 這包括其邊界和夾持器。

## <a name="cpanecalcrecentdockedrect"></a><a name="calcrecentdockedrect"></a>CPane::卡塞雷德多克雷茨

計算最近停靠的矩形。

```cpp
void CalcRecentDockedRect();
```

### <a name="remarks"></a>備註

此方法更新[CPane::m_recentDockInfo](#m_recentdockinfo)。

## <a name="cpanecalcsize"></a><a name="calcsize"></a>CPane::計算

計算窗格的大小。

```
virtual CSize CalcSize(BOOL bVertDock);
```

### <a name="parameters"></a>參數

*bVertDock*<br/>
[在]如果窗格垂直停靠,則為 TRUE,否則為 FALSE。

### <a name="return-value"></a>傳回值

此方法的預設實現返回大小 (0, 0)。

### <a name="remarks"></a>備註

派生類應重寫此方法。

## <a name="cpanecanbedocked"></a><a name="canbedocked"></a>CPane:可以多克

確定窗格是否可以停靠在指定的基本窗格中。

```
virtual BOOL CanBeDocked(CBasePane* pDockBar) const;
```

### <a name="parameters"></a>參數

*pDockBar*<br/>
[在]指定要停靠此窗格的窗格。

### <a name="return-value"></a>傳回值

如果此窗格可以停靠在指定的停靠窗格中,則為 TRUE;否則,FALSE。

### <a name="remarks"></a>備註

框架通常調用此方法來確定窗格是否可以停靠在指定的停靠窗格中。 要確定是否可以停靠窗格,該方法將評估窗格當前啟用的停靠對齊方式。

通過調用[CBasePane::啟用停靠](../../mfc/reference/cbasepane-class.md#enabledocking),可以啟用與框架視窗各個面的停靠。

## <a name="cpanecanbetabbeddocument"></a><a name="canbetabbeddocument"></a>CPane::可標籤文檔

確定窗格是否可以轉換為選項卡式文件。

```
virtual BOOL CanBeTabbedDocument() const;
```

### <a name="return-value"></a>傳回值

如果窗格可以轉換為選項卡式文件,則為 TRUE;否則,FALSE。

### <a name="remarks"></a>備註

如果要阻止將窗格轉換為選項卡式文檔,則在派生類中重寫此方法並返回 FALSE。 選項卡式文件將不會在「視窗位置」功能表中列出。

## <a name="cpaneconverttotabbeddocument"></a><a name="converttotabbeddocument"></a>CPane::轉換到選項卡文件

將可停靠窗格轉換為選項卡式文檔。

```
virtual void ConvertToTabbedDocument(BOOL bActiveTabOnly = TRUE);
```

### <a name="parameters"></a>參數

*b 作用分頁*<br/>
[在]未在`CPane::ConvertToTabbedDocument`中使用。

### <a name="remarks"></a>備註

只能將可停靠的窗格轉換為選項卡式文檔。 關於詳細資訊,請參閱[可停靠窗格::轉換到選項卡文件](../../mfc/reference/cdockablepane-class.md#converttotabbeddocument)。

## <a name="cpanecopystate"></a><a name="copystate"></a>CPane:複製狀態

複製窗格的狀態。

```
virtual void CopyState(CPane* pOrgBar);
```

### <a name="parameters"></a>參數

*pOrgBar*<br/>
[在]指向窗格的指標。

### <a name="remarks"></a>備註

此方法將*pOrgBar*的狀態複製到當前窗格。

## <a name="cpanecreate"></a><a name="create"></a>CPane::創建

創建控制欄並將其附加到[CPane](../../mfc/reference/cpane-class.md)物件。

```
virtual BOOL Create(
    LPCTSTR lpszClassName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    DWORD dwControlBarStyle = AFX_DEFAULT_PANE_STYLE,
    CCreateContext* pContext = NULL);
```

### <a name="parameters"></a>參數

*lpszClass 名稱*<br/>
[在]指定 Windows 類的名稱。

*dwStyle*<br/>
[在]指定視窗樣式屬性。 有關詳細資訊,請參閱[視窗樣式](../../mfc/reference/styles-used-by-mfc.md#window-styles)。

*矩形*<br/>
[在]在用戶端座標中指定*pParentWnd*視窗的初始大小和位置。

*pparentwnd*<br/>
[進出]指定此窗格的父視窗。

*nID*<br/>
[在]指定窗格的識別碼。

*dwControlBar 樣式*<br/>
[在]指定窗格的樣式。 有關詳細資訊,請參閱[CBasePane::創建Ex](../../mfc/reference/cbasepane-class.md#createex)。

*pContext*<br/>
[進出]指定窗格的建立上下文。

### <a name="return-value"></a>傳回值

如果窗格已成功創建,則為 TRUE;如果窗格已成功創建,則為 TRUE。否則,FALSE。

### <a name="remarks"></a>備註

此方法創建 Windows 窗格並將其`CPane`附加到 物件。

如果在調用`Create`之前沒有明確初始化[CPane::m_recentDockInfo,](#m_recentdockinfo)則在浮動或停靠窗格時,參數*rect*將用作矩形。

## <a name="cpanecreatedefaultminiframe"></a><a name="createdefaultminiframe"></a>CPane::建立預設Mini框架

為浮動窗格創建微型框架視窗。

```
virtual CPaneFrameWnd* CreateDefaultMiniframe(CRect rectInitial);
```

### <a name="parameters"></a>參數

*重新初始化*<br/>
[在]指定要創建的微型框架視窗的初始大小和位置(在螢幕座標中)。

### <a name="return-value"></a>傳回值

新創建的微型框架視窗。

### <a name="remarks"></a>備註

框架呼叫此方法,在浮動窗格時創建微型框架視窗。 迷你框架視窗可以是[CPaneFramewnd](../../mfc/reference/cpaneframewnd-class.md)類型,也可以是[CMultiPaneFramewnd](../../mfc/reference/cmultipaneframewnd-class.md)類型。 如果窗格具有AFX_CBRS_FLOAT_MULTI樣式,則創建多微型框架視窗。

小型框架視窗的執行時類別儲存在成員中`CPane::m_pMiniFrameRTC`。 如果您決定創建自定義的微型框架視窗,則可以使用派生類設置此成員。

## <a name="cpanecreateex"></a><a name="createex"></a>CPane::創建Ex

創建控制欄並將其附加到[CPane](../../mfc/reference/cpane-class.md)物件。

```
virtual BOOL CreateEx(
    DWORD dwStyleEx,
    LPCTSTR lpszClassName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    DWORD dwControlBarStyle = AFX_DEFAULT_PANE_STYLE,
    CCreateContext* pContext = NULL);
```

### <a name="parameters"></a>參數

*dwStyleEx*<br/>
[在]指定擴展的視窗樣式屬性。 有關詳細資訊,請參閱[延伸視窗樣式](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles)。

*lpszClass 名稱*<br/>
[在]指定 Windows 類的名稱。

*dwStyle*<br/>
[在]指定視窗樣式屬性。 有關詳細資訊,請參閱[視窗樣式](../../mfc/reference/styles-used-by-mfc.md#window-styles)。

*矩形*<br/>
[在]在用戶端座標中指定*pParentWnd*視窗的初始大小和位置。

*pparentwnd*<br/>
[進出]指定此窗格的父視窗。

*nID*<br/>
[在]指定窗格的識別碼。

*dwControlBar 樣式*<br/>
[在]指定窗格的樣式。 有關詳細資訊,請參閱[CBasePane::創建Ex](../../mfc/reference/cbasepane-class.md#createex)。

*pContext*<br/>
[進出]指定窗格的建立上下文。

### <a name="return-value"></a>傳回值

如果窗格已成功創建,則為 TRUE;如果窗格已成功創建,則為 TRUE。否則,FALSE。

### <a name="remarks"></a>備註

此方法創建 Windows 窗格並將其`CPane`附加到 物件。

如果在調用`CreateEx`之前沒有明確初始化[CPane::m_recentDockInfo,](#m_recentdockinfo)則在浮動或停靠窗格時,參數*rect*將用作矩形。

## <a name="cpanedockbymouse"></a><a name="dockbymouse"></a>CPane::DockbyMouse

使用滑鼠停靠窗格。

```
virtual BOOL DockByMouse(CBasePane* pDockBar);
```

### <a name="parameters"></a>參數

*pDockBar*<br/>
[在]指定要停靠此窗格的基礎窗格。

### <a name="return-value"></a>傳回值

如果窗格已成功停靠,則為 TRUE;如果窗格已成功停靠。否則,FALSE。

## <a name="cpanedockpane"></a><a name="dockpane"></a>CPane::DockPane

將浮動窗格停靠到基本窗格。

```
virtual BOOL DockPane(
    CBasePane* pDockBar,
    LPCRECT lpRect,
    AFX_DOCK_METHOD dockMethod);
```

### <a name="parameters"></a>參數

*pDockBar*<br/>
[進出]指定要將此窗格停靠到的基本窗格。

*lpRect*<br/>
[在]指定要停靠此窗格的基礎窗格上的矩形。

*基方法*<br/>
[在]指定要使用的停靠方法。 可用選項的:

|選項|描述|
|------------|-----------------|
|DM_UNKNOWN|當停靠方法未知時,框架使用此選項。 窗格不存儲其最新的浮動位置。 當不必存儲最近的浮動位置時,還可以使用此選項以程式設計方式停靠窗格。|
|DM_MOUSE|內部使用。|
|DM_DBL_CLICK|按兩下夾持器時,使用此選項。 窗格將重新置放到其最近的停靠位置。 如果通過雙擊取消停靠窗格,則窗格將重新置放到其最近的浮動位置。|
|DM_SHOW|此選項可用於以程式設計方式停靠窗格。 窗格存儲其最新的浮動位置。|
|DM_RECT|窗格停靠在*由 lpRect*指定的區域中。|
|DM_STANDARD|使用此選項時,框架在移動窗格時將窗格繪製為輪廓框架。|

### <a name="return-value"></a>傳回值

如果窗格已成功停靠,則為 TRUE;如果窗格已成功停靠。否則,FALSE。

### <a name="remarks"></a>備註

此方法將窗格停靠到*pDockBar*參數指定的基本窗格。 您必須首先通過調用[CBasePane::啟用停靠](../../mfc/reference/cbasepane-class.md#enabledocking)來啟用停靠。

## <a name="cpanedockpanestandard"></a><a name="dockpanestandard"></a>CPane::D

使用輪廓(標準)停靠來停靠窗格。

```
virtual CPane* DockPaneStandard(BOOL& bWasDocked);
```

### <a name="parameters"></a>參數

*bWasdocked*<br/>
[在]如果窗格已成功停靠,則為 TRUE;如果窗格已成功停靠否則,FALSE。

### <a name="return-value"></a>傳回值

此方法始終返回**此**指標。

### <a name="remarks"></a>備註

此方法僅用於派生自[CDockablePane 類別的窗格](../../mfc/reference/cdockablepane-class.md)。 有關詳細資訊,請參閱[可多克窗格::DockPane標準](../../mfc/reference/cdockablepane-class.md#dockpanestandard)。

## <a name="cpanedocktoframewindow"></a><a name="docktoframewindow"></a>CPane::Docktoframe視窗

將可停靠窗格停靠到框架。

```
virtual BOOL DockToFrameWindow(
    DWORD dwAlignment,
    LPCRECT lpRect = NULL,
    DWORD dwDockFlags = DT_DOCK_LAST,
    CBasePane* pRelativeBar = NULL,
    int nRelativeIndex = -1,
    BOOL bOuterEdge = FALSE);
```

### <a name="parameters"></a>參數

*dwalignment*<br/>
[在]要將窗格停靠到的父框架的一側。

*lpRect*<br/>
[在]指定的大小。

*dwDockFlags*<br/>
[在]忽視。

*相對欄*<br/>
[在]忽視。

*N相對索引*<br/>
[在]忽視。

*bouterEdge*<br/>
[在]如果 TRUE 和*dwAlignment*指定的側有其他可停靠窗格,則窗格將停靠在其他窗格之外,靠近父框架的邊緣。 如果 FALSE,則窗格停靠在工作區的中心較近。

### <a name="return-value"></a>傳回值

如果無法創建窗格分隔符[(CPaneDivider 類](../../mfc/reference/cpanedivider-class.md)) 則 FALSE;否則,真實。

### <a name="remarks"></a>備註

## <a name="cpanedoesallowsiblingbars"></a><a name="doesallowsiblingbars"></a>CPane::D允許同級條形

指示是否可以將另一個窗格停靠在當前窗格停靠的同一行上。

```
virtual BOOL DoesAllowSiblingBars() const;
```

### <a name="return-value"></a>傳回值

如果此窗格可以停靠到與自身相同的行上的另一個窗格,則為 TRUE;否則,FALSE。

### <a name="remarks"></a>備註

您可以通過調用[CPane::設置獨佔行模式](#setexclusiverowmode)來啟用或禁用此行為。

默認情況下,工具列已禁用獨佔行模式,並且功能表欄啟用了獨佔行模式。

## <a name="cpanefloatpane"></a><a name="floatpane"></a>CPane:浮動窗格

浮動窗格。

```
virtual BOOL FloatPane(
    CRect rectFloat,
    AFX_DOCK_METHOD dockMethod = DM_UNKNOWN,
    bool bShow = true);
```

### <a name="parameters"></a>參數

*rectFloat*<br/>
[在]指定在螢幕座標中的位置,以在窗格浮動時定位窗格。

*基方法*<br/>
[在]指定浮動窗格時要使用的停靠方法。 有關可能值的清單,請參閱[CPane::DockPane](#dockpane)。

*b 顯示*<br/>
[在]TRUE 以在浮動時顯示窗格;否則,FALSE。

### <a name="return-value"></a>傳回值

如果窗格已成功浮動,或者窗格無法浮動,則為 TRUE,因為[CBasePane:::canFloat](../../mfc/reference/cbasepane-class.md#canfloat)返回 FALSE;否則,FALSE。

### <a name="remarks"></a>備註

呼叫此方法以將窗格浮動到*rectFloat*參數指定的位置。 此方法會自動為窗格創建父小型框架視窗。

## <a name="cpanegetavailableexpandsize"></a><a name="getavailableexpandsize"></a>CPane::取得可用擴充大小

返回窗格可以展開的金額(以像素為單位)。

```
virtual int GetAvailableExpandSize() const;
```

### <a name="return-value"></a>傳回值

如果窗格水準停靠,則返回值為可用寬度;如果窗格水準停靠,則返回值為可用寬度。否則,返回值為可用高度。

### <a name="remarks"></a>備註

## <a name="cpanegetavailablestretchsize"></a><a name="getavailablestretchsize"></a>CPane:取得可用拉伸大小

返回窗格可以收縮的金額(以像素為單位)。

```
virtual int GetAvailableStretchSize() const;
```

### <a name="return-value"></a>傳回值

窗格可以縮小的金額(以像素為單位)。 如果窗格水準停靠,則此金額為可用寬度;如果窗格水準停靠,則此金額為可用寬度。否則,它是可用的高度。

### <a name="remarks"></a>備註

通過從當前大小[(CWnd:getWindowRect)](../../mfc/reference/cwnd-class.md#getwindowrect)中減去窗格的最小允許大小[(CPane:getMinSize)](#getminsize)來計算可用的拉伸大小。

## <a name="cpanegetborders"></a><a name="getborders"></a>CPane:抓取邊框

返回窗格邊框的寬度。

```
CRect GetBorders() const;
```

### <a name="return-value"></a>傳回值

包含窗格每一側的當前寬度(以像素為單位)的[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。 例如,`left``CRect`物件成員的值是左邊框的寬度。

### <a name="remarks"></a>備註

要設定邊框的大小,請呼叫[CPane::setBorders](#setborders)。

## <a name="cpanegetclienthotspot"></a><a name="getclienthotspot"></a>CPane:獲取客戶熱點

返回窗格*hot spot*的熱點。

```
CPoint GetClientHotSpot() const;
```

### <a name="return-value"></a>傳回值

### <a name="remarks"></a>備註

*熱點*是使用者選擇並保留以移動窗格的窗格上的點。 當窗格從停靠位置移動時,熱點用於平滑動畫。

## <a name="cpanegetdocksiterow"></a><a name="getdocksiterow"></a>CPane:取得 DockSiteRow

返回停靠窗格的停靠行 ( [CDockingPanerow 類](../../mfc/reference/cdockingpanesrow-class.md))。

```
CDockingPanesRow* GetDockSiteRow() const;
```

### <a name="return-value"></a>傳回值

指向`CDockingPanesRow`窗格停靠的停靠行的 *;如果窗格未停靠,則為 NULL。

## <a name="cpanegetexclusiverowmode"></a><a name="getexclusiverowmode"></a>CPane:取得獨佔行模式

確定窗格是否處於獨佔行模式。

```
virtual BOOL GetExclusiveRowMode() const;
```

### <a name="return-value"></a>傳回值

如果窗格處於獨佔行模式,則為 TRUE;如果窗格處於獨佔行模式。否則,FALSE。

### <a name="remarks"></a>備註

有關獨佔行模式的詳細資訊,請參閱[CPane::設定獨佔行模式](#setexclusiverowmode)。

## <a name="cpanegethotspot"></a><a name="gethotspot"></a>CPane:獲取熱點

返回存儲在基礎`CMFCDragFrameImpl`物件中的熱點。

```
CPoint GetHotSpot() const;
```

### <a name="return-value"></a>傳回值

### <a name="remarks"></a>備註

類別`CPane`包含一`CMFCDragFrameImpl`個`m_dragFrameImpl`物件, 負責繪製在標準停靠模式下移動窗格時出現的矩形。 熱點用於在使用者移動窗格時繪製相對於當前滑鼠位置的矩形。

## <a name="cpanegetminsize"></a><a name="getminsize"></a>CPane:取得最小值

檢索窗格的最小允許大小。

```
virtual void GetMinSize(CSize& size) const;
```

### <a name="parameters"></a>參數

*size*<br/>
[出]以`CSize`最小允許大小填充的物件。

### <a name="remarks"></a>備註

## <a name="cpanegetpanename"></a><a name="getpanename"></a>CPane:抓取窗格名稱

檢索窗格的標題。

```
virtual void GetPaneName(CString& strName) const;
```

### <a name="parameters"></a>參數

*strName*<br/>
[出]使用`CString`標題名稱填充的物件。

### <a name="remarks"></a>備註

當窗格停靠或浮動時,窗格標題將顯示在標題區域中。 如果窗格是選項卡式組的一部分,則標題將顯示在選項卡區域中。 如果窗格處於自動隱藏模式,則標題將顯示在`CMFCAutoHideButton`上。

## <a name="cpanegetvirtualrect"></a><a name="getvirtualrect"></a>CPane:取得虛擬重新

取索窗格的*虛擬矩形*。

```cpp
void GetVirtualRect(CRect& rectVirtual) const;
```

### <a name="parameters"></a>參數

*rect虛擬*<br/>
[出]填充`CRect`虛擬矩形的物件。

### <a name="remarks"></a>備註

移動窗格時,框架將窗格的原始位置存儲在虛擬矩形中。 框架可以使用虛擬矩形還原窗格的原始位置。

除非以程式設計方式移動窗格,否則不要調用與虛擬矩形相關的方法。

## <a name="cpaneischangestate"></a><a name="ischangestate"></a>CPane:isChangeState

移動窗格時,此方法分析其相對於其他窗格、停靠行和微型框架視窗的位置,並返回相應的AFX_CS_STATUS值。

```
virtual AFX_CS_STATUS IsChangeState(
    int nOffset,
    CBasePane** ppTargetBar) const;
```

### <a name="parameters"></a>參數

*n位移*<br/>
[在]指定停靠靈敏度。 例如,從停靠行在*nOffset*像素內移動的窗格將停靠。

*ppTargetBar*<br/>
[在]當方法返回時 *,ppTargetBar*包含指向應停靠當前窗格的物件的指標,或者包含 NULL(如果未發生停靠)。

### <a name="return-value"></a>傳回值

以下AFX_CS_STATUS值之一:

|值|描述|
|-----------|-----------------|
|CS_NOTHING|窗格不靠近停靠網站。 框架不停靠窗格。|
|CS_DOCK_IMMEDIATELY|窗格位於停靠網站上,並啟用DT_IMMEDIATE樣式。 框架立即停靠窗格。|
|CS_DELAY_DOCK|窗格位於停靠網站上,該網站是另一個停靠窗格或主框架的邊緣。 當使用者釋放移動時,框架將停靠窗格。|
|CS_DELAY_DOCK_TO_TAB|窗格位於停靠網站上,該網站會導致窗格停靠在選項卡式視窗中。 當窗格位於其他停靠窗格的標題上或選項卡式窗格的選項卡區域時,將發生這種情況。 當使用者釋放移動時,框架將停靠窗格。|

## <a name="cpaneisdragmode"></a><a name="isdragmode"></a>CPane::是德拉格模式

指定是否移動窗格。

```
virtual BOOL IsDragMode() const;
```

### <a name="return-value"></a>傳回值

如果正在移動窗格,則為 TRUE;否則,FALSE。

### <a name="remarks"></a>備註

## <a name="cpaneisinfloatingmultipaneframewnd"></a><a name="isinfloatingmultipaneframewnd"></a>CPane::在漂浮的多窗格框架

指定窗格是否位於多窗格框架視窗中[(CMultiPaneFramewnd 類](../../mfc/reference/cmultipaneframewnd-class.md))。

```
virtual BOOL IsInFloatingMultiPaneFrameWnd() const;
```

### <a name="return-value"></a>傳回值

如果窗格位於多窗格框架視窗中,則為 TRUE;如果窗格位於多窗格框架視窗中,則為 TRUE。否則,FALSE。

### <a name="remarks"></a>備註

只有可停靠的窗格才能浮動在多窗格框架視窗中。 因此,`CPane::IsInFloatingMultiPaneFrameWnd`始終返回 FALSE。

## <a name="cpaneisleftof"></a><a name="isleftof"></a>CPane::是

確定窗格是否位於指定矩形的左側(或上方)。

```
bool IsLeftOf(
    CRect rect,
    bool bWindowRect = true) const;
```

### <a name="parameters"></a>參數

*矩形*<br/>
[在]用於`CRect`比較的物件。

*b 視窗雷ct*<br/>
[在]如果為 TRUE,則假定矩形包含螢幕座標;如果為 TRUE,則假定*rect*包含螢幕座標。如果 FALSE,則假定*rect*包含客戶端座標。

### <a name="return-value"></a>傳回值

### <a name="remarks"></a>備註

如果窗格是水平停靠的,此方法將檢查其位置是否保留為*rect*。 否則,此方法將檢查位置是否高於*rect*。

## <a name="cpaneisresizable"></a><a name="isresizable"></a>CPane:可調整大小

指定窗格是否可調整大小。

```
virtual BOOL IsResizable() const;
```

### <a name="return-value"></a>傳回值

如果窗格可調整大小,則為 TRUE;如果窗格可調整大小,則為 TRUE。否則,FALSE。

### <a name="remarks"></a>備註

基`CPane`物件不可調整大小。

停靠管理器使用可調整大小的標誌來確定窗格佈局。 非可調整大小的窗格始終位於父框架的外邊緣。

不可調整大小的窗格不能駐留在停靠容器中。

## <a name="cpaneistabbed"></a><a name="istabbed"></a>CPane::已選項卡

確定窗格是否已插入到選項卡式視窗的選項卡控制項中。

```
virtual BOOL IsTabbed() const;
```

### <a name="return-value"></a>傳回值

如果窗格已選項卡,則為 TRUE;如果窗格已選項卡式使用。否則,FALSE。

### <a name="remarks"></a>備註

選項卡狀態與浮動、停靠和自動隱藏狀態分開處理。

## <a name="cpaneloadstate"></a><a name="loadstate"></a>CPane:載入狀態

從註冊表載入窗格的狀態。

```
virtual BOOL LoadState(
    LPCTSTR lpszProfileName = NULL,
    int nIndex = -1,
    UINT uiID = (UINT) -1);
```

### <a name="parameters"></a>參數

*lpsz 設定檔名稱*<br/>
[在]設定檔名稱。

*nIndex*<br/>
[在]配置檔索引。

*uiID*<br/>
[在]窗格 ID。

### <a name="return-value"></a>傳回值

如果窗格狀態已成功載入,則為 TRUE;如果窗格狀態已成功載入,則為 TRUE。否則,FALSE。

### <a name="remarks"></a>備註

框架調用此方法從註冊表載入窗格狀態。 在派生類中覆蓋它以載入[由 CPane:::SaveState](#savestate)保存的其他資訊。

重寫此方法時,也會調用基方法,如果基方法返回 FALSE,則返回 FALSE。

## <a name="cpanem_bhandleminsize"></a><a name="m_bhandleminsize"></a>CPane::m_bHandleMinSize

支援一致處理最小窗格大小。

```
AFX_IMPORT_DATA static BOOL m_bHandleMinSize;
```

### <a name="remarks"></a>備註

如果應用程式中的一個或多個停靠窗格覆蓋`GetMinSize`,或者應用程式呼`SetMinSize`叫,則可能需要將此靜態成員設置為 TRUE,以使框架能夠一致地處理窗格的大小。

如果此值設置為 TRUE,則所有大小應縮小到低於其最小大小的窗格都將剪切,而不是拉伸。 由於框架使用視窗區域進行窗格大小調整,因此,如果此值設置為 TRUE,則不要更改停靠窗格的視窗區域的大小。

## <a name="cpanem_recentdockinfo"></a><a name="m_recentdockinfo"></a>CPane:m_recentDockInfo

包含最近的停靠資訊。

```
CRecentDockSiteInfo m_recentDockInfo;
```

### <a name="remarks"></a>備註

框架在此成員中儲存窗格的最新停靠狀態資訊。

## <a name="cpanemovebyalignment"></a><a name="movebyalignment"></a>CPane:移動

按指定數量移動窗格和虛擬矩形。

```
BOOL MoveByAlignment(
    DWORD dwAlignment,
    int nOffset);
```

### <a name="parameters"></a>參數

*dwalignment*<br/>
[在]指定窗格對齊方式。

*n位移*<br/>
[在]移動窗格和虛擬矩形的金額(以像素為單位)。

### <a name="return-value"></a>傳回值

### <a name="remarks"></a>備註

*dwalignment*可以是以下任一值:

|值|描述|
|-----------|-----------------|
|CBRS_ALIGN_TOP|使窗格能夠停靠到框架視窗的工作區的頂部。|
|CBRS_ALIGN_BOTTOM|使窗格能夠停靠到框架視窗的工作區的底部。|
|CBRS_ALIGN_LEFT|使窗格能夠停靠到框架視窗的工作區的左側。|
|CBRS_ALIGN_RIGHT|使窗格能夠停靠到框架視窗的工作區的右側。|
|CBRS_ALIGN_ANY|使窗格能夠停靠到框架視窗的工作區的任何一側。|

如果 dwAlignment 包含CBRS_ALIGN_LEFT或CBRS_ALIGN_RIGHT標誌,則窗格和虛擬矩形將水平移動;如果*dwalignment*包含CBRS_ALIGN_LEFT或CBRS_ALIGN_RIGHT標誌,則移動窗格和虛擬矩形。否則,如果*dwAlignment*包含CBRS_ALIGN_TOP或CBRS_ALIGN_BOTTOM標誌,則窗格和虛擬矩形將垂直移動。

## <a name="cpanemovepane"></a><a name="movepane"></a>CPane:行動窗格

將窗格移至指定的矩形。

```
virtual CSize MovePane(
    CRect rectNew,
    BOOL bForceMove,
    HDWP& hdwp);
```

### <a name="parameters"></a>參數

*重新*<br/>
[在]指定窗格的新矩形。

*bForceMove*<br/>
[在]如果為 TRUE,則此方法將忽略允許的最小窗格大小[(CPane:getMinSize);](#getminsize)否則,如有必要,將調整窗格,以確保它至少是允許的最小大小。

*hdwp*<br/>
[在]未使用。

### <a name="return-value"></a>傳回值

包含`CSize`新舊矩形(舊矩形 - *rectNew)* 之間的寬度和高度差異的物件。

### <a name="remarks"></a>備註

此方法僅用於可停靠的窗格。

## <a name="cpaneonafterchangeparent"></a><a name="onafterchangeparent"></a>CPane:在更改後打開父級

當窗格的父級已更改時由框架調用。

```
virtual void OnAfterChangeParent(CWnd* pWndOldParent);
```

### <a name="parameters"></a>參數

*pWndOld 父級*<br/>
[進出]窗格的上一個父視窗。

### <a name="remarks"></a>備註

當窗格的父級由於停靠或浮動操作而發生更改時,框架將調用此方法。

## <a name="cpaneonafterdock"></a><a name="onafterdock"></a>CPane:在後頭

當窗格已停靠時由框架調用。

```
virtual void OnAfterDock(
    CBasePane* pBar,
    LPCRECT lpRect,
    AFX_DOCK_METHOD dockMethod);
```

### <a name="parameters"></a>參數

*pBar*<br/>
[在]不使用此參數。

*lpRect*<br/>
[在]不使用此參數。

*基方法*<br/>
[在]不使用此參數。

## <a name="cpaneonafterfloat"></a><a name="onafterfloat"></a>CPane:在以後浮動

在窗格浮動後由框架調用。

```
virtual void OnAfterFloat();
```

### <a name="remarks"></a>備註

如果要在窗格浮動后執行任何處理,則可以在派生類中重寫此方法。

## <a name="cpaneonbeforechangeparent"></a><a name="onbeforechangeparent"></a>CPane:在更改父級之前打開

當窗格的父級即將更改時,由框架調用。

```
virtual void OnBeforeChangeParent(
    CWnd* pWndNewParent,
    BOOL bDelay = FALSE);
```

### <a name="parameters"></a>參數

*pWnd 新家長*<br/>
[進出]指定新的父視窗。

*bDelay*<br/>
[在]TRUE 延遲全域對接布局調整;否則,FALSE。

### <a name="remarks"></a>備註

當窗格的父級由於窗格停靠或浮動而即將更改時,框架將調用此方法。

默認情況下,通過調用`CDockSite::RemovePane`未註冊窗格與停靠窗格。

## <a name="cpaneonbeforedock"></a><a name="onbeforedock"></a>CPane::在Dock前

當窗格即將停靠時由框架調用。

```
virtual BOOL OnBeforeDock(
    CBasePane** ppDockBar,
    LPCRECT lpRect,
    AFX_DOCK_METHOD dockMethod);
```

### <a name="parameters"></a>參數

*ppDockBar*<br/>
[進出]指定此窗格停靠到的窗格。

*lpRect*<br/>
[在]指定停靠矩形。

*基方法*<br/>
[在]指定停靠方法。

### <a name="return-value"></a>傳回值

如果窗格可以停靠,則為 TRUE。 如果函數返回 FALSE,則停靠操作將中止。

### <a name="remarks"></a>備註

當窗格即將停靠時,框架將調用此方法。 如果要在最終停靠窗格之前執行任何處理,則可以在派生類中重寫此方法。

## <a name="cpaneonbeforefloat"></a><a name="onbeforefloat"></a>CPane:在漂浮前打開

當窗格即將浮動時,由框架調用。

```
virtual BOOL OnBeforeFloat(
    CRect& rectFloat,
    AFX_DOCK_METHOD dockMethod);
```

### <a name="parameters"></a>參數

*rectFloat*<br/>
[在]指定窗格處於浮動狀態時的位置和大小。

*基方法*<br/>
[在]指定窗格的停靠方法。

### <a name="return-value"></a>傳回值

如果窗格可以浮動,則為 TRUE;否則,FALSE。

### <a name="remarks"></a>備註

當窗格即將浮動時,框架將調用此方法。 如果要在窗格最終浮動之前執行任何處理,則可以在派生類中重寫此方法。

## <a name="cpaneonpressclosebutton"></a><a name="onpressclosebutton"></a>CPane:開啟按鈕

當使用者按下窗格標題上的關閉按鈕時,由框架調用。

```
virtual void OnPressCloseButton();
```

### <a name="remarks"></a>備註

當使用者按下窗格標題上的 **「關閉**」按鈕時,框架將調用此方法。 要接收有關**Close**事件的通知,可以在派生類中重寫此方法。

## <a name="cpaneonshowcontrolbarmenu"></a><a name="onshowcontrolbarmenu"></a>CPane:在顯示控制欄選單

當特殊窗格功能表即將顯示時由架構呼叫。

```
virtual BOOL OnShowControlBarMenu(CPoint point);
```

### <a name="parameters"></a>參數

*點*<br/>
[在]指定功能表位置。

### <a name="return-value"></a>傳回值

如果功能表可以顯示,則為 TRUE;如果功能表可以顯示,則為 TRUE。否則,FALSE。

### <a name="remarks"></a>備註

這個選單包含多個項目,讓您可以指定窗格的行為,即:**浮動**,**停靠**,**並自動隱藏**與**隱藏**。 您可以透過呼叫[CDockingManager::啟用DockSiteMenu,](../../mfc/reference/cdockingmanager-class.md#enabledocksitemenu)為所有窗格啟用此選單。

## <a name="cpanerecalclayout"></a><a name="recalclayout"></a>CPane:Recalclayout

重新計算窗格的佈局資訊。

```
virtual void RecalcLayout();
```

### <a name="remarks"></a>備註

如果窗格已停靠,此方法會將其大小設置為窗格的當前大小來更新窗格的虛擬矩形。

如果窗格是浮動的,此方法會通知父迷你框架將窗格的大小調整為微型框架的大小。 框架確保迷你框架至少是窗格[(CPane:GetMinSize)](#getminsize)的最小允許大小,並在必要時調整微型框架的大小。

## <a name="cpanesavestate"></a><a name="savestate"></a>CPane:儲存狀態

將窗格的狀態保存到註冊表。

```
virtual BOOL SaveState(
    LPCTSTR lpszProfileName = NULL,
    int nIndex = -1,
    UINT uiID = (UINT) -1);
```

### <a name="parameters"></a>參數

*lpsz 設定檔名稱*<br/>
[在]設定檔名稱。

*nIndex*<br/>
[在]配置檔索引。

*uiID*<br/>
[在]窗格 ID。

### <a name="return-value"></a>傳回值

如果成功保存狀態,則為 TRUE;如果狀態已成功保存,則為 TRUE。否則,FALSE。

### <a name="remarks"></a>備註

當框架將窗格的狀態保存到註冊表時,它將調用此方法。 在`SaveState`派生類中重寫以存儲其他資訊。

重寫此方法時,也會調用基方法,如果基方法返回 FALSE,則返回 FALSE。

## <a name="cpanesetactiveingroup"></a><a name="setactiveingroup"></a>CPane:設定活動群組

將窗格標記為活動窗格。

```
virtual void SetActiveInGroup(BOOL bActive);
```

### <a name="parameters"></a>參數

*b 活動*<br/>
[在]指定窗格是否標記為活動狀態的 BOOL。

### <a name="remarks"></a>備註

當顯示可停靠窗格或選擇自動隱藏按鈕時,相應的自動隱藏窗格將標記為活動。

與窗格關聯的自動隱藏按鈕的外觀基於兩個因素。 如果窗格處於活動狀態,並且為`static BOOL CMFCAutoHideButton::m_bOverlappingTabs`TRUE,則框架將顯示自動隱藏按鈕作為圖示和標籤。 對於非活動窗格,框架僅顯示自動隱藏圖示。

如果`CMFCAutoHideButton::m_bOverlappingTabs`為 FALSE,或者窗格不在組中,則框架將顯示關聯的自動隱藏按鈕作為圖示和標籤。

## <a name="cpanesetborders"></a><a name="setborders"></a>CPane:設定邊框

設定窗格的邊框值。

```cpp
void SetBorders(
    int cxLeft = 0,
    int cyTop = 0,
    int cxRight = 0,
    int cyBottom = 0);

void SetBorders(LPCRECT lpRect);
```

### <a name="parameters"></a>參數

*cx 左*<br/>
[在]指定窗格左邊框的寬度(以像素為單位)。

*cyTop*<br/>
[在]指定窗格頂部邊框的寬度(以像素為單位)。

*cxRight*<br/>
[在]指定窗格右邊框的寬度(以像素為單位)。

*cyBottom*<br/>
[在]指定窗格底部邊框的寬度(以像素為單位)。

*lpRect*<br/>
[在]包含窗格每個邊框的寬度(以像素為單位)的[CRect](../../atl-mfc-shared/reference/crect-class.md)物件。

### <a name="remarks"></a>備註

呼叫此函數以設定窗格邊框的大小。

## <a name="cpanesetclienthotspot"></a><a name="setclienthotspot"></a>CPane:設置客戶端熱點

*設置窗格*的熱點。

```cpp
void SetClientHotSpot(const CPoint& ptNew);
```

### <a name="parameters"></a>參數

*pt New*<br/>
[在]指定`CPoint`新熱點的物件。

### <a name="remarks"></a>備註

*熱點*是使用者選擇並保留以移動窗格的窗格上的點。 當窗格從停靠位置拖動時,熱點用於平滑動畫。

## <a name="cpanesetdockstate"></a><a name="setdockstate"></a>CPane:setDockState

還原窗格的停靠狀態資訊。

```
virtual void SetDockState(CDockingManager* pDockManager);
```

### <a name="parameters"></a>參數

*pDock 管理員*<br/>
[在]指向主框架視窗的停靠管理器。

### <a name="remarks"></a>備註

框架調用此方法以還原窗格的最近停靠狀態資訊。 窗格在[CPane::m_recentDockInfo](#m_recentdockinfo)中存儲最近的停靠狀態資訊。 有關詳細資訊,請參閱[CRecentDockSiteInfo 類別](../../mfc/reference/crecentdocksiteinfo-class.md)。

在從外部源載入窗格資訊時,還可以調用此方法來設置停靠狀態。

## <a name="cpanesetexclusiverowmode"></a><a name="setexclusiverowmode"></a>CPane:設定獨佔行模式

啟用或禁用獨佔行模式。

```
virtual void SetExclusiveRowMode(BOOL bExclusive = TRUE);
```

### <a name="parameters"></a>參數

*b 獨家*<br/>
[在]TRUE 以啟用獨佔行模式;否則,FALSE。

### <a name="remarks"></a>備註

呼叫此方法以啟用或禁用獨佔行模式。 當窗格處於獨佔行模式時,它不能與任何其他工具列共用同一行。

默認情況下,所有工具列都禁用了獨佔行模式,並且功能表欄啟用了獨佔行模式。

## <a name="cpanesetminsize"></a><a name="setminsize"></a>CPane:設定最小值

設定窗格的最小允許大小。

```cpp
void SetMinSize(const CSize& size);
```

### <a name="parameters"></a>參數

*size*<br/>
[在]包含`CSize`窗格允許的最小大小的物件。

### <a name="remarks"></a>備註

## <a name="cpanesetvirtualrect"></a><a name="setvirtualrect"></a>CPane:設定虛擬重新

設定窗格的*虛擬矩形*。

```cpp
void SetVirtualRect(
    const CRect& rect,
    BOOL bMapToParent = TRUE);
```

### <a name="parameters"></a>參數

*矩形*<br/>
[在]指定`CRect`要設置的虛擬矩形的物件。

*bMapto 父級*<br/>
[在]如果*矩形*包含相對於父視窗的點,則指定 TRUE。

### <a name="remarks"></a>備註

*虛擬矩形*在移動窗格時儲存窗格的原始位置。 框架可以使用虛擬矩形還原原始位置。

除非以程式設計方式移動窗格,否則不要調用與虛擬矩形相關的方法。

## <a name="cpanesetminiframertc"></a><a name="setminiframertc"></a>CPane:設定MiniFrameRTC

設置預設小型框架視窗的運行時類資訊。

```cpp
void SetMiniFrameRTC(CRuntimeClass* pClass);
```

### <a name="parameters"></a>參數

*pClass*<br/>
[進出]指定小型幀視窗的運行時類資訊。

### <a name="remarks"></a>備註

浮動窗格時,將其放在[CPaneFrameWnd(](../../mfc/reference/cpaneframewnd-class.md)微型框架)視窗中。 您可以提供自定義`CPaneFrameWnd`派生類,在調用[CPane:createDefaultMiniframe](#createdefaultminiframe)時將使用該類。

## <a name="cpanestretchpanedeferwndpos"></a><a name="stretchpanedeferwndpos"></a>CPane::拉伸帕內德溫德波斯

根據停靠樣式垂直或水準拉伸窗格。

```
virtual int StretchPaneDeferWndPos(
    int nStretchSize,
    HDWP& hdwp);
```

### <a name="parameters"></a>參數

*n 拉伸大小*<br/>
[在]拉伸窗格的數量(以像素為單位)。 使用負值收縮窗格。

*hdwp*<br/>
[在]未使用。

### <a name="return-value"></a>傳回值

窗格拉伸的實際量(以像素為單位)。

### <a name="remarks"></a>備註

如有必要,此方法將修改*n 拉伸大小*,以確保窗格不超過大小限制。 這些限制是通過調用[CPane::獲取可用拉伸大小](#getavailablestretchsize)和[CPane:獲取「獲取可用擴展大小](#getavailableexpandsize)」來獲得的。

## <a name="cpanetoggleautohide"></a><a name="toggleautohide"></a>CPane::切換自動隱藏

切換自動隱藏模式。

```
virtual void ToggleAutoHide();
```

### <a name="remarks"></a>備註

呼叫此方法以切換自動隱藏模式。 窗格必須停靠到主框架視窗才能切換到自動隱藏模式。

## <a name="cpaneundockpane"></a><a name="undockpane"></a>CPane:取消板塊窗格

從目前停靠的停靠網站、預設滑塊或微型框架視窗中刪除窗格。

```
virtual void UndockPane(BOOL bDelay = FALSE);
```

### <a name="parameters"></a>參數

*bDelay*<br/>
[在]如果 FALSE,框架將調用[CBasePane::調整停靠佈局](../../mfc/reference/cbasepane-class.md#adjustdockinglayout)以調整停靠佈局。

### <a name="remarks"></a>備註

使用此方法以程式設計方式取消窗格停靠。

## <a name="cpaneupdatevirtualrect"></a><a name="updatevirtualrect"></a>CPane:更新虛擬重新

更新虛擬矩形。

```cpp
void UpdateVirtualRect();
void UpdateVirtualRect(CPoint ptOffset);
void UpdateVirtualRect(CSize sizeNew);
```

### <a name="parameters"></a>參數

*pt 位移*<br/>
[在]指定`CPoint`要移動窗格的偏移量的物件。

*大小新*<br/>
[在]指定`CSize`窗格的新大小的物件。

### <a name="remarks"></a>備註

第一個重載使用窗格的當前位置和大小設置虛擬矩形。

第二個重載將虛擬矩形按*ptOffset*指定的量移動。

第三個重載使用窗格的當前位置和*由 sizeNew*指定的大小設置虛擬矩形。

## <a name="see-also"></a>另請參閱

[階層架構圖表](../../mfc/hierarchy-chart.md)<br/>
[類別](../../mfc/reference/mfc-classes.md)<br/>
[CBasePane 類別](../../mfc/reference/cbasepane-class.md)
