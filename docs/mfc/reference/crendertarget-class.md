---
title: CRenderTarget 類別
ms.date: 03/27/2019
f1_keywords:
- CRenderTarget
- AFXRENDERTARGET/CRenderTarget
- AFXRENDERTARGET/CRenderTarget::CRenderTarget
- AFXRENDERTARGET/CRenderTarget::Attach
- AFXRENDERTARGET/CRenderTarget::BeginDraw
- AFXRENDERTARGET/CRenderTarget::Clear
- AFXRENDERTARGET/CRenderTarget::COLORREF_TO_D2DCOLOR
- AFXRENDERTARGET/CRenderTarget::CreateCompatibleRenderTarget
- AFXRENDERTARGET/CRenderTarget::Destroy
- AFXRENDERTARGET/CRenderTarget::Detach
- AFXRENDERTARGET/CRenderTarget::DrawBitmap
- AFXRENDERTARGET/CRenderTarget::DrawEllipse
- AFXRENDERTARGET/CRenderTarget::DrawGeometry
- AFXRENDERTARGET/CRenderTarget::DrawGlyphRun
- AFXRENDERTARGET/CRenderTarget::DrawLine
- AFXRENDERTARGET/CRenderTarget::DrawRectangle
- AFXRENDERTARGET/CRenderTarget::DrawRoundedRectangle
- AFXRENDERTARGET/CRenderTarget::DrawText
- AFXRENDERTARGET/CRenderTarget::DrawTextLayout
- AFXRENDERTARGET/CRenderTarget::EndDraw
- AFXRENDERTARGET/CRenderTarget::FillEllipse
- AFXRENDERTARGET/CRenderTarget::FillGeometry
- AFXRENDERTARGET/CRenderTarget::FillMesh
- AFXRENDERTARGET/CRenderTarget::FillOpacityMask
- AFXRENDERTARGET/CRenderTarget::FillRectangle
- AFXRENDERTARGET/CRenderTarget::FillRoundedRectangle
- AFXRENDERTARGET/CRenderTarget::Flush
- AFXRENDERTARGET/CRenderTarget::GetAntialiasMode
- AFXRENDERTARGET/CRenderTarget::GetDpi
- AFXRENDERTARGET/CRenderTarget::GetMaximumBitmapSize
- AFXRENDERTARGET/CRenderTarget::GetPixelFormat
- AFXRENDERTARGET/CRenderTarget::GetPixelSize
- AFXRENDERTARGET/CRenderTarget::GetRenderTarget
- AFXRENDERTARGET/CRenderTarget::GetSize
- AFXRENDERTARGET/CRenderTarget::GetTags
- AFXRENDERTARGET/CRenderTarget::GetTextAntialiasMode
- AFXRENDERTARGET/CRenderTarget::GetTextRenderingParams
- AFXRENDERTARGET/CRenderTarget::GetTransform
- AFXRENDERTARGET/CRenderTarget::IsSupported
- AFXRENDERTARGET/CRenderTarget::IsValid
- AFXRENDERTARGET/CRenderTarget::PopAxisAlignedClip
- AFXRENDERTARGET/CRenderTarget::PopLayer
- AFXRENDERTARGET/CRenderTarget::PushAxisAlignedClip
- AFXRENDERTARGET/CRenderTarget::PushLayer
- AFXRENDERTARGET/CRenderTarget::RestoreDrawingState
- AFXRENDERTARGET/CRenderTarget::SaveDrawingState
- AFXRENDERTARGET/CRenderTarget::SetAntialiasMode
- AFXRENDERTARGET/CRenderTarget::SetDpi
- AFXRENDERTARGET/CRenderTarget::SetTags
- AFXRENDERTARGET/CRenderTarget::SetTextAntialiasMode
- AFXRENDERTARGET/CRenderTarget::SetTextRenderingParams
- AFXRENDERTARGET/CRenderTarget::SetTransform
- AFXRENDERTARGET/CRenderTarget::VerifyResource
- AFXRENDERTARGET/CRenderTarget::m_lstResources
- AFXRENDERTARGET/CRenderTarget::m_pRenderTarget
- AFXRENDERTARGET/CRenderTarget::m_pTextFormatDefault
helpviewer_keywords:
- CRenderTarget [MFC], CRenderTarget
- CRenderTarget [MFC], Attach
- CRenderTarget [MFC], BeginDraw
- CRenderTarget [MFC], Clear
- CRenderTarget [MFC], COLORREF_TO_D2DCOLOR
- CRenderTarget [MFC], CreateCompatibleRenderTarget
- CRenderTarget [MFC], Destroy
- CRenderTarget [MFC], Detach
- CRenderTarget [MFC], DrawBitmap
- CRenderTarget [MFC], DrawEllipse
- CRenderTarget [MFC], DrawGeometry
- CRenderTarget [MFC], DrawGlyphRun
- CRenderTarget [MFC], DrawLine
- CRenderTarget [MFC], DrawRectangle
- CRenderTarget [MFC], DrawRoundedRectangle
- CRenderTarget [MFC], DrawText
- CRenderTarget [MFC], DrawTextLayout
- CRenderTarget [MFC], EndDraw
- CRenderTarget [MFC], FillEllipse
- CRenderTarget [MFC], FillGeometry
- CRenderTarget [MFC], FillMesh
- CRenderTarget [MFC], FillOpacityMask
- CRenderTarget [MFC], FillRectangle
- CRenderTarget [MFC], FillRoundedRectangle
- CRenderTarget [MFC], Flush
- CRenderTarget [MFC], GetAntialiasMode
- CRenderTarget [MFC], GetDpi
- CRenderTarget [MFC], GetMaximumBitmapSize
- CRenderTarget [MFC], GetPixelFormat
- CRenderTarget [MFC], GetPixelSize
- CRenderTarget [MFC], GetRenderTarget
- CRenderTarget [MFC], GetSize
- CRenderTarget [MFC], GetTags
- CRenderTarget [MFC], GetTextAntialiasMode
- CRenderTarget [MFC], GetTextRenderingParams
- CRenderTarget [MFC], GetTransform
- CRenderTarget [MFC], IsSupported
- CRenderTarget [MFC], IsValid
- CRenderTarget [MFC], PopAxisAlignedClip
- CRenderTarget [MFC], PopLayer
- CRenderTarget [MFC], PushAxisAlignedClip
- CRenderTarget [MFC], PushLayer
- CRenderTarget [MFC], RestoreDrawingState
- CRenderTarget [MFC], SaveDrawingState
- CRenderTarget [MFC], SetAntialiasMode
- CRenderTarget [MFC], SetDpi
- CRenderTarget [MFC], SetTags
- CRenderTarget [MFC], SetTextAntialiasMode
- CRenderTarget [MFC], SetTextRenderingParams
- CRenderTarget [MFC], SetTransform
- CRenderTarget [MFC], VerifyResource
- CRenderTarget [MFC], m_lstResources
- CRenderTarget [MFC], m_pRenderTarget
- CRenderTarget [MFC], m_pTextFormatDefault
ms.assetid: 30d1607d-68d3-4d14-ac36-fdbd0ef903a1
ms.openlocfilehash: a14a1fba25c8c38c4bcf441dda566f14dc790f76
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "62372143"
---
# <a name="crendertarget-class"></a>CRenderTarget 類別

ID2D1RenderTarget 包裝函式。

## <a name="syntax"></a>語法

```
class CRenderTarget : public CObject;
```

## <a name="members"></a>成員

### <a name="public-constructors"></a>公用建構函式

|名稱|描述|
|----------|-----------------|
|[CRenderTarget::CRenderTarget](#crendertarget)|建構 CRenderTarget 物件。|
|[CRenderTarget::~CRenderTarget](#_dtorcrendertarget)|解構函式。 呈現目標物件正在被終結時呼叫。|

### <a name="public-methods"></a>公用方法

|名稱|描述|
|----------|-----------------|
|[CRenderTarget::Attach](#attach)|將現有的轉譯目標物件的介面|
|[CRenderTarget::BeginDraw](#begindraw)|在此呈現目標上繪製的初始化。|
|[CRenderTarget::Clear](#clear)|清除指定的色彩來繪製的區域。|
|[CRenderTarget::COLORREF_TO_D2DCOLOR](#colorref_to_d2dcolor)|將 D2D1_COLOR_F 物件中的 GDI 色彩和 alpha 值。|
|[CRenderTarget::CreateCompatibleRenderTarget](#createcompatiblerendertarget)|目前的轉譯目標與相容的中繼幕後繪製期間建立新的點陣圖轉譯目標使用。|
|[CRenderTarget::Destroy](#destroy)|刪除一個或多個資源|
|[CRenderTarget::Detach](#detach)|中斷連結物件的轉譯目標介面|
|[CRenderTarget::DrawBitmap](#drawbitmap)|繪製所指定的 IDWriteTextLayout 物件所描述的格式化的文字。|
|[CRenderTarget::DrawEllipse](#drawellipse)|繪製指定的橢圓形使用指定的筆畫樣式的外框。|
|[CRenderTarget::DrawGeometry](#drawgeometry)|繪製外框的使用指定的筆畫樣式所指定幾何。|
|[CRenderTarget::DrawGlyphRun](#drawglyphrun)|繪製指定的字符。|
|[CRenderTarget::DrawLine](#drawline)|使用指定的筆畫樣式指定的點之間繪製一條線。|
|[CRenderTarget::DrawRectangle](#drawrectangle)|繪製外框的矩形具有指定的維度和筆劃樣式。|
|[CRenderTarget::DrawRoundedRectangle](#drawroundedrectangle)|繪製指定的圓角矩形，使用指定的筆畫樣式的外框。|
|[CRenderTarget::DrawText](#drawtext)|繪製指定的文字使用 IDWriteTextFormat 物件所提供的格式資訊。|
|[CRenderTarget::DrawTextLayout](#drawtextlayout)|繪製所指定的 IDWriteTextLayout 物件所描述的格式化的文字。|
|[CRenderTarget::EndDraw](#enddraw)|結束對轉譯目標的繪製作業，並指出目前的錯誤狀態和相關聯的標記。|
|[CRenderTarget::FillEllipse](#fillellipse)|繪製指定的橢圓形內部。|
|[CRenderTarget::FillGeometry](#fillgeometry)|繪製所指定幾何的內部。|
|[CRenderTarget::FillMesh](#fillmesh)|繪製指定的網狀結構的內部。|
|[CRenderTarget::FillOpacityMask](#fillopacitymask)|套用至筆刷指定的點陣圖所描述的不透明度遮罩，並使用筆刷繪製區域的呈現目標。|
|[CRenderTarget::FillRectangle](#fillrectangle)|繪製指定的矩形內部。|
|[CRenderTarget::FillRoundedRectangle](#fillroundedrectangle)|繪製指定的圓角矩形內部。|
|[CRenderTarget::Flush](#flush)|執行所有暫止的繪製命令。|
|[CRenderTarget::GetAntialiasMode](#getantialiasmode)|擷取非文字繪圖作業的目前反鋸齒功能模式。|
|[CRenderTarget::GetDpi](#getdpi)|傳回轉譯目標的每英吋點數 (DPI)|
|[CRenderTarget::GetMaximumBitmapSize](#getmaximumbitmapsize)|取得大小上限，單位為裝置而異 （像素） 的支援轉譯目標的任何一個點陣圖維度|
|[CRenderTarget::GetPixelFormat](#getpixelformat)|擷取轉譯目標像素格式和 alpha 模式|
|[CRenderTarget::GetPixelSize](#getpixelsize)|傳回裝置的像素的呈現目標大小|
|[CRenderTarget::GetRenderTarget](#getrendertarget)|傳回 ID2D1RenderTarget 介面|
|[CRenderTarget::GetSize](#getsize)|傳回與裝置無關的像素的呈現目標大小|
|[CRenderTarget::GetTags](#gettags)|取得後續的繪圖作業的標籤。|
|[CRenderTarget::GetTextAntialiasMode](#gettextantialiasmode)|取得目前的消除鋸齒模式文字和圖像 （glyph） 繪製作業。|
|[CRenderTarget::GetTextRenderingParams](#gettextrenderingparams)|擷取轉譯目標的目前文字呈現選項。|
|[CRenderTarget::GetTransform](#gettransform)|指定的轉換套用到轉譯目標中，取代現有的轉換。 所有後續的繪圖作業會在轉換後的空間發生。|
|[CRenderTarget::IsSupported](#issupported)|指出轉譯目標是否支援指定的屬性|
|[CRenderTarget::IsValid](#isvalid)|檢查資源的有效性|
|[CRenderTarget::PopAxisAlignedClip](#popaxisalignedclip)|移除轉譯目標中的軸對齊的最後一個剪輯。 會呼叫這個方法之後，剪輯不再套用至後續繪圖的作業。|
|[CRenderTarget::PopLayer](#poplayer)|停止重新導向至最後一個 PushLayer 所指定的圖層的繪圖作業呼叫。|
|[CRenderTarget::PushAxisAlignedClip](#pushaxisalignedclip)|移除轉譯目標中的軸對齊的最後一個剪輯。 會呼叫這個方法之後，剪輯不再套用至後續繪圖的作業。|
|[CRenderTarget::PushLayer](#pushlayer)|將指定的圖層加入至呈現目標，讓它收到所有後續的繪圖作業稱為 PopLayer。|
|[CRenderTarget::RestoreDrawingState](#restoredrawingstate)|呈現目標的繪圖狀態設定為指定的 ID2D1DrawingStateBlock 的。|
|[CRenderTarget::SaveDrawingState](#savedrawingstate)|將目前的繪圖狀態儲存至指定 ID2D1DrawingStateBlock 中。|
|[CRenderTarget::SetAntialiasMode](#setantialiasmode)|設定轉譯目標的消除鋸齒功能模式。 消除鋸齒模式適用於所有後續繪製作業，但不包括文字和圖像 （glyph） 繪製作業。|
|[CRenderTarget::SetDpi](#setdpi)|設定的 dots per inch (DPI) 呈現目標。|
|[CRenderTarget::SetTags](#settags)|指定後續的繪圖作業的標籤。|
|[CRenderTarget::SetTextAntialiasMode](#settextantialiasmode)|指定要用於後續的文字和圖像 （glyph） 繪圖作業的消除鋸齒功能模式。|
|[CRenderTarget::SetTextRenderingParams](#settextrenderingparams)|指定要套用至所有後續的文字和繪圖作業的字符的文字呈現選項。|
|[CRenderTarget::SetTransform](#settransform)|多載。 指定的轉換套用到轉譯目標中，取代現有的轉換。 所有後續的繪圖作業會在轉換後的空間發生。|

### <a name="protected-methods"></a>保護方法

|名稱|描述|
|----------|-----------------|
|[CRenderTarget::VerifyResource](#verifyresource)|確認 CD2DResource 物件有效，如果它已不存在，請建立的物件。|

### <a name="public-operators"></a>公用運算子

|名稱|描述|
|----------|-----------------|
|[CRenderTarget::operator ID2D1RenderTarget*](#operator_id2d1rendertarget_star)|傳回 ID2D1RenderTarget 介面|

### <a name="protected-data-members"></a>受保護的資料成員

|名稱|描述|
|----------|-----------------|
|[CRenderTarget::m_lstResources](#m_lstresources)|CD2DResource 物件指標的清單。|
|[CRenderTarget::m_pRenderTarget](#m_prendertarget)|ID2D1RenderTarget 物件的指標。|
|[CRenderTarget::m_pTextFormatDefault](#m_ptextformatdefault)|CD2DTextFormat 物件，其中包含預設的文字格式的指標。|

## <a name="inheritance-hierarchy"></a>繼承階層

[CObject](../../mfc/reference/cobject-class.md)

[CRenderTarget](../../mfc/reference/crendertarget-class.md)

## <a name="requirements"></a>需求

**標頭：** afxrendertarget.h

##  <a name="_dtorcrendertarget"></a>  CRenderTarget::~CRenderTarget

解構函式。 呈現目標物件正在被終結時呼叫。

```
virtual ~CRenderTarget();
```

##  <a name="attach"></a>  CRenderTarget::Attach

將現有的轉譯目標物件的介面

```
void Attach(ID2D1RenderTarget* pRenderTarget);
```

### <a name="parameters"></a>參數

*pRenderTarget*<br/>
現有的轉譯目標介面。 不能是 NULL

##  <a name="begindraw"></a>  CRenderTarget::BeginDraw

在此呈現目標上繪製的初始化。

```
void BeginDraw();
```

##  <a name="clear"></a>  CRenderTarget::Clear

清除指定的色彩來繪製的區域。

```
void Clear(D2D1_COLOR_F color);
```

### <a name="parameters"></a>參數

*color*<br/>
要清除的繪圖區域的色彩。

##  <a name="colorref_to_d2dcolor"></a>  CRenderTarget::COLORREF_TO_D2DCOLOR

將 D2D1_COLOR_F 物件中的 GDI 色彩和 alpha 值。

```
static D2D1_COLOR_F COLORREF_TO_D2DCOLOR(
    COLORREF color,
    int nAlpha = 255);
```

### <a name="parameters"></a>參數

*color*<br/>
RGB 值。

*nAlpha*

### <a name="return-value"></a>傳回值

D2D1_COLOR_F 值。

##  <a name="createcompatiblerendertarget"></a>  CRenderTarget::CreateCompatibleRenderTarget

目前的轉譯目標與相容的中繼幕後繪製期間建立新的點陣圖轉譯目標使用。

```
BOOL CreateCompatibleRenderTarget(
    CBitmapRenderTarget& bitmapTarget,
    CD2DSizeF sizeDesired = CD2DSizeF(0., 0.),
    CD2DSizeU sizePixelDesired = CD2DSizeU(0, 0),
    D2D1_PIXEL_FORMAT* desiredFormat = NULL,
    D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS options = D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS_NONE);
```

### <a name="parameters"></a>參數

*bitmapTarget*<br/>
當這個方法傳回時，包含新的點陣圖轉譯目標的指標位址。 這個參數會以未初始化的狀態傳遞。

*sizeDesired*<br/>
如果應該將它與原始版本不同的裝置獨立像素中新的轉譯目標所需的大小呈現目標，或為 NULL。 如需詳細資訊，請參閱＜備註＞一節。

*sizePixelDesired*<br/>
所需的大小，新的轉譯目標像素為單位，如果應該將它與原始版本不同的呈現目標，或為 NULL。 如需詳細資訊，請參閱＜備註＞一節。

*desiredFormat*<br/>
所需的像素格式和新的 alpha 模式呈現目標，或為 NULL。 如果像素格式設定為 DXGI_FORMAT_UNKNOWN 或這個參數是 null，新的呈現目標做為原始呈現目標，就會使用相同的像素格式。 如果 alpha 模式 D2D1_ALPHA_MODE_UNKNOWN 或這個參數是 NULL，新的轉譯目標的 alpha 模式會預設為 D2D1_ALPHA_MODE_PREMULTIPLIED。 如需支援的像素格式的資訊，請參閱支援的像素格式和 Alpha 模式。

*options*<br/>
值，指定新的轉譯目標必須與 GDI 相容。

### <a name="return-value"></a>傳回值

如果方法成功，它會傳回 TRUE。 否則，它會傳回 FALSE。

##  <a name="crendertarget"></a>  CRenderTarget::CRenderTarget

建構 CRenderTarget 物件。

```
CRenderTarget();
```

##  <a name="destroy"></a>  CRenderTarget::Destroy

刪除一個或多個資源

```
BOOL Destroy(BOOL bDeleteResources = TRUE);
```

### <a name="parameters"></a>參數

*bDeleteResources*<br/>
如果 bDeleteResources 為 TRUE，將會自動終結位於 m_lstResources 中的所有資源。

### <a name="return-value"></a>傳回值

如果方法成功，它會傳回 TRUE。 否則，它會傳回 FALSE

##  <a name="detach"></a>  CRenderTarget::Detach

中斷連結物件的轉譯目標介面

```
ID2D1RenderTarget* Detach ();
```

### <a name="return-value"></a>傳回值

卸離的指標轉譯目標的介面。

##  <a name="drawbitmap"></a>  CRenderTarget::DrawBitmap

繪製所指定的 IDWriteTextLayout 物件所描述的格式化的文字。

```
void DrawBitmap(
    CD2DBitmap* pBitmap,
    const CD2DRectF& rectDest,
    float fOpacity = 1.0,
    D2D1_BITMAP_INTERPOLATION_MODE interpolationMode = D2D1_BITMAP_INTERPOLATION_MODE_LINEAR,
    const CD2DRectF* pRectSrc = NULL);
```

### <a name="parameters"></a>參數

*pBitmap*<br/>
要呈現的點陣圖。

*rectDest*<br/>
大小和位置，以與裝置無關像素轉譯目標的座標空間中，繪製了點陣圖即的區域中。 如果矩形是不正確排序，不繪製任何內容，但是轉譯目標不會進入錯誤狀態。

*fOpacity*<br/>
介於 0.0 和 1.0 f，內含，之間的值，指定要套用至點陣圖; 的不透明度值此值已乘以點陣圖內容的 alpha 值。

*interpolationMode*<br/>
如果點陣圖是縮放或旋轉繪製作業，請使用插補法模式。

*pRectSrc*<br/>
大小和位置，以與裝置無關的像素點陣圖的座標空間中，點陣圖內要繪製的區域中。

##  <a name="drawellipse"></a>  CRenderTarget::DrawEllipse

繪製指定的橢圓形使用指定的筆畫樣式的外框。

```
void DrawEllipse(
    const CD2DEllipse& ellipse,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*ellipse*<br/>
位置與裝置無關的像素繪製橢圓形的半徑。

*pBrush*<br/>
用來繪製橢圓形外框的筆刷。

*fStrokeWidth*<br/>
橢圓形的筆劃粗細。 筆觸被置於橢圓形外框。

*strokeStyle*<br/>
要套用至橢圓形外框或為 NULL 來繪製實心筆劃的筆劃的樣式。

##  <a name="drawgeometry"></a>  CRenderTarget::DrawGeometry

繪製外框的使用指定的筆畫樣式所指定幾何。

```
void DrawGeometry(
    CD2DGeometry* pGeometry,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*pGeometry*<br/>
要繪製的幾何。

*pBrush*<br/>
用來繪製幾何筆劃的筆刷。

*fStrokeWidth*<br/>
幾何筆劃粗細。 筆觸被置於幾何外框。

*strokeStyle*<br/>
要套用至幾何外框或為 NULL 來繪製實心筆劃的筆劃的樣式。

##  <a name="drawglyphrun"></a>  CRenderTarget::DrawGlyphRun

繪製指定的字符。

```
void DrawGlyphRun(
    const CD2DPointF& ptBaseLineOrigin,
    const DWRITE_GLYPH_RUN& glyphRun,
    CD2DBrush* pForegroundBrush,
    DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL);
```

### <a name="parameters"></a>參數

*ptBaseLineOrigin*<br/>
在與裝置無關的像素的圖像 （glyph） 的基準原點。

*glyphRun*<br/>
若要轉譯圖像 （glyph)。

*pForegroundBrush*<br/>
用來繪製指定的字符的筆刷。

*measuringMode*<br/>
值，指出如何使用字符度量來進行格式化時，量值的文字。 預設值是 DWRITE_MEASURING_MODE_NATURAL。

##  <a name="drawline"></a>  CRenderTarget::DrawLine

使用指定的筆畫樣式指定的點之間繪製一條線。

```
void DrawLine(
    const CD2DPointF& ptFrom,
    const CD2DPointF& ptTo,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*ptFrom*<br/>
與裝置無關的像素中，線的起始點。

*ptTo*<br/>
與裝置無關的像素中，線的結束點。

*pBrush*<br/>
用來繪製線條的筆劃的筆刷。

*fStrokeWidth*<br/>
值大於或等於 0.0f 指定筆劃的寬度。 如果未指定此參數，則會預設為 1.0 f。 筆觸是列上置中對齊。

*strokeStyle*<br/>
小畫家，或 NULL 來繪製一條實線筆劃的樣式。

##  <a name="drawrectangle"></a>  CRenderTarget::DrawRectangle

繪製外框的矩形具有指定的維度和筆劃樣式。

```
void DrawRectangle(
    const CD2DRectF& rectangle,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*rectangle*<br/>
若要繪製，在與裝置無關的像素矩形的維度

*pBrush*<br/>
用來繪製矩形的筆劃的筆刷

*fStrokeWidth*<br/>
值大於或等於 0.0f，指定矩形的筆劃的寬度。 筆觸被置於矩形外框。

*strokeStyle*<br/>
小畫家，或 NULL 來繪製實心筆劃的筆劃的樣式。

##  <a name="drawroundedrectangle"></a>  CRenderTarget::DrawRoundedRectangle

繪製指定的圓角矩形，使用指定的筆畫樣式的外框。

```
void DrawRoundedRectangle(
    const CD2DRoundedRect& rectRounded,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*rectRounded*<br/>
要繪製，請在 裝置獨立像素為單位的圓角矩形的維度。

*pBrush*<br/>
用來繪製圓角的矩形外框的筆刷。

*fStrokeWidth*<br/>
圓角的矩形的筆劃的寬度。 筆觸被中心圓角的矩形外框。 預設值為 1.0 f。

*strokeStyle*<br/>
圓角的矩形的筆劃，則為 NULL 來繪製實心筆劃樣式。 預設值是 NULL。

##  <a name="drawtext"></a>  CRenderTarget::DrawText

繪製指定的文字使用 IDWriteTextFormat 物件所提供的格式資訊。

```
void DrawText(
    const CString& strText,
    const CD2DRectF& rectangle,
    CD2DBrush* pForegroundBrush,
    CD2DTextFormat* textFormat = NULL,
    D2D1_DRAW_TEXT_OPTIONS options = D2D1_DRAW_TEXT_OPTIONS_NONE,
    DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL);
```

### <a name="parameters"></a>參數

*strText*<br/>
要繪製的 Unicode 字元陣列指標。

*rectangle*<br/>
在其中繪製文字的區域位置及大小。

*pForegroundBrush*<br/>
用來繪製文字的筆刷。

*textFormat*<br/>
物件，描述要繪製的文字，例如字型、 字型大小及文字方向的詳細資料的格式。

*options*<br/>
值，指出是否將文字應該貼齊像素界限和是否應該裁剪文字版面配置矩形。 預設值是 D2D1_DRAW_TEXT_OPTIONS_NONE，表示文字應該貼齊像素界限，而且它應該不依附配置矩形。

*measuringMode*<br/>
值，指出如何使用字符度量來進行格式化時，量值的文字。 預設值是 DWRITE_MEASURING_MODE_NATURAL。

##  <a name="drawtextlayout"></a>  CRenderTarget::DrawTextLayout

繪製所指定的 IDWriteTextLayout 物件所描述的格式化的文字。

```
void DrawTextLayout(
    const CD2DPointF& ptOrigin,
    CD2DTextLayout* textLayout,
    CD2DBrush* pBrushForeground,
    D2D1_DRAW_TEXT_OPTIONS options = D2D1_DRAW_TEXT_OPTIONS_NONE);
```

### <a name="parameters"></a>參數

*ptOrigin*<br/>
點，以與裝置無關像素，在其中繪製 textLayout 所描述的文字的左上角中所述。

*textLayout*<br/>
繪製格式化的文字。 不是繼承自 ID2D1Resource 任何繪製效果都會被忽略。 如果有繪製效果繼承自 ID2D1Resource 不是筆刷，這個方法會失敗，並呈現目標處於錯誤狀態。

*pBrushForeground*<br/>
用來繪製中還沒有為繪製效果 （IDWriteTextLayout::SetDrawingEffect 方法所指定） 與它相關聯的筆刷的 textLayout 的任何文字的筆刷。

*options*<br/>
值，指出是否將文字應該貼齊像素界限和是否應該裁剪文字版面配置矩形。 預設值是 D2D1_DRAW_TEXT_OPTIONS_NONE，表示文字應該貼齊像素界限，而且它應該不依附配置矩形。

##  <a name="enddraw"></a>  CRenderTarget::EndDraw

結束對轉譯目標的繪製作業，並指出目前的錯誤狀態和相關聯的標記。

```
HRESULT EndDraw();
```

### <a name="return-value"></a>傳回值

如果方法成功，它會傳回 S_OK。 否則，它會傳回 HRESULT 錯誤碼。

##  <a name="fillellipse"></a>  CRenderTarget::FillEllipse

繪製指定的橢圓形內部。

```
void FillEllipse(
    const CD2DEllipse& ellipse,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>參數

*ellipse*<br/>
位置和半徑，以與裝置無關的像素，來繪製橢圓形。

*pBrush*<br/>
筆刷，用來繪製橢圓形內部。

##  <a name="fillgeometry"></a>  CRenderTarget::FillGeometry

繪製所指定幾何的內部。

```
void FillGeometry(
    CD2DGeometry* pGeometry,
    CD2DBrush* pBrush,
    CD2DBrush* pOpacityBrush = NULL);
```

### <a name="parameters"></a>參數

*pGeometry*<br/>
要繪製的幾何。

*pBrush*<br/>
內部的筆刷，用來繪製幾何。

*pOpacityBrush*<br/>
若要套用至幾何; 不透明度遮罩沒有不透明度遮罩是 NULL。 如果指定不透明度遮罩 （opacityBrush 參數），則筆刷就必須要有其 x 和 y 擴充的模式設定為 D2D1_EXTEND_MODE_CLAMP ID2D1BitmapBrush。 如需詳細資訊，請參閱＜備註＞一節。

##  <a name="fillmesh"></a>  CRenderTarget::FillMesh

繪製指定的網狀結構的內部。

```
void FillMesh(
    CD2DMesh* pMesh,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>參數

*pMesh*<br/>
若要繪製網格。

*pBrush*<br/>
用來繪製網格的筆刷。

##  <a name="fillopacitymask"></a>  CRenderTarget::FillOpacityMask

套用至筆刷指定的點陣圖所描述的不透明度遮罩，並使用筆刷繪製區域的呈現目標。

```
void FillOpacityMask(
    CD2DBitmap* pOpacityMask,
    CD2DBrush* pBrush,
    D2D1_OPACITY_MASK_CONTENT content,
    const CD2DRectF& rectDest,
    const CD2DRectF& rectSrc);
```

### <a name="parameters"></a>參數

*pOpacityMask*<br/>
位置和半徑，以與裝置無關的像素，來繪製橢圓形。

*pBrush*<br/>
筆刷，用來繪製 destinationRectangle 所指定的轉譯目標的區域。

*內容*<br/>
不是透明度遮罩所包含的內容類型。 值用來判斷在其混合的不透明遮罩的色彩空間。

*rectDest*<br/>
若要繪製，在與裝置無關的像素的呈現目標的區域。

*rectSrc*<br/>
將作為不透明度遮罩，以與裝置無關的像素點陣圖的區域。

##  <a name="fillrectangle"></a>  CRenderTarget::FillRectangle

繪製指定的矩形內部。

```
void FillRectangle(
    const CD2DRectF& rectangle,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>參數

*rectangle*<br/>
若要繪製，在與裝置無關的像素矩形的維度。

*pBrush*<br/>
用來繪製矩形的筆刷的內部。

##  <a name="fillroundedrectangle"></a>  CRenderTarget::FillRoundedRectangle

繪製指定的圓角矩形內部。

```
void FillRoundedRectangle(
    const CD2DRoundedRect& rectRounded,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>參數

*rectRounded*<br/>
若要繪製，與裝置無關的像素的圓角矩形的維度。

*pBrush*<br/>
用來繪製圓角矩形內部的筆刷。

##  <a name="flush"></a>  CRenderTarget::Flush

執行所有暫止的繪製命令。

```
void Flush(
    D2D1_TAG* tag1 = NULL,
    D2D1_TAG* tag2 = NULL);
```

### <a name="parameters"></a>參數

*tag1*<br/>
包含繪製作業造成錯誤或 0，如果沒有任何錯誤的標記。 這個參數會以未初始化的狀態傳遞。

*tag2*<br/>
包含繪製作業造成錯誤或 0，如果沒有任何錯誤的標記。 這個參數會以未初始化的狀態傳遞。

##  <a name="getantialiasmode"></a>  CRenderTarget::GetAntialiasMode

擷取非文字繪圖作業的目前反鋸齒功能模式。

```
D2D1_ANTIALIAS_MODE GetAntialiasMode() const;
```

### <a name="return-value"></a>傳回值

非文字繪圖作業的目前反鋸齒功能模式。

##  <a name="getdpi"></a>  CRenderTarget::GetDpi

傳回轉譯目標的每英吋點數 (DPI)

```
CD2DSizeF GetDpi() const;
```

### <a name="return-value"></a>傳回值

呈現目標的每英吋點數 (DPI)。

##  <a name="getmaximumbitmapsize"></a>  CRenderTarget::GetMaximumBitmapSize

取得大小上限，單位為裝置而異 （像素） 的支援轉譯目標的任何一個點陣圖維度

```
UINT32 GetMaximumBitmapSize() const;
```

### <a name="return-value"></a>傳回值

大小上限，單位為像素轉譯目標所支援的任何一個點陣圖維度

##  <a name="getpixelformat"></a>  CRenderTarget::GetPixelFormat

擷取轉譯目標像素格式和 alpha 模式

```
D2D1_PIXEL_FORMAT GetPixelFormat() const;
```

### <a name="return-value"></a>傳回值

轉譯目標像素格式和 alpha 模式

##  <a name="getpixelsize"></a>  CRenderTarget::GetPixelSize

傳回裝置的像素的呈現目標大小

```
CD2DSizeU GetPixelSize() const;
```

### <a name="return-value"></a>傳回值

裝置的像素轉譯目標的大小

##  <a name="getrendertarget"></a>  CRenderTarget::GetRenderTarget

傳回 ID2D1RenderTarget 介面

```
ID2D1RenderTarget* GetRenderTarget();
```

### <a name="return-value"></a>傳回值

如果物件尚未初始化為 NULL 的 ID2D1RenderTarget 介面的指標。

##  <a name="getsize"></a>  CRenderTarget::GetSize

傳回與裝置無關的像素的呈現目標大小

```
CD2DSizeF GetSize() const;
```

### <a name="return-value"></a>傳回值

目前的轉譯目標中與裝置無關的像素為單位的大小

##  <a name="gettags"></a>  CRenderTarget::GetTags

取得後續的繪圖作業的標籤。

```
void GetTags(
    D2D1_TAG* tag1 = NULL,
    D2D1_TAG* tag2 = NULL) const;
```

### <a name="parameters"></a>參數

*tag1*<br/>
包含後續繪圖作業的第一個標籤。 這個參數會以未初始化的狀態傳遞。 如果指定了 NULL，這個參數會不擷取任何值。

*tag2*<br/>
包含後續繪圖作業的第二個標籤。 這個參數會以未初始化的狀態傳遞。 如果指定了 NULL，這個參數會不擷取任何值。

##  <a name="gettextantialiasmode"></a>  CRenderTarget::GetTextAntialiasMode

取得目前的消除鋸齒模式文字和圖像 （glyph） 繪製作業。

```
D2D1_TEXT_ANTIALIAS_MODE GetTextAntialiasMode() const;
```

### <a name="return-value"></a>傳回值

目前反鋸齒功能之文字和繪圖作業的圖像 （glyph） 的模式。

##  <a name="gettextrenderingparams"></a>  CRenderTarget::GetTextRenderingParams

擷取轉譯目標的目前文字呈現選項。

```
void GetTextRenderingParams(IDWriteRenderingParams** textRenderingParams);
```

### <a name="parameters"></a>參數

*textRenderingParams*<br/>
當這個方法傳回時，目前 textRenderingParamscontains 到轉譯目標的指標位址的文字呈現選項。

##  <a name="gettransform"></a>  CRenderTarget::GetTransform

指定的轉換套用到轉譯目標中，取代現有的轉換。 所有後續的繪圖作業會在轉換後的空間發生。

```
void GetTransform(D2D1_MATRIX_3X2_F* transform);
```

### <a name="parameters"></a>參數

*transform*<br/>
要套用到轉譯目標的轉換。

##  <a name="issupported"></a>  CRenderTarget::IsSupported

指出轉譯目標是否支援指定的屬性

```
BOOL IsSupported(const D2D1_RENDER_TARGET_PROPERTIES& renderTargetProperties) const;
```

### <a name="parameters"></a>參數

*renderTargetProperties*<br/>
若要測試的轉譯目標屬性

### <a name="return-value"></a>傳回值

如果指定的呈現目標屬性會受到此轉譯目標;，則為 TRUE。否則為 FALSE

##  <a name="isvalid"></a>  CRenderTarget::IsValid

檢查資源的有效性

```
BOOL IsValid() const;
```

### <a name="return-value"></a>傳回值

如果資源無效，則為 TRUE否則為 FALSE。

##  <a name="m_lstresources"></a>  CRenderTarget::m_lstResources

CD2DResource 物件指標的清單。

```
CObList m_lstResources;
```

##  <a name="m_prendertarget"></a>  CRenderTarget::m_pRenderTarget

ID2D1RenderTarget 物件的指標。

```
ID2D1RenderTarget* m_pRenderTarget;
```

##  <a name="m_ptextformatdefault"></a>  CRenderTarget::m_pTextFormatDefault

CD2DTextFormat 物件，其中包含預設的文字格式的指標。

```
CD2DTextFormat* m_pTextFormatDefault;
```

##  <a name="operator_id2d1rendertarget_star"></a>  CRenderTarget::operator ID2D1RenderTarget*

傳回 ID2D1RenderTarget 介面

```
operator ID2D1RenderTarget*();
```

### <a name="return-value"></a>傳回值

如果物件尚未初始化為 NULL 的 ID2D1RenderTarget 介面的指標。

##  <a name="popaxisalignedclip"></a>  CRenderTarget::PopAxisAlignedClip

移除轉譯目標中的軸對齊的最後一個剪輯。 會呼叫這個方法之後，剪輯不再套用至後續繪圖的作業。

```
void PopAxisAlignedClip();
```

##  <a name="poplayer"></a>  CRenderTarget::PopLayer

停止重新導向至最後一個 PushLayer 所指定的圖層的繪圖作業呼叫。

```
void PopLayer();
```

##  <a name="pushaxisalignedclip"></a>  CRenderTarget::PushAxisAlignedClip

移除轉譯目標中的軸對齊的最後一個剪輯。 會呼叫這個方法之後，剪輯不再套用至後續繪圖的作業。

```
void PushAxisAlignedClip(
    const CD2DRectF& rectClip,
    D2D1_ANTIALIAS_MODE mode = D2D1_ANTIALIAS_MODE_PER_PRIMITIVE);
```

### <a name="parameters"></a>參數

*rectClip*<br/>
大小和位置的裁剪區域中，以與裝置無關的像素為單位。

*mode*<br/>
用來繪製有子像素界限的裁剪矩形的邊緣，以及 blend 的場景內容裁剪反鋸齒功能模式。 之後當 PopAxisAlignedClip 方法呼叫，並不會套用至圖層內的每個基本型別，則會執行混合。

##  <a name="pushlayer"></a>  CRenderTarget::PushLayer

將指定的圖層加入至呈現目標，讓它收到所有後續的繪圖作業稱為 PopLayer。

```
void PushLayer(
    const D2D1_LAYER_PARAMETERS& layerParameters,
    CD2DLayer& layer);
```

### <a name="parameters"></a>參數

*layerParameters*<br/>
內容繫結、 幾何的遮罩、 不透明度、 不透明度遮罩和圖層的消除鋸齒選項。

*layer*<br/>
接收後續的繪圖作業的圖層。

##  <a name="restoredrawingstate"></a>  CRenderTarget::RestoreDrawingState

呈現目標的繪圖狀態設定為指定的 ID2D1DrawingStateBlock 的。

```
void RestoreDrawingState(ID2D1DrawingStateBlock& drawingStateBlock);
```

### <a name="parameters"></a>參數

*drawingStateBlock*<br/>
呈現目標的新繪圖的狀態。

##  <a name="savedrawingstate"></a>  CRenderTarget::SaveDrawingState

將目前的繪圖狀態儲存至指定 ID2D1DrawingStateBlock 中。

```
void SaveDrawingState(ID2D1DrawingStateBlock& drawingStateBlock) const;
```

### <a name="parameters"></a>參數

*drawingStateBlock*<br/>
當這個方法傳回時，包含呈現目標繪圖的目前狀態。 這個參數必須先初始化，再將其傳遞至方法。

##  <a name="setantialiasmode"></a>  CRenderTarget::SetAntialiasMode

設定轉譯目標的消除鋸齒功能模式。 消除鋸齒模式適用於所有後續繪製作業，但不包括文字和圖像 （glyph） 繪製作業。

```
void SetAntialiasMode(D2D1_ANTIALIAS_MODE antialiasMode);
```

### <a name="parameters"></a>參數

*antialiasMode*<br/>
未來的繪圖作業的消除鋸齒功能模式。

##  <a name="setdpi"></a>  CRenderTarget::SetDpi

設定的 dots per inch (DPI) 呈現目標。

```
void SetDpi(const CD2DSizeF& sizeDPI);
```

### <a name="parameters"></a>參數

*sizeDPI*<br/>
大於或等於零的值會指定轉譯目標水平/verticalDPI。

##  <a name="settags"></a>  CRenderTarget::SetTags

指定後續的繪圖作業的標籤。

```
void SetTags(
    D2D1_TAG tag1,
    D2D1_TAG tag2);
```

### <a name="parameters"></a>參數

*tag1*<br/>
標籤以套用至後續繪圖的作業。

*tag2*<br/>
標籤以套用至後續繪圖的作業。

##  <a name="settextantialiasmode"></a>  CRenderTarget::SetTextAntialiasMode

指定要用於後續的文字和圖像 （glyph） 繪圖作業的消除鋸齒功能模式。

```
void SetTextAntialiasMode(D2D1_TEXT_ANTIALIAS_MODE textAntialiasMode);
```

### <a name="parameters"></a>參數

*textAntialiasMode*<br/>
要用於後續的文字和繪圖作業的圖像 （glyph） 的反鋸齒功能模式。

##  <a name="settextrenderingparams"></a>  CRenderTarget::SetTextRenderingParams

指定要套用至所有後續的文字和繪圖作業的字符的文字呈現選項。

```
void SetTextRenderingParams(IDWriteRenderingParams* textRenderingParams = NULL);
```

### <a name="parameters"></a>參數

*textRenderingParams*<br/>
文字轉譯選項套用至所有後續的文字和圖像 （glyph） 繪製作業;NULL 以清除目前的文字呈現選項。

##  <a name="settransform"></a>  CRenderTarget::SetTransform

指定的轉換套用到轉譯目標中，取代現有的轉換。 所有後續的繪圖作業會在轉換後的空間發生。

```
void SetTransform(const D2D1_MATRIX_3X2_F* transform);
void SetTransform(const D2D1_MATRIX_3X2_F& transform);
```

### <a name="parameters"></a>參數

*transform*<br/>
要套用到轉譯目標的轉換。

##  <a name="verifyresource"></a>  CRenderTarget::VerifyResource

確認 CD2DResource 物件有效，如果它已不存在，請建立的物件。

```
BOOL VerifyResource(CD2DResource* pResource);
```

### <a name="parameters"></a>參數

*pResource*<br/>
CD2DResource 物件指標。

### <a name="return-value"></a>傳回值

是物件，如果有效，則為 TRUE否則為 FALSE。

## <a name="see-also"></a>另請參閱

[類別](../../mfc/reference/mfc-classes.md)
