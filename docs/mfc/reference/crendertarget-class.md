---
title: CRenderTarget 類別
ms.date: 03/27/2019
f1_keywords:
- CRenderTarget
- AFXRENDERTARGET/CRenderTarget
- AFXRENDERTARGET/CRenderTarget::CRenderTarget
- AFXRENDERTARGET/CRenderTarget::Attach
- AFXRENDERTARGET/CRenderTarget::BeginDraw
- AFXRENDERTARGET/CRenderTarget::Clear
- AFXRENDERTARGET/CRenderTarget::COLORREF_TO_D2DCOLOR
- AFXRENDERTARGET/CRenderTarget::CreateCompatibleRenderTarget
- AFXRENDERTARGET/CRenderTarget::Destroy
- AFXRENDERTARGET/CRenderTarget::Detach
- AFXRENDERTARGET/CRenderTarget::DrawBitmap
- AFXRENDERTARGET/CRenderTarget::DrawEllipse
- AFXRENDERTARGET/CRenderTarget::DrawGeometry
- AFXRENDERTARGET/CRenderTarget::DrawGlyphRun
- AFXRENDERTARGET/CRenderTarget::DrawLine
- AFXRENDERTARGET/CRenderTarget::DrawRectangle
- AFXRENDERTARGET/CRenderTarget::DrawRoundedRectangle
- AFXRENDERTARGET/CRenderTarget::DrawText
- AFXRENDERTARGET/CRenderTarget::DrawTextLayout
- AFXRENDERTARGET/CRenderTarget::EndDraw
- AFXRENDERTARGET/CRenderTarget::FillEllipse
- AFXRENDERTARGET/CRenderTarget::FillGeometry
- AFXRENDERTARGET/CRenderTarget::FillMesh
- AFXRENDERTARGET/CRenderTarget::FillOpacityMask
- AFXRENDERTARGET/CRenderTarget::FillRectangle
- AFXRENDERTARGET/CRenderTarget::FillRoundedRectangle
- AFXRENDERTARGET/CRenderTarget::Flush
- AFXRENDERTARGET/CRenderTarget::GetAntialiasMode
- AFXRENDERTARGET/CRenderTarget::GetDpi
- AFXRENDERTARGET/CRenderTarget::GetMaximumBitmapSize
- AFXRENDERTARGET/CRenderTarget::GetPixelFormat
- AFXRENDERTARGET/CRenderTarget::GetPixelSize
- AFXRENDERTARGET/CRenderTarget::GetRenderTarget
- AFXRENDERTARGET/CRenderTarget::GetSize
- AFXRENDERTARGET/CRenderTarget::GetTags
- AFXRENDERTARGET/CRenderTarget::GetTextAntialiasMode
- AFXRENDERTARGET/CRenderTarget::GetTextRenderingParams
- AFXRENDERTARGET/CRenderTarget::GetTransform
- AFXRENDERTARGET/CRenderTarget::IsSupported
- AFXRENDERTARGET/CRenderTarget::IsValid
- AFXRENDERTARGET/CRenderTarget::PopAxisAlignedClip
- AFXRENDERTARGET/CRenderTarget::PopLayer
- AFXRENDERTARGET/CRenderTarget::PushAxisAlignedClip
- AFXRENDERTARGET/CRenderTarget::PushLayer
- AFXRENDERTARGET/CRenderTarget::RestoreDrawingState
- AFXRENDERTARGET/CRenderTarget::SaveDrawingState
- AFXRENDERTARGET/CRenderTarget::SetAntialiasMode
- AFXRENDERTARGET/CRenderTarget::SetDpi
- AFXRENDERTARGET/CRenderTarget::SetTags
- AFXRENDERTARGET/CRenderTarget::SetTextAntialiasMode
- AFXRENDERTARGET/CRenderTarget::SetTextRenderingParams
- AFXRENDERTARGET/CRenderTarget::SetTransform
- AFXRENDERTARGET/CRenderTarget::VerifyResource
- AFXRENDERTARGET/CRenderTarget::m_lstResources
- AFXRENDERTARGET/CRenderTarget::m_pRenderTarget
- AFXRENDERTARGET/CRenderTarget::m_pTextFormatDefault
helpviewer_keywords:
- CRenderTarget [MFC], CRenderTarget
- CRenderTarget [MFC], Attach
- CRenderTarget [MFC], BeginDraw
- CRenderTarget [MFC], Clear
- CRenderTarget [MFC], COLORREF_TO_D2DCOLOR
- CRenderTarget [MFC], CreateCompatibleRenderTarget
- CRenderTarget [MFC], Destroy
- CRenderTarget [MFC], Detach
- CRenderTarget [MFC], DrawBitmap
- CRenderTarget [MFC], DrawEllipse
- CRenderTarget [MFC], DrawGeometry
- CRenderTarget [MFC], DrawGlyphRun
- CRenderTarget [MFC], DrawLine
- CRenderTarget [MFC], DrawRectangle
- CRenderTarget [MFC], DrawRoundedRectangle
- CRenderTarget [MFC], DrawText
- CRenderTarget [MFC], DrawTextLayout
- CRenderTarget [MFC], EndDraw
- CRenderTarget [MFC], FillEllipse
- CRenderTarget [MFC], FillGeometry
- CRenderTarget [MFC], FillMesh
- CRenderTarget [MFC], FillOpacityMask
- CRenderTarget [MFC], FillRectangle
- CRenderTarget [MFC], FillRoundedRectangle
- CRenderTarget [MFC], Flush
- CRenderTarget [MFC], GetAntialiasMode
- CRenderTarget [MFC], GetDpi
- CRenderTarget [MFC], GetMaximumBitmapSize
- CRenderTarget [MFC], GetPixelFormat
- CRenderTarget [MFC], GetPixelSize
- CRenderTarget [MFC], GetRenderTarget
- CRenderTarget [MFC], GetSize
- CRenderTarget [MFC], GetTags
- CRenderTarget [MFC], GetTextAntialiasMode
- CRenderTarget [MFC], GetTextRenderingParams
- CRenderTarget [MFC], GetTransform
- CRenderTarget [MFC], IsSupported
- CRenderTarget [MFC], IsValid
- CRenderTarget [MFC], PopAxisAlignedClip
- CRenderTarget [MFC], PopLayer
- CRenderTarget [MFC], PushAxisAlignedClip
- CRenderTarget [MFC], PushLayer
- CRenderTarget [MFC], RestoreDrawingState
- CRenderTarget [MFC], SaveDrawingState
- CRenderTarget [MFC], SetAntialiasMode
- CRenderTarget [MFC], SetDpi
- CRenderTarget [MFC], SetTags
- CRenderTarget [MFC], SetTextAntialiasMode
- CRenderTarget [MFC], SetTextRenderingParams
- CRenderTarget [MFC], SetTransform
- CRenderTarget [MFC], VerifyResource
- CRenderTarget [MFC], m_lstResources
- CRenderTarget [MFC], m_pRenderTarget
- CRenderTarget [MFC], m_pTextFormatDefault
ms.assetid: 30d1607d-68d3-4d14-ac36-fdbd0ef903a1
ms.openlocfilehash: 1b165b485e067120477de560d2091c448e02fe44
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/14/2020
ms.locfileid: "81368335"
---
# <a name="crendertarget-class"></a>CRenderTarget 類別

ID2D1RenderTarget 的包裝器。

## <a name="syntax"></a>語法

```
class CRenderTarget : public CObject;
```

## <a name="members"></a>成員

### <a name="public-constructors"></a>公用建構函式

|名稱|描述|
|----------|-----------------|
|[CRender 目標::CRender目標](#crendertarget)|構造 CRenderTarget 物件。|
|[CRender 目標::*CRender目標](#_dtorcrendertarget)|解構函式。 銷毀渲染目標物件時調用。|

### <a name="public-methods"></a>公用方法

|名稱|描述|
|----------|-----------------|
|[CRender 目標::附加](#attach)|將現有渲染目標介面附加到物件|
|[CRender 目標::開始繪製](#begindraw)|在此渲染目標上啟動繪圖。|
|[CRender 目標::清除](#clear)|將繪圖區域清除為指定顏色。|
|[CRender目標::COLORREF_TO_D2DCOLOR](#colorref_to_d2dcolor)|將 GDI 顏色和 alpha 值轉換為D2D1_COLOR_F物件。|
|[CRender 目標::建立相容渲染目標](#createcompatiblerendertarget)|創建一個新的位圖渲染目標,用於與當前渲染目標相容的中間螢幕外繪圖期間。|
|[CRender目標::D](#destroy)|刪除一個或多個資源|
|[CRender目標::D](#detach)|從物件分離成成目標介面|
|[CRender 目標::D原始點陣圖](#drawbitmap)|繪製指定的 IDWriteTextLayout 物件描述的格式化文字。|
|[CRender目標::D原始橢圓](#drawellipse)|使用指定的描邊樣式繪製指定橢圓的輪廓。|
|[CRender目標::D原始幾何](#drawgeometry)|使用指定的描邊樣式繪製指定幾何體的輪廓。|
|[CRender 目標::D原始字形Run](#drawglyphrun)|繪製指定的字形。|
|[CRender目標::D原始線](#drawline)|使用指定的描邊樣式在指定點之間繪製一條線。|
|[CRender 目標::D原始矩形](#drawrectangle)|繪製具有指定尺寸和描邊樣式的矩形的輪廓。|
|[CRender目標::D原始圓角矩形](#drawroundedrectangle)|使用指定的描邊樣式繪製指定圓角矩形的輪廓。|
|[CRenderTarget::D原始文本](#drawtext)|使用 IDWriteTextFormat 物件提供的格式資訊繪製指定的文本。|
|[CRender 目標::D原始文字佈局](#drawtextlayout)|繪製指定的 IDWriteTextLayout 物件描述的格式化文字。|
|[CRender 目標::結束繪製](#enddraw)|結束渲染目標的繪圖操作,並指示當前錯誤狀態和關聯的標記。|
|[CRender目標::填充橢圓](#fillellipse)|繪製指定橢圓的內部。|
|[CRender 目標::填充幾何](#fillgeometry)|繪製指定幾何體的內部。|
|[CRender 目標::填充格格](#fillmesh)|繪製指定網格的內部。|
|[CRender 目標::填充不一次蒙版](#fillopacitymask)|將指定點陣圖描述的不平性蒙版應用於畫筆,並使用該畫筆繪製渲染目標的區域。|
|[CRender 目標::填充矩形](#fillrectangle)|繪製指定矩形的內部。|
|[CRender 目標::填充四捨五入矩形](#fillroundedrectangle)|繪製指定圓角矩形的內部。|
|[CRender 目標::刷新](#flush)|執行所有掛起的圖形命令。|
|[CRender目標::獲取安蒂利亞模式](#getantialiasmode)|檢索非文字繪圖操作的當前反鋸齒模式。|
|[CRender目標::GetDpi](#getdpi)|傳回成目標的點/英吋 (DPI)|
|[CRender 目標::取得最大位圖大小](#getmaximumbitmapsize)|取得成一個一個位圖維度的最大大小(以與裝置相關的單位(像素)|
|[CRender 目標::取得像素格式](#getpixelformat)|以基礎的像素格式和 Alpha 模式|
|[CRender 目標::取得像素大小](#getpixelsize)|以裝置像素為單位傳回成目標大小|
|[CRender目標::取得渲染目標](#getrendertarget)|傳回 ID2D1RenderTarget 介面|
|[CRender 目標::取得大小](#getsize)|傳回與裝置的像素的成成目標的大小|
|[CRender 目標::取得標記](#gettags)|獲取後續繪圖操作的標籤。|
|[CRender 目標::取得文字Antialias模式](#gettextantialiasmode)|獲取文本和字形繪圖操作的當前防鋸齒模式。|
|[CRender 目標::取得文字的成參數](#gettextrenderingparams)|檢索渲染目標的當前文本呈現選項。|
|[CRender 目標::取得轉換](#gettransform)|將指定的轉換應用於渲染目標,替換現有變換。 所有後續繪圖操作都發生在轉換的空間中。|
|[CRender 目標::支援](#issupported)|指示成成目標是否支援指定屬性|
|[CRender 目標::有效](#isvalid)|檢查資源有效性|
|[CRender目標::P操作軸對齊的剪輯](#popaxisalignedclip)|從渲染目標中刪除最後一個軸對齊的剪輯。 調用此方法后,剪輯不再應用於後續繪圖操作。|
|[CRender目標::PopLayer](#poplayer)|停止將繪圖操作重定向到上次 PushLayer 調用指定的圖層。|
|[CRender目標::PushAxis對齊的剪輯](#pushaxisalignedclip)|從渲染目標中刪除最後一個軸對齊的剪輯。 調用此方法后,剪輯不再應用於後續繪圖操作。|
|[CRender目標::P](#pushlayer)|將指定的圖層添加到渲染目標,以便它接收所有後續繪圖操作,直到調用 PopLayer。|
|[CRender 目標::恢復繪製狀態](#restoredrawingstate)|將渲染目標的繪製狀態設置為指定的 ID2D1 繪圖 StateBlock 的繪圖狀態。|
|[CRender 目標::儲存繪製狀態](#savedrawingstate)|將目前繪圖狀態保存到指定的 ID2D1 繪圖狀態區塊。|
|[CRender目標::設定反鋸齒模式](#setantialiasmode)|設置渲染目標的防鋸齒模式。 防鋸齒模式適用於所有後續繪圖操作,不包括文本和字形繪圖操作。|
|[CRender 目標::SetDpi](#setdpi)|設置渲染目標每英寸 (DPI) 的點數。|
|[CRender 目標::設定標記](#settags)|指定後續繪圖操作的標籤。|
|[CRender 目標::設定文字反鋸齒模式](#settextantialiasmode)|指定用於後續文本和字形繪圖操作的防鋸齒模式。|
|[CRender 目標::設定文字呈現參數](#settextrenderingparams)|指定要應用於所有後續文本和字形繪圖操作的文本呈現選項。|
|[CRender 目標::設定轉換](#settransform)|已多載。 將指定的轉換應用於渲染目標,替換現有變換。 所有後續繪圖操作都發生在轉換的空間中。|

### <a name="protected-methods"></a>保護方法

|名稱|描述|
|----------|-----------------|
|[CRender目標::驗證資源](#verifyresource)|驗證 CD2D 資源物件的有效性;如果物件不存在,則創建該物件。|

### <a name="public-operators"></a>公用運算子

|名稱|描述|
|----------|-----------------|
|[CRender目標::操作員 ID2D1RenderTarget*](#operator_id2d1rendertarget_star)|傳回 ID2D1RenderTarget 介面|

### <a name="protected-data-members"></a>受保護的資料成員

|名稱|描述|
|----------|-----------------|
|[CRender目標::m_lstResources](#m_lstresources)|指向 CD2DResource 物件的指標清單。|
|[CRender 目標::m_pRenderTarget](#m_prendertarget)|指向 ID2D1RenderTarget 物件的指標。|
|[CRender目標:m_pTextFormatDefault](#m_ptextformatdefault)|包含預設文字格式的 CD2DText 格式物件的指標。|

## <a name="inheritance-hierarchy"></a>繼承階層架構

[CObject](../../mfc/reference/cobject-class.md)

[CRender 目標](../../mfc/reference/crendertarget-class.md)

## <a name="requirements"></a>需求

**標題:** afxrendertarget.h

## <a name="crendertargetcrendertarget"></a><a name="_dtorcrendertarget"></a>CRender 目標::*CRender目標

解構函式。 銷毀渲染目標物件時調用。

```
virtual ~CRenderTarget();
```

## <a name="crendertargetattach"></a><a name="attach"></a>CRender 目標::附加

將現有渲染目標介面附加到物件

```
void Attach(ID2D1RenderTarget* pRenderTarget);
```

### <a name="parameters"></a>參數

*pRender 目標*<br/>
現有渲染目標介面。 無法為 NULL

## <a name="crendertargetbegindraw"></a><a name="begindraw"></a>CRender 目標::開始繪製

在此渲染目標上啟動繪圖。

```
void BeginDraw();
```

## <a name="crendertargetclear"></a><a name="clear"></a>CRender 目標::清除

將繪圖區域清除為指定顏色。

```
void Clear(D2D1_COLOR_F color);
```

### <a name="parameters"></a>參數

*顏色*<br/>
清除繪圖區域的顏色。

## <a name="crendertargetcolorref_to_d2dcolor"></a><a name="colorref_to_d2dcolor"></a>CRender目標::COLORREF_TO_D2DCOLOR

將 GDI 顏色和 alpha 值轉換為D2D1_COLOR_F物件。

```
static D2D1_COLOR_F COLORREF_TO_D2DCOLOR(
    COLORREF color,
    int nAlpha = 255);
```

### <a name="parameters"></a>參數

*顏色*<br/>
RGB 值。

*n阿爾法*

### <a name="return-value"></a>傳回值

D2D1_COLOR_F值。

## <a name="crendertargetcreatecompatiblerendertarget"></a><a name="createcompatiblerendertarget"></a>CRender 目標::建立相容渲染目標

創建一個新的位圖渲染目標,用於與當前渲染目標相容的中間螢幕外繪圖期間。

```
BOOL CreateCompatibleRenderTarget(
    CBitmapRenderTarget& bitmapTarget,
    CD2DSizeF sizeDesired = CD2DSizeF(0., 0.),
    CD2DSizeU sizePixelDesired = CD2DSizeU(0, 0),
    D2D1_PIXEL_FORMAT* desiredFormat = NULL,
    D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS options = D2D1_COMPATIBLE_RENDER_TARGET_OPTIONS_NONE);
```

### <a name="parameters"></a>參數

*點映射目標*<br/>
當此方法返回時,包含指向新位圖渲染目標的指標的位址。 此參數傳遞時未經初始化。

*大小所需*<br/>
如果新渲染目標應不同於原始渲染目標或 NULL,則新渲染目標在設備無關圖元中所需的大小。 如需詳細資訊，請參閱＜備註＞一節。

*大小圖元所需*<br/>
如果新渲染目標應不同於原始渲染目標或 NULL,則新渲染目標的所需大小(以像素為單位)。 如需詳細資訊，請參閱＜備註＞一節。

*所需的格式*<br/>
新渲染目標(NULL)所需的圖元格式和 Alpha 模式。 如果圖元格式設置為DXGI_FORMAT_UNKNOWN,或者此參數為空,則新的渲染目標使用與原始渲染目標相同的圖元格式。 如果 alpha 模式為 D2D1_ALPHA_MODE_UNKNOWN 或此參數為 NULL,則新渲染目標的 Alpha 模式預設為 D2D1_ALPHA_MODE_PREMULTIPLIED。 有關支援的圖元格式的資訊,請參閱支援的圖元格式和 Alpha 模式。

*選項*<br/>
指定新渲染目標是否與 GDI 相容的值。

### <a name="return-value"></a>傳回值

如果該方法成功,它將返回 TRUE。 否則,它將返回 FALSE。

## <a name="crendertargetcrendertarget"></a><a name="crendertarget"></a>CRender 目標::CRender目標

構造 CRenderTarget 物件。

```
CRenderTarget();
```

## <a name="crendertargetdestroy"></a><a name="destroy"></a>CRender目標::D

刪除一個或多個資源

```
BOOL Destroy(BOOL bDeleteResources = TRUE);
```

### <a name="parameters"></a>參數

*b 移除資源*<br/>
如果 bDeleteResources 為 TRUE,則位於m_lstResources中的所有資源將自動銷毀。

### <a name="return-value"></a>傳回值

如果該方法成功,它將返回 TRUE。 否則,它將返回 FALSE

## <a name="crendertargetdetach"></a><a name="detach"></a>CRender目標::D

從物件分離成成目標介面

```
ID2D1RenderTarget* Detach ();
```

### <a name="return-value"></a>傳回值

指向分離的渲染目標介面的指標。

## <a name="crendertargetdrawbitmap"></a><a name="drawbitmap"></a>CRender 目標::D原始點陣圖

繪製指定的 IDWriteTextLayout 物件描述的格式化文字。

```
void DrawBitmap(
    CD2DBitmap* pBitmap,
    const CD2DRectF& rectDest,
    float fOpacity = 1.0,
    D2D1_BITMAP_INTERPOLATION_MODE interpolationMode = D2D1_BITMAP_INTERPOLATION_MODE_LINEAR,
    const CD2DRectF* pRectSrc = NULL);
```

### <a name="parameters"></a>參數

*pBitmap*<br/>
要渲染的點陣圖。

*整流*<br/>
以渲染目標座標空間中的與設備無關的圖元表示繪製位圖的區域的大小和位置。 如果矩形順序未良好,則不繪製任何內容,但渲染目標不會進入錯誤狀態。

*不一部分性*<br/>
0.0f 和 1.0f 之間的值(包括)指定要應用於位圖的不一元值;此值根據位圖內容的 Alpha 值相乘。

*插值模式*<br/>
如果繪製操作縮放或旋轉位圖,則要使用的插值模式。

*普雷茨克*<br/>
點陣圖座標空間中與設備無關的圖元的大小和位置,用於繪製位圖內區域的大小和位置。

## <a name="crendertargetdrawellipse"></a><a name="drawellipse"></a>CRender目標::D原始橢圓

使用指定的描邊樣式繪製指定橢圓的輪廓。

```
void DrawEllipse(
    const CD2DEllipse& ellipse,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*ellipse*<br/>
橢圓的位置和半徑,以與設備無關的像素進行繪製。

*pBrush*<br/>
用於繪製橢圓輪廓的畫筆。

*f筆劃寬度*<br/>
橢圓筆畫的厚度。 描邊以橢圓的輪廓為中心。

*筆劃樣式*<br/>
應用於橢圓輪廓的描邊樣式,或用於繪製實心描邊的 NULL 的描邊樣式。

## <a name="crendertargetdrawgeometry"></a><a name="drawgeometry"></a>CRender目標::D原始幾何

使用指定的描邊樣式繪製指定幾何體的輪廓。

```
void DrawGeometry(
    CD2DGeometry* pGeometry,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*p幾何學*<br/>
要繪製的幾何體。

*pBrush*<br/>
用於繪製幾何圖形描邊的畫筆。

*f筆劃寬度*<br/>
幾何圖形的描邊的厚度。 描邊以幾何體的輪廓為中心。

*筆劃樣式*<br/>
應用於幾何體的輪廓的描邊樣式,或用於繪製實線描邊的 NULL。

## <a name="crendertargetdrawglyphrun"></a><a name="drawglyphrun"></a>CRender 目標::D原始字形Run

繪製指定的字形。

```
void DrawGlyphRun(
    const CD2DPointF& ptBaseLineOrigin,
    const DWRITE_GLYPH_RUN& glyphRun,
    CD2DBrush* pForegroundBrush,
    DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL);
```

### <a name="parameters"></a>參數

*點線原點*<br/>
字形基線的原點(以與設備無關的圖元)。

*字形Run*<br/>
要渲染的字形。

*p前景刷*<br/>
用於繪製指定字形的畫筆。

*測量模式*<br/>
指示字形指標在設置格式時如何使用其度量來測量文本的值。 默認值為DWRITE_MEASURING_MODE_NATURAL。

## <a name="crendertargetdrawline"></a><a name="drawline"></a>CRender目標::D原始線

使用指定的描邊樣式在指定點之間繪製一條線。

```
void DrawLine(
    const CD2DPointF& ptFrom,
    const CD2DPointF& ptTo,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*pt 從*<br/>
線的起點,以與設備無關的圖元。

*ptto*<br/>
線的終點,以與設備無關的圖元。

*pBrush*<br/>
用於繪製線條筆劃的畫筆。

*f筆劃寬度*<br/>
大於或等於 0.0f 的值,用於指定筆劃的寬度。 如果未指定此參數,則預設為 1.0f。 描邊位於線條上。

*筆劃樣式*<br/>
要繪製的描邊樣式,或要繪製實線的 NULL 樣式。

## <a name="crendertargetdrawrectangle"></a><a name="drawrectangle"></a>CRender 目標::D原始矩形

繪製具有指定尺寸和描邊樣式的矩形的輪廓。

```
void DrawRectangle(
    const CD2DRectF& rectangle,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*矩形*<br/>
以與裝置的像素繪製的矩形的大小

*pBrush*<br/>
畫出矩形描邊的筆刷

*f筆劃寬度*<br/>
大於或等於 0.0f 的值,用於指定矩形筆劃的寬度。 描邊以矩形的輪廓為中心。

*筆劃樣式*<br/>
要繪製的描邊樣式,或用於繪製實心描邊的 NULL 樣式。

## <a name="crendertargetdrawroundedrectangle"></a><a name="drawroundedrectangle"></a>CRender目標::D原始圓角矩形

使用指定的描邊樣式繪製指定圓角矩形的輪廓。

```
void DrawRoundedRectangle(
    const CD2DRoundedRect& rectRounded,
    CD2DBrush* pBrush,
    FLOAT fStrokeWidth = 1.0,
    ID2D1StrokeStyle* strokeStyle = NULL);
```

### <a name="parameters"></a>參數

*整圓*<br/>
要繪製的圓形矩形的尺寸(以與設備無關的圖元)。

*pBrush*<br/>
用於繪製圓角矩形輪廓的畫筆。

*f筆劃寬度*<br/>
圓角矩形筆劃的寬度。 描邊以圓角矩形的輪廓為中心。 默認值為 1.0f。

*筆劃樣式*<br/>
圓角矩形描邊或 NULL 的樣式以繪製實心筆劃。 預設值是 NULL。

## <a name="crendertargetdrawtext"></a><a name="drawtext"></a>CRenderTarget::D原始文本

使用 IDWriteTextFormat 物件提供的格式資訊繪製指定的文本。

```
void DrawText(
    const CString& strText,
    const CD2DRectF& rectangle,
    CD2DBrush* pForegroundBrush,
    CD2DTextFormat* textFormat = NULL,
    D2D1_DRAW_TEXT_OPTIONS options = D2D1_DRAW_TEXT_OPTIONS_NONE,
    DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL);
```

### <a name="parameters"></a>參數

*斯特文字*<br/>
指向要繪製的 Unicode 字元陣列的指標。

*矩形*<br/>
繪製文字的區域的大小和位置。

*p前景刷*<br/>
用來繪製文字的筆刷。

*textFormat*<br/>
描述要繪製的文字的格式設定詳細資訊的物件,如字體、字體大小和流方向。

*選項*<br/>
指示是否應將文本捕捉到像素邊界以及是否應將文字剪切到佈局矩形的值。 默認值為D2D1_DRAW_TEXT_OPTIONS_NONE,表示文本應捕捉到像素邊界,不應將其剪切到佈局矩形。

*測量模式*<br/>
指示字形指標在設置格式時如何使用其度量來測量文本的值。 默認值為DWRITE_MEASURING_MODE_NATURAL。

## <a name="crendertargetdrawtextlayout"></a><a name="drawtextlayout"></a>CRender 目標::D原始文字佈局

繪製指定的 IDWriteTextLayout 物件描述的格式化文字。

```
void DrawTextLayout(
    const CD2DPointF& ptOrigin,
    CD2DTextLayout* textLayout,
    CD2DBrush* pBrushForeground,
    D2D1_DRAW_TEXT_OPTIONS options = D2D1_DRAW_TEXT_OPTIONS_NONE);
```

### <a name="parameters"></a>參數

*ptOrigin*<br/>
以與設備無關的圖元描述的點,在該點中繪製文本佈局描述的文本的左上角。

*文字佈局*<br/>
要繪製的格式文字。 將忽略任何不從 ID2D1Resource 繼承的繪圖效果。 如果有從 ID2D1Resource 繼承的不是畫筆的繪圖效果,則此方法將失敗,渲染目標將置於錯誤狀態。

*pBrush前景*<br/>
用於在 textLayout 中繪製尚未將畫筆作為繪圖效果關聯的畫筆的筆刷筆(由 IDWriteTextLayout::Set 繪圖效果方法指定)。

*選項*<br/>
指示是否應將文本捕捉到像素邊界以及是否應將文字剪切到佈局矩形的值。 默認值為D2D1_DRAW_TEXT_OPTIONS_NONE,表示文本應捕捉到像素邊界,不應將其剪切到佈局矩形。

## <a name="crendertargetenddraw"></a><a name="enddraw"></a>CRender 目標::結束繪製

結束渲染目標的繪圖操作,並指示當前錯誤狀態和關聯的標記。

```
HRESULT EndDraw();
```

### <a name="return-value"></a>傳回值

如果方法成功，它會傳回 S_OK。 否則,它將返回一個HRESULT錯誤代碼。

## <a name="crendertargetfillellipse"></a><a name="fillellipse"></a>CRender目標::填充橢圓

繪製指定橢圓的內部。

```
void FillEllipse(
    const CD2DEllipse& ellipse,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>參數

*ellipse*<br/>
要繪製的橢圓的位置和半徑(以與設備無關的圖元表示)。

*pBrush*<br/>
用於繪製橢圓內部的畫筆。

## <a name="crendertargetfillgeometry"></a><a name="fillgeometry"></a>CRender 目標::填充幾何

繪製指定幾何體的內部。

```
void FillGeometry(
    CD2DGeometry* pGeometry,
    CD2DBrush* pBrush,
    CD2DBrush* pOpacityBrush = NULL);
```

### <a name="parameters"></a>參數

*p幾何學*<br/>
要繪製的幾何體。

*pBrush*<br/>
用於繪製幾何體內部的畫筆。

*pOpcityBrush*<br/>
應用於幾何體的不一視點;NULL,無不一視性蒙版。 如果指定了不全性蒙版(不加速度器參數),則畫筆必須是 ID2D1BitmapBrush,其 x 和 y 擴展模式設置為D2D1_EXTEND_MODE_CLAMP。 如需詳細資訊，請參閱＜備註＞一節。

## <a name="crendertargetfillmesh"></a><a name="fillmesh"></a>CRender 目標::填充格格

繪製指定網格的內部。

```
void FillMesh(
    CD2DMesh* pMesh,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>參數

*pMesh*<br/>
要繪製的網格。

*pBrush*<br/>
用於繪製網格的畫筆。

## <a name="crendertargetfillopacitymask"></a><a name="fillopacitymask"></a>CRender 目標::填充不一次蒙版

將指定點陣圖描述的不平性蒙版應用於畫筆,並使用該畫筆繪製渲染目標的區域。

```
void FillOpacityMask(
    CD2DBitmap* pOpacityMask,
    CD2DBrush* pBrush,
    D2D1_OPACITY_MASK_CONTENT content,
    const CD2DRectF& rectDest,
    const CD2DRectF& rectSrc);
```

### <a name="parameters"></a>參數

*popacity Mask*<br/>
要繪製的橢圓的位置和半徑(以與設備無關的圖元表示)。

*pBrush*<br/>
用於繪製目標矩形指定的渲染目標的區域的畫筆。

*內容*<br/>
不一元蒙版包含的內容類型。 該值用於確定混合不相加性蒙版的顏色空間。

*整流*<br/>
要繪製的渲染目標區域(以與設備無關的圖元)。

*雷克斯爾*<br/>
位圖的區域,用於與設備無關的圖元中的不一圖蒙版。

## <a name="crendertargetfillrectangle"></a><a name="fillrectangle"></a>CRender 目標::填充矩形

繪製指定矩形的內部。

```
void FillRectangle(
    const CD2DRectF& rectangle,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>參數

*矩形*<br/>
要繪製的矩形的尺寸(以與設備無關的圖元)。

*pBrush*<br/>
用於繪製矩形內部的畫筆。

## <a name="crendertargetfillroundedrectangle"></a><a name="fillroundedrectangle"></a>CRender 目標::填充四捨五入矩形

繪製指定圓角矩形的內部。

```
void FillRoundedRectangle(
    const CD2DRoundedRect& rectRounded,
    CD2DBrush* pBrush);
```

### <a name="parameters"></a>參數

*整圓*<br/>
要繪製的圓形矩形的尺寸(以設備無關的圖元)。

*pBrush*<br/>
用於繪製圓角矩形內部的畫筆。

## <a name="crendertargetflush"></a><a name="flush"></a>CRender 目標::刷新

執行所有掛起的圖形命令。

```
void Flush(
    D2D1_TAG* tag1 = NULL,
    D2D1_TAG* tag2 = NULL);
```

### <a name="parameters"></a>參數

*標籤1*<br/>
包含導致錯誤的繪圖操作的標記,如果沒有錯誤,則包含 0。 此參數傳遞時未經初始化。

*tag2*<br/>
包含導致錯誤的繪圖操作的標記,如果沒有錯誤,則包含 0。 此參數傳遞時未經初始化。

## <a name="crendertargetgetantialiasmode"></a><a name="getantialiasmode"></a>CRender目標::獲取安蒂利亞模式

檢索非文字繪圖操作的當前反鋸齒模式。

```
D2D1_ANTIALIAS_MODE GetAntialiasMode() const;
```

### <a name="return-value"></a>傳回值

當前非文字繪圖操作的防鋸齒模式。

## <a name="crendertargetgetdpi"></a><a name="getdpi"></a>CRender目標::GetDpi

傳回成目標的點/英吋 (DPI)

```
CD2DSizeF GetDpi() const;
```

### <a name="return-value"></a>傳回值

渲染目標的點/英吋 (DPI)。

## <a name="crendertargetgetmaximumbitmapsize"></a><a name="getmaximumbitmapsize"></a>CRender 目標::取得最大位圖大小

取得成一個一個位圖維度的最大大小(以與裝置相關的單位(像素)

```
UINT32 GetMaximumBitmapSize() const;
```

### <a name="return-value"></a>傳回值

成成目標支援的任何位圖維度的最大大小(以像素為單位)

## <a name="crendertargetgetpixelformat"></a><a name="getpixelformat"></a>CRender 目標::取得像素格式

以基礎的像素格式和 Alpha 模式

```
D2D1_PIXEL_FORMAT GetPixelFormat() const;
```

### <a name="return-value"></a>傳回值

成成目標的像素格式和 Alpha 模式

## <a name="crendertargetgetpixelsize"></a><a name="getpixelsize"></a>CRender 目標::取得像素大小

以裝置像素為單位傳回成目標大小

```
CD2DSizeU GetPixelSize() const;
```

### <a name="return-value"></a>傳回值

以裝置像素為單位的渲染目標大小

## <a name="crendertargetgetrendertarget"></a><a name="getrendertarget"></a>CRender目標::取得渲染目標

傳回 ID2D1RenderTarget 介面

```
ID2D1RenderTarget* GetRenderTarget();
```

### <a name="return-value"></a>傳回值

如果物件尚未初始化,則指向 ID2D1RenderTarget 介面或 NULL 的指標。

## <a name="crendertargetgetsize"></a><a name="getsize"></a>CRender 目標::取得大小

傳回與裝置的像素的成成目標的大小

```
CD2DSizeF GetSize() const;
```

### <a name="return-value"></a>傳回值

以與裝置的像素表示成成目標的目前大小

## <a name="crendertargetgettags"></a><a name="gettags"></a>CRender 目標::取得標記

獲取後續繪圖操作的標籤。

```
void GetTags(
    D2D1_TAG* tag1 = NULL,
    D2D1_TAG* tag2 = NULL) const;
```

### <a name="parameters"></a>參數

*標籤1*<br/>
包含後續繪圖操作的第一個標籤。 此參數傳遞時未經初始化。 如果指定 NULL,則不為此參數檢索任何值。

*tag2*<br/>
包含後續繪圖操作的第二個標籤。 此參數傳遞時未經初始化。 如果指定 NULL,則不為此參數檢索任何值。

## <a name="crendertargetgettextantialiasmode"></a><a name="gettextantialiasmode"></a>CRender 目標::取得文字Antialias模式

獲取文本和字形繪圖操作的當前防鋸齒模式。

```
D2D1_TEXT_ANTIALIAS_MODE GetTextAntialiasMode() const;
```

### <a name="return-value"></a>傳回值

當前用於文本和字形繪圖操作的防鋸齒模式。

## <a name="crendertargetgettextrenderingparams"></a><a name="gettextrenderingparams"></a>CRender 目標::取得文字的成參數

檢索渲染目標的當前文本呈現選項。

```
void GetTextRenderingParams(IDWriteRenderingParams** textRenderingParams);
```

### <a name="parameters"></a>參數

*文字成參數*<br/>
當此方法返回時,文本 RenderParams 包含指向渲染目標的當前文本呈現選項的指標的位址。

## <a name="crendertargetgettransform"></a><a name="gettransform"></a>CRender 目標::取得轉換

獲取渲染目標的當前變換。

```
void GetTransform(D2D1_MATRIX_3X2_F* transform);
```

### <a name="parameters"></a>參數

*變換*<br/>
當返回時,包含渲染目標的當前變換。 此參數傳遞時未經初始化。

## <a name="crendertargetissupported"></a><a name="issupported"></a>CRender 目標::支援

指示成成目標是否支援指定屬性

```
BOOL IsSupported(const D2D1_RENDER_TARGET_PROPERTIES& renderTargetProperties) const;
```

### <a name="parameters"></a>參數

*成成目標屬性*<br/>
測試的渲染目標屬性

### <a name="return-value"></a>傳回值

如果指定的渲染目標屬性受此渲染目標支援,則為 TRUE;否則,FALSE

## <a name="crendertargetisvalid"></a><a name="isvalid"></a>CRender 目標::有效

檢查資源有效性

```
BOOL IsValid() const;
```

### <a name="return-value"></a>傳回值

如果資源有效,則為 TRUE;否則 FALSE。

## <a name="crendertargetm_lstresources"></a><a name="m_lstresources"></a>CRender目標::m_lstResources

指向 CD2DResource 物件的指標清單。

```
CObList m_lstResources;
```

## <a name="crendertargetm_prendertarget"></a><a name="m_prendertarget"></a>CRender 目標::m_pRenderTarget

指向 ID2D1RenderTarget 物件的指標。

```
ID2D1RenderTarget* m_pRenderTarget;
```

## <a name="crendertargetm_ptextformatdefault"></a><a name="m_ptextformatdefault"></a>CRender目標:m_pTextFormatDefault

包含預設文字格式的 CD2DText 格式物件的指標。

```
CD2DTextFormat* m_pTextFormatDefault;
```

## <a name="crendertargetoperator-id2d1rendertarget"></a><a name="operator_id2d1rendertarget_star"></a>CRender目標::操作員 ID2D1RenderTarget*

傳回 ID2D1RenderTarget 介面

```
operator ID2D1RenderTarget*();
```

### <a name="return-value"></a>傳回值

如果物件尚未初始化,則指向 ID2D1RenderTarget 介面或 NULL 的指標。

## <a name="crendertargetpopaxisalignedclip"></a><a name="popaxisalignedclip"></a>CRender目標::P操作軸對齊的剪輯

從渲染目標中刪除最後一個軸對齊的剪輯。 調用此方法后,剪輯不再應用於後續繪圖操作。

```
void PopAxisAlignedClip();
```

## <a name="crendertargetpoplayer"></a><a name="poplayer"></a>CRender目標::PopLayer

停止將繪圖操作重定向到上次 PushLayer 調用指定的圖層。

```
void PopLayer();
```

## <a name="crendertargetpushaxisalignedclip"></a><a name="pushaxisalignedclip"></a>CRender目標::PushAxis對齊的剪輯

從渲染目標中刪除最後一個軸對齊的剪輯。 調用此方法后,剪輯不再應用於後續繪圖操作。

```
void PushAxisAlignedClip(
    const CD2DRectF& rectClip,
    D2D1_ANTIALIAS_MODE mode = D2D1_ANTIALIAS_MODE_PER_PRIMITIVE);
```

### <a name="parameters"></a>參數

*整流*<br/>
剪輯區域的大小和位置,以與設備無關的圖元。

*模式*<br/>
用於繪製具有子像素邊界的剪輯矩形的邊緣,並將剪輯與場景內容混合的防鋸齒模式。 在調用 PopAxis 對齊Clip 方法時,將執行一次混合,並且不適用於圖層中的每個基元。

## <a name="crendertargetpushlayer"></a><a name="pushlayer"></a>CRender目標::P

將指定的圖層添加到渲染目標,以便它接收所有後續繪圖操作,直到調用 PopLayer。

```
void PushLayer(
    const D2D1_LAYER_PARAMETERS& layerParameters,
    CD2DLayer& layer);
```

### <a name="parameters"></a>參數

*層次參數*<br/>
圖層的內容邊界、幾何蒙版、不一視情況、不一視情況蒙版和反鋸齒選項。

*圖層 (layer)*<br/>
接收後續繪圖操作的圖層。

## <a name="crendertargetrestoredrawingstate"></a><a name="restoredrawingstate"></a>CRender 目標::恢復繪製狀態

將渲染目標的繪製狀態設置為指定的 ID2D1 繪圖 StateBlock 的繪圖狀態。

```
void RestoreDrawingState(ID2D1DrawingStateBlock& drawingStateBlock);
```

### <a name="parameters"></a>參數

*繪圖狀態塊*<br/>
渲染目標的新繪圖狀態。

## <a name="crendertargetsavedrawingstate"></a><a name="savedrawingstate"></a>CRender 目標::儲存繪製狀態

將目前繪圖狀態保存到指定的 ID2D1 繪圖狀態區塊。

```
void SaveDrawingState(ID2D1DrawingStateBlock& drawingStateBlock) const;
```

### <a name="parameters"></a>參數

*繪圖狀態塊*<br/>
當此方法返回時,包含渲染目標的當前繪圖狀態。 在將此參數傳遞給方法之前,必須初始化此參數。

## <a name="crendertargetsetantialiasmode"></a><a name="setantialiasmode"></a>CRender目標::設定反鋸齒模式

設置渲染目標的防鋸齒模式。 防鋸齒模式適用於所有後續繪圖操作,不包括文本和字形繪圖操作。

```
void SetAntialiasMode(D2D1_ANTIALIAS_MODE antialiasMode);
```

### <a name="parameters"></a>參數

*反鋸齒模式*<br/>
用於未來繪圖操作的防鋸齒模式。

## <a name="crendertargetsetdpi"></a><a name="setdpi"></a>CRender 目標::SetDpi

設置渲染目標每英寸 (DPI) 的點數。

```
void SetDpi(const CD2DSizeF& sizeDPI);
```

### <a name="parameters"></a>參數

*大小DPI*<br/>
大於或等於零的值,用於指定渲染目標的水準/垂直DPI。

## <a name="crendertargetsettags"></a><a name="settags"></a>CRender 目標::設定標記

指定後續繪圖操作的標籤。

```
void SetTags(
    D2D1_TAG tag1,
    D2D1_TAG tag2);
```

### <a name="parameters"></a>參數

*標籤1*<br/>
應用於後續繪圖操作的標籤。

*tag2*<br/>
應用於後續繪圖操作的標籤。

## <a name="crendertargetsettextantialiasmode"></a><a name="settextantialiasmode"></a>CRender 目標::設定文字反鋸齒模式

指定用於後續文本和字形繪圖操作的防鋸齒模式。

```
void SetTextAntialiasMode(D2D1_TEXT_ANTIALIAS_MODE textAntialiasMode);
```

### <a name="parameters"></a>參數

*文字Antialiasmode*<br/>
用於後續文本和字形繪圖操作的防鋸齒模式。

## <a name="crendertargetsettextrenderingparams"></a><a name="settextrenderingparams"></a>CRender 目標::設定文字呈現參數

指定要應用於所有後續文本和字形繪圖操作的文本呈現選項。

```
void SetTextRenderingParams(IDWriteRenderingParams* textRenderingParams = NULL);
```

### <a name="parameters"></a>參數

*文字成參數*<br/>
要應用於所有後續文本和字形繪圖操作的文本呈現選項;NULL 以清除目前文字呈現選項。

## <a name="crendertargetsettransform"></a><a name="settransform"></a>CRender 目標::設定轉換

將指定的轉換應用於渲染目標,替換現有變換。 所有後續繪圖操作都發生在轉換的空間中。

```
void SetTransform(const D2D1_MATRIX_3X2_F* transform);
void SetTransform(const D2D1_MATRIX_3X2_F& transform);
```

### <a name="parameters"></a>參數

*變換*<br/>
要應用於渲染目標的轉換。

## <a name="crendertargetverifyresource"></a><a name="verifyresource"></a>CRender目標::驗證資源

驗證 CD2D 資源物件的有效性;如果物件不存在,則創建該物件。

```
BOOL VerifyResource(CD2DResource* pResource);
```

### <a name="parameters"></a>參數

*p資源*<br/>
指向 CD2D 資源物件的指標。

### <a name="return-value"></a>傳回值

TRUE 是有效的物件;如果有效,則為物件。否則 FALSE。

## <a name="see-also"></a>另請參閱

[類別](../../mfc/reference/mfc-classes.md)
