---
title: "圖形診斷的運作方式 | Microsoft Docs"
ms.custom: ""
ms.date: "12/15/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 2ae14497-c77c-4399-bc0c-595caba23656
caps.latest.revision: 2
caps.handback.revision: 2
ms.author: "mithom"
manager: "douge"
---
# 圖形診斷的運作方式
在此插入簡介。  
  
## 圖形診斷的運作方式  
 若要使用圖形診斷，您必須先在程式執行時記錄與應用程式如何使用 Direct3D 應用程式開發介面的資訊，然後再檢查所記錄的行為。  針對指定的框架，記錄的資訊包含 API 呼叫 \(例如清除螢幕、繪製幾何、分派計算著色器或變更圖形裝置狀態\) 和其引數，以及間接參考的緩衝區和物件的副本。  此外，會先記錄與設定及初始化相關的 API 呼叫，再呈現框架。  記錄的資訊會寫入「*圖形記錄*」\(Graphics Log\) \(.vsglog\) 檔案中。  
  
 您會在開發電腦、遠端電腦或裝置上播放圖形事件以重新建立圖形記錄中記錄的轉譯行為。  播放電腦可以與原本擷取圖形記錄相同的電腦或裝置，或是不同的電腦或裝置。  大部分的播放功能會使用播放電腦的圖形硬體會來播放圖形事件，但是，如果使用的是 HLSL 偵錯工具，則著色器程式碼一定會使用 CPU 上的模擬 GPU 來播放圖形事件。  無論播放電腦的圖形硬體是否支援硬體偵錯，使用模擬的 GPU 可透過著色器逐步執行程式碼、檢查變數及使用其他常見的偵錯功能。  
  
> [!NOTE]
>  雖然圖形記錄會擷取內部的大部分相關資訊，不過若要完整使用某些圖形診斷功能，則還需要其他資訊。  例如，若要充分利用圖形呼叫堆疊功能，您還必須提供程式資料庫 \(.pdb\) 檔案和應用程式的原始程式碼。  若要偵錯 HLSL 著色器原始程式碼，您必須提供著色器原始程式碼  \(如果著色器是使用 D3D11.1 著色器編譯器進行編譯，而且已啟用偵錯資訊，則會在擷取時將著色器原始程式碼內嵌在圖形記錄中\)。  
  
> [!NOTE]
>  因為可能無法在舊版 Windows 或 DirectX 中使用特定 API，所以您無法在不支援這些 API 的播放電腦上播放擷取這些 API 呼叫的圖形記錄。  
  
### 圖形記錄  
 圖形記錄包含一個或多個擷取自執行中 DirectX 圖形應用程式的框架。  由於圖形記錄是獨立的 \(Self\-Contained\)，因此沒有外部資訊或參考，也可以在稍後重新建立這些框架。  這表示您可以與其他開發人員共用圖形記錄、在不同電腦上檢查問題，以及檢查舊的圖形記錄，即使在開發時已變更模型和紋理。  您也可以同時載入多個圖形記錄 \(.vsglog\)，以比較資料和呈現結果。  
  
##### 開啟圖形記錄 \(vsglog\) 檔  
  
1.  在 [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] 的功能表列上，選擇 \[**檔案**\]、\[**開啟**\]、\[**檔案**\]。  \[**開啟檔案**\] 對話方塊隨即出現。  
  
2.  指定圖形記錄 \(.vsglog\) 開啟的檔案，然後選取 \[**開啟**\] 按鈕。  
  
> [!NOTE]
>  您可以擷取、修改及儲存圖形中的網狀結構和紋理，方法是使用 [!INCLUDE[vsprvs](../assembler/masm/includes/vsprvs_md.md)] 的圖形工具。  不過，這些修改不會影響圖形記錄的內容。  如需這些圖形工具的相關資訊，請參閱[使用 3D 資產來打造遊戲和應用程式](../Topic/Working%20with%203-D%20Assets%20for%20Games%20and%20Apps.md)。